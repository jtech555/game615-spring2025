{"version":3,"file":"static/js/main.d2b92e6c.js","mappings":";sCAcA,IAAIA,EAAYC,EAAQ,KACtBC,EAAQD,EAAQ,IAChBE,EAAWF,EAAQ,KACrB,SAASG,EAAuBC,GAC9B,IAAIC,EAAM,4BAA8BD,EACxC,GAAI,EAAIE,UAAUC,OAAQ,CACxBF,GAAO,WAAaG,mBAAmBF,UAAU,IACjD,IAAK,IAAIG,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IACpCJ,GAAO,WAAaG,mBAAmBF,UAAUG,GACrD,CACA,MACE,yBACAL,EACA,WACAC,EACA,gHAEJ,CACA,SAASK,EAAiBC,GACxB,SACGA,GACA,IAAMA,EAAKC,UAAY,IAAMD,EAAKC,UAAY,KAAOD,EAAKC,SAE/D,CACA,IAAIC,EAA4BC,OAAOC,IAAI,iBACzCC,EAAqBF,OAAOC,IAAI,8BAChCE,EAAoBH,OAAOC,IAAI,gBAC/BG,EAAsBJ,OAAOC,IAAI,kBACjCI,EAAyBL,OAAOC,IAAI,qBACpCK,EAAsBN,OAAOC,IAAI,kBACjCM,EAAsBP,OAAOC,IAAI,kBACjCO,EAAsBR,OAAOC,IAAI,kBACjCQ,EAAqBT,OAAOC,IAAI,iBAChCS,EAAyBV,OAAOC,IAAI,qBACpCU,EAAsBX,OAAOC,IAAI,kBACjCW,EAA2BZ,OAAOC,IAAI,uBACtCY,EAAkBb,OAAOC,IAAI,cAC7Ba,EAAkBd,OAAOC,IAAI,cAC/BD,OAAOC,IAAI,eACXD,OAAOC,IAAI,0BACX,IAAIc,EAAuBf,OAAOC,IAAI,mBACtCD,OAAOC,IAAI,uBACXD,OAAOC,IAAI,wBACX,IAAIe,EAA4BhB,OAAOC,IAAI,6BACzCgB,EAAwBjB,OAAOkB,SACjC,SAASC,EAAcC,GACrB,OAAI,OAASA,GAAiB,kBAAoBA,EAAsB,KAIjE,oBAHPA,EACGH,GAAyBG,EAAcH,IACxCG,EAAc,eAC6BA,EAAgB,IAC/D,CACA,IAAIC,EAAyBrB,OAAOC,IAAI,0BACxC,SAASqB,EAAyBC,GAChC,GAAI,MAAQA,EAAM,OAAO,KACzB,GAAI,oBAAsBA,EACxB,OAAOA,EAAKC,WAAaH,EACrB,KACAE,EAAKE,aAAeF,EAAKG,MAAQ,KACvC,GAAI,kBAAoBH,EAAM,OAAOA,EACrC,OAAQA,GACN,KAAKnB,EACH,MAAO,WACT,KAAKD,EACH,MAAO,SACT,KAAKG,EACH,MAAO,WACT,KAAKD,EACH,MAAO,aACT,KAAKM,EACH,MAAO,WACT,KAAKC,EACH,MAAO,eAEX,GAAI,kBAAoBW,EACtB,OAAQA,EAAKC,UACX,KAAKf,EACH,OAAQc,EAAKE,aAAe,WAAa,YAC3C,KAAKjB,EACH,OAAQe,EAAKI,SAASF,aAAe,WAAa,YACpD,KAAKf,EACH,IAAIkB,EAAYL,EAAKM,OAKrB,OAJAN,EAAOA,EAAKE,eAGTF,EAAO,MADNA,EAAOK,EAAUH,aAAeG,EAAUF,MAAQ,IAC9B,cAAgBH,EAAO,IAAM,cAC9CA,EACT,KAAKV,EACH,OAEE,QADCe,EAAYL,EAAKE,aAAe,MAE7BG,EACAN,EAAyBC,EAAKA,OAAS,OAE/C,KAAKT,EACHc,EAAYL,EAAKO,SACjBP,EAAOA,EAAKQ,MACZ,IACE,OAAOT,EAAyBC,EAAKK,GACvC,CAAE,MAAOI,GAAI,EAEnB,OAAO,IACT,CACA,IAGEC,EACAC,EAJEC,EACAhD,EAAMiD,gEACRC,EAASC,OAAOD,OAGlB,SAASE,EAA8Bb,GACrC,QAAI,IAAWO,EACb,IACE,MAAMO,OACR,CAAE,MAAOR,GACP,IAAIS,EAAQT,EAAEU,MAAMC,OAAOF,MAAM,gBACjCR,EAAUQ,GAASA,EAAM,IAAO,GAChCP,GACG,EAAIF,EAAEU,MAAME,QAAQ,YACjB,kBACC,EAAIZ,EAAEU,MAAME,QAAQ,KACnB,eACA,EACV,CACF,MAAO,KAAOX,EAASP,EAAOQ,CAChC,CACA,IAAIW,GAAU,EACd,SAASC,EAA6BC,EAAIC,GACxC,IAAKD,GAAMF,EAAS,MAAO,GAC3BA,GAAU,EACV,IAAII,EAA4BT,MAAMU,kBACtCV,MAAMU,uBAAoB,EAC1B,IACE,IAAIC,EAAiB,CACnBC,4BAA6B,WAC3B,IACE,GAAIJ,EAAW,CACb,IAAIK,EAAO,WACT,MAAMb,OACR,EAMA,GALAF,OAAOgB,eAAeD,EAAKE,UAAW,QAAS,CAC7CC,IAAK,WACH,MAAMhB,OACR,IAEE,kBAAoBiB,SAAWA,QAAQT,UAAW,CACpD,IACES,QAAQT,UAAUK,EAAM,GAC1B,CAAE,MAAOrB,GACP,IAAI0B,EAAU1B,CAChB,CACAyB,QAAQT,UAAUD,EAAI,GAAIM,EAC5B,KAAO,CACL,IACEA,EAAKM,MACP,CAAE,MAAOC,GACPF,EAAUE,CACZ,CACAb,EAAGY,KAAKN,EAAKE,UACf,CACF,KAAO,CACL,IACE,MAAMf,OACR,CAAE,MAAOqB,GACPH,EAAUG,CACZ,EACCR,EAAON,MACN,oBAAsBM,EAAKS,OAC3BT,EAAKS,OAAM,WAAa,GAC5B,CACF,CAAE,MAAOC,GACP,GAAIA,GAAUL,GAAW,kBAAoBK,EAAOrB,MAClD,MAAO,CAACqB,EAAOrB,MAAOgB,EAAQhB,MAClC,CACA,MAAO,CAAC,KAAM,KAChB,GAEFS,EAAeC,4BAA4B3B,YACzC,8BACF,IAAIuC,EAAqB1B,OAAO2B,yBAC9Bd,EAAeC,4BACf,QAEFY,GACEA,EAAmBE,cACnB5B,OAAOgB,eACLH,EAAeC,4BACf,OACA,CAAEe,MAAO,gCAEb,IAAIC,EAAwBjB,EAAeC,8BACzCiB,EAAcD,EAAsB,GACpCE,EAAeF,EAAsB,GACvC,GAAIC,GAAeC,EAAc,CAC/B,IAAIC,EAAcF,EAAYG,MAAM,MAClCC,EAAeH,EAAaE,MAAM,MACpC,IACER,EAAqBb,EAAiB,EACtCA,EAAiBoB,EAAY9E,SAC5B8E,EAAYpB,GAAgBuB,SAAS,gCAGtCvB,IACF,KAEEa,EAAqBS,EAAahF,SACjCgF,EAAaT,GAAoBU,SAChC,gCAIFV,IACF,GACEb,IAAmBoB,EAAY9E,QAC/BuE,IAAuBS,EAAahF,OAEpC,IACE0D,EAAiBoB,EAAY9E,OAAS,EACpCuE,EAAqBS,EAAahF,OAAS,EAC7C,GAAK0D,GACL,GAAKa,GACLO,EAAYpB,KAAoBsB,EAAaT,IAG7CA,IACJ,KAEE,GAAKb,GAAkB,GAAKa,EAC5Bb,IAAkBa,IAElB,GAAIO,EAAYpB,KAAoBsB,EAAaT,GAAqB,CACpE,GAAI,IAAMb,GAAkB,IAAMa,EAChC,MAEKb,IAED,IADAa,GAEEO,EAAYpB,KACVsB,EAAaT,GACjB,CACA,IAAIW,EACF,KACAJ,EAAYpB,GAAgByB,QAAQ,WAAY,QAIlD,OAHA7B,EAAGtB,aACDkD,EAAMD,SAAS,iBACdC,EAAQA,EAAMC,QAAQ,cAAe7B,EAAGtB,cACpCkD,CACT,QACK,GAAKxB,GAAkB,GAAKa,GAErC,KACF,CACJ,CACF,CAAE,QACCnB,GAAU,EAAML,MAAMU,kBAAoBD,CAC7C,CACA,OAAQA,EAA4BF,EAAKA,EAAGtB,aAAesB,EAAGrB,KAAO,IACjEa,EAA8BU,GAC9B,EACN,CACA,SAAS4B,EAAcC,GACrB,OAAQA,EAAMC,KACZ,KAAK,GACL,KAAK,GACL,KAAK,EACH,OAAOxC,EAA8BuC,EAAMvD,MAC7C,KAAK,GACH,OAAOgB,EAA8B,QACvC,KAAK,GACH,OAAOA,EAA8B,YACvC,KAAK,GACH,OAAOA,EAA8B,gBACvC,KAAK,EACL,KAAK,GACH,OAAQuC,EAAQhC,EAA6BgC,EAAMvD,MAAM,GAC3D,KAAK,GACH,OACGuD,EAAQhC,EAA6BgC,EAAMvD,KAAKM,QAAQ,GAE7D,KAAK,EACH,OAAQiD,EAAQhC,EAA6BgC,EAAMvD,MAAM,GAC3D,QACE,MAAO,GAEb,CACA,SAASyD,EAA4BC,GACnC,IACE,IAAIC,EAAO,GACX,GACGA,GAAQL,EAAcI,GACpBA,EAAiBA,EAAeE,aAC9BF,GACP,OAAOC,CACT,CAAE,MAAOlD,GACP,MAAO,6BAA+BA,EAAEoD,QAAU,KAAOpD,EAAEU,KAC7D,CACF,CACA,SAAS2C,EAAuBP,GAC9B,IAAIjF,EAAOiF,EACTQ,EAAiBR,EACnB,GAAIA,EAAMS,UAAW,KAAO1F,EAAKsF,QAAUtF,EAAOA,EAAKsF,WAClD,CACHL,EAAQjF,EACR,GAEI,KAAoB,MADrBA,EAAOiF,GACMU,SAAkBF,EAAiBzF,EAAKsF,QACnDL,EAAQjF,EAAKsF,aACXL,EACT,CACA,OAAO,IAAMjF,EAAKkF,IAAMO,EAAiB,IAC3C,CACA,SAASG,EAA6BX,GACpC,GAAI,KAAOA,EAAMC,IAAK,CACpB,IAAIW,EAAgBZ,EAAMa,cAI1B,GAHA,OAASD,IAEP,QADEZ,EAAQA,EAAMS,aACGG,EAAgBZ,EAAMa,gBACvC,OAASD,EAAe,OAAOA,EAAcE,UACnD,CACA,OAAO,IACT,CACA,SAASC,EAAgBf,GACvB,GAAIO,EAAuBP,KAAWA,EACpC,MAAMtC,MAAMnD,EAAuB,KACvC,CAqEA,SAASyG,EAAyBjG,GAChC,IAAIkF,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,KAAOA,GAAO,KAAOA,GAAO,IAAMA,EAAK,OAAOlF,EAC/D,IAAKA,EAAOA,EAAKkG,MAAO,OAASlG,GAAQ,CAEvC,GAAI,QADJkF,EAAMe,EAAyBjG,IACb,OAAOkF,EACzBlF,EAAOA,EAAKmG,OACd,CACA,OAAO,IACT,CACA,IAAIC,EAAcC,MAAMC,QACtBC,EACEhH,EAASiH,6DACXC,EAAyB,CACvBC,SAAS,EACTC,KAAM,KACNC,OAAQ,KACRC,OAAQ,MAEVC,EAAa,GACbC,GAAS,EACX,SAASC,EAAaC,GACpB,MAAO,CAAEC,QAASD,EACpB,CACA,SAASE,EAAIC,GACX,EAAIL,IACAK,EAAOF,QAAUJ,EAAWC,GAAUD,EAAWC,GAAS,KAAOA,IACvE,CACA,SAASM,EAAKD,EAAQ9C,GACpByC,IACAD,EAAWC,GAASK,EAAOF,QAC3BE,EAAOF,QAAU5C,CACnB,CACA,IAAIgD,EAAqBN,EAAa,MACpCO,EAA0BP,EAAa,MACvCQ,EAA0BR,EAAa,MACvCS,EAA+BT,EAAa,MAC9C,SAASU,EAAkBzC,EAAO0C,GAKhC,OAJAN,EAAKG,EAAyBG,GAC9BN,EAAKE,EAAyBtC,GAC9BoC,EAAKC,EAAoB,MACzBrC,EAAQ0C,EAAiB1H,UAEvB,KAAK,EACL,KAAK,GACH0H,GAAoBA,EAAmBA,EAAiBC,mBACnDD,EAAmBA,EAAiBE,cACnCC,GAAkBH,GAEpB,EACJ,MACF,QACE,GAEGA,GADC1C,EAAQ,IAAMA,EAAQ0C,EAAiBI,WAAaJ,GAC5BK,QACzB/C,EAAQA,EAAM4C,aAGZF,EAAmBM,GADrBhD,EAAQ6C,GAAkB7C,GAC0B0C,QAErD,OAAQA,GACN,IAAK,MACHA,EAAmB,EACnB,MACF,IAAK,OACHA,EAAmB,EACnB,MACF,QACEA,EAAmB,GAG7BR,EAAIG,GACJD,EAAKC,EAAoBK,EAC3B,CACA,SAASO,KACPf,EAAIG,GACJH,EAAII,GACJJ,EAAIK,EACN,CACA,SAASW,GAAgBlD,GACvB,OAASA,EAAMa,eAAiBuB,EAAKI,EAA8BxC,GACnE,IAAImD,EAAUd,EAAmBJ,QAC7BmB,EAA2BJ,GAAwBG,EAASnD,EAAMvD,MACtE0G,IAAYC,IACThB,EAAKE,EAAyBtC,GAC/BoC,EAAKC,EAAoBe,GAC7B,CACA,SAASC,GAAerD,GACtBsC,EAAwBL,UAAYjC,IACjCkC,EAAIG,GAAqBH,EAAII,IAChCE,EAA6BP,UAAYjC,IACtCkC,EAAIM,GACJc,GAAsBC,cAAgB/B,EAC3C,CACA,IAAIgC,GAAiBhG,OAAOiB,UAAU+E,eACpCC,GAAqBtJ,EAAUuJ,0BAC/BC,GAAmBxJ,EAAUyJ,wBAC7BC,GAAc1J,EAAU2J,qBACxBC,GAAe5J,EAAU6J,sBACzBC,GAAM9J,EAAU+J,aAChBC,GAA0BhK,EAAUiK,iCACpCC,GAAoBlK,EAAUmK,2BAC9BC,GAAuBpK,EAAUqK,8BACjCC,GAAmBtK,EAAUuK,wBAC7BC,GAAcxK,EAAUyK,qBACxBC,GAAe1K,EAAU2K,sBACzBC,GAAQ5K,EAAU6K,IAClBC,GAAgC9K,EAAU8K,8BAC1CC,GAAa,KACbC,GAAe,KAYjB,SAASC,GAA2BC,GAElC,GADA,oBAAsBN,IAASE,GAA8BI,GACzDF,IAAgB,oBAAsBA,GAAaG,cACrD,IACEH,GAAaG,cAAcJ,GAAYG,EACzC,CAAE,MAAOE,GAAM,CACnB,CACA,IAAIC,GAAQC,KAAKD,MAAQC,KAAKD,MAG9B,SAAuBtI,GAErB,OAAO,KADPA,KAAO,GACU,GAAM,IAAO8H,GAAI9H,GAAKwI,GAAO,GAAM,CACtD,EALEV,GAAMS,KAAKT,IACXU,GAAMD,KAAKC,IAKb,IAAIC,GAAqB,IACvBC,GAAgB,QAClB,SAASC,GAAwBC,GAC/B,IAAIC,EAA2B,GAARD,EACvB,GAAI,IAAMC,EAAkB,OAAOA,EACnC,OAAQD,GAASA,GACf,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,GACH,OAAO,GACT,KAAK,GACH,OAAO,GACT,KAAK,GACH,OAAO,GACT,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACH,OAAe,QAARA,EACT,KAAK,QACL,KAAK,QACL,KAAK,SACL,KAAK,SACH,OAAe,SAARA,EACT,KAAK,SACH,OAAO,SACT,KAAK,UACH,OAAO,UACT,KAAK,UACH,OAAO,UACT,KAAK,UACH,OAAO,UACT,KAAK,WACH,OAAO,EACT,QACE,OAAOA,EAEb,CACA,SAASE,GAAaC,EAAMC,GAC1B,IAAIC,EAAeF,EAAKE,aACxB,GAAI,IAAMA,EAAc,OAAO,EAC/B,IAAIC,EAAY,EACdC,EAAiBJ,EAAKI,eACtBC,EAAcL,EAAKK,YACnBC,EAAYN,EAAKM,UACnBN,EAAO,IAAMA,EAAKO,cAClB,IAAIC,EAAqC,UAAfN,EAqB1B,OApBA,IAAMM,EAEF,KADEN,EAAeM,GAAuBJ,GAEnCD,EAAYP,GAAwBM,GAErC,KADEG,GAAeG,GAEZL,EAAYP,GAAwBS,GACrCL,GAEA,KADEM,EAAYE,GAAuBF,KAElCH,EAAYP,GAAwBU,IAE/C,KADEE,EAAsBN,GAAgBE,GAEnCD,EAAYP,GAAwBY,GACrC,IAAMH,EACHF,EAAYP,GAAwBS,GACrCL,GAEA,KADEM,EAAYJ,GAAgBI,KAE3BH,EAAYP,GAAwBU,IAC1C,IAAMH,EACT,EACA,IAAMF,GACJA,IAAaE,GACb,KAAOF,EAAWG,MAChBA,EAAiBD,GAAaA,KAC/BG,EAAYL,GAAYA,IAEtB,KAAOG,GAAkB,KAAmB,QAAZE,IACnCL,EACAE,CACR,CACA,SAASM,GAA0BT,EAAMU,GACvC,OACE,KACCV,EAAKE,eACFF,EAAKI,gBAAkBJ,EAAKK,aAC9BK,EAEN,CACA,SAASC,GAAsBC,EAAMC,GACnC,OAAQD,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,OAAOC,EAAc,IACvB,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACH,OAAOA,EAAc,IAYvB,QACE,OAAQ,EAEd,CACA,SAASC,KACP,IAAIF,EAAOlB,GAGX,OADA,KAA4B,SAD5BA,KAAuB,MACkBA,GAAqB,KACvDkB,CACT,CACA,SAASG,KACP,IAAIH,EAAOjB,GAGX,OADA,KAAuB,UADvBA,KAAkB,MACmBA,GAAgB,SAC9CiB,CACT,CACA,SAASI,GAAcC,GACrB,IAAK,IAAIC,EAAU,GAAItM,EAAI,EAAG,GAAKA,EAAGA,IAAKsM,EAAQ/E,KAAK8E,GACxD,OAAOC,CACT,CACA,SAASC,GAAkBnB,EAAMoB,GAC/BpB,EAAKE,cAAgBkB,EACrB,YAAcA,IACVpB,EAAKI,eAAiB,EAAKJ,EAAKK,YAAc,EAAKL,EAAKM,UAAY,EAC1E,CAiDA,SAASe,GAAwBrB,EAAMsB,EAAaC,GAClDvB,EAAKE,cAAgBoB,EACrBtB,EAAKI,iBAAmBkB,EACxB,IAAIE,EAAmB,GAAKjC,GAAM+B,GAClCtB,EAAKuB,gBAAkBD,EACvBtB,EAAKyB,cAAcD,GAEjB,WADAxB,EAAKyB,cAAcD,GAED,QAAjBD,CACL,CACA,SAASG,GAAkB1B,EAAMuB,GAC/B,IAAII,EAAsB3B,EAAKuB,gBAAkBA,EACjD,IAAKvB,EAAOA,EAAKyB,cAAeE,GAAsB,CACpD,IAAIC,EAAU,GAAKrC,GAAMoC,GACvBf,EAAO,GAAKgB,EACbhB,EAAOW,EAAmBvB,EAAK4B,GAAWL,IACxCvB,EAAK4B,IAAYL,GACpBI,IAAuBf,CACzB,CACF,CACA,SAASiB,GAAqBhC,GAE5B,OAAO,GADPA,IAAUA,GAEN,EAAIA,EACF,KAAe,UAARA,GACL,GACA,UACF,EACF,CACN,CACA,SAASiC,KACP,IAAIC,EAAiB1G,EAAwB2G,EAC7C,OAAI,IAAMD,EAAuBA,OAE1B,KADPA,EAAiBE,OAAOC,OACW,GAAKC,GAAiBJ,EAAevL,KAC1E,CASA,IAAI4L,GAAY5C,KAAK6C,SAASC,SAAS,IAAIC,MAAM,GAC/CC,GAAsB,gBAAkBJ,GACxCK,GAAmB,gBAAkBL,GACrCM,GAA+B,oBAAsBN,GACrDO,GAA2B,iBAAmBP,GAC9CQ,GAAmC,oBAAsBR,GACzDS,GAA6B,kBAAoBT,GACjDU,GAA+B,oBAAsBV,GACrDW,GAA0B,iBAAmBX,GAC/C,SAASY,GAAsBlO,UACtBA,EAAK0N,WACL1N,EAAK2N,WACL3N,EAAK6N,WACL7N,EAAK8N,WACL9N,EAAK+N,GACd,CACA,SAASI,GAA2BC,GAClC,IAAIC,EAAaD,EAAWV,IAC5B,GAAIW,EAAY,OAAOA,EACvB,IAAK,IAAItG,EAAaqG,EAAWrG,WAAYA,GAAc,CACzD,GACGsG,EACCtG,EAAW6F,KACX7F,EAAW2F,IACb,CAEA,GADA3F,EAAasG,EAAW3I,UAEtB,OAAS2I,EAAWnI,OACnB,OAAS6B,GAAc,OAASA,EAAW7B,MAE5C,IACEkI,EAAaE,GAA0BF,GACvC,OAASA,GAET,CACA,GAAKrG,EAAaqG,EAAWV,IAAuB,OAAO3F,EAC3DqG,EAAaE,GAA0BF,EACzC,CACF,OAAOC,CACT,CAEAtG,GADAqG,EAAarG,GACWA,UAC1B,CACA,OAAO,IACT,CACA,SAASwG,GAAoBvO,GAC3B,GACGA,EAAOA,EAAK0N,KAAwB1N,EAAK4N,IAC1C,CACA,IAAI1I,EAAMlF,EAAKkF,IACf,GACE,IAAMA,GACN,IAAMA,GACN,KAAOA,GACP,KAAOA,GACP,KAAOA,GACP,IAAMA,EAEN,OAAOlF,CACX,CACA,OAAO,IACT,CACA,SAASwO,GAAoBC,GAC3B,IAAIvJ,EAAMuJ,EAAKvJ,IACf,GAAI,IAAMA,GAAO,KAAOA,GAAO,KAAOA,GAAO,IAAMA,EAAK,OAAOuJ,EAAKC,UACpE,MAAM/L,MAAMnD,EAAuB,IACrC,CACA,SAASmP,GAAqBzD,GAC5B,IAAI0D,EAAY1D,EAAK8C,IAIrB,OAHAY,IACGA,EAAY1D,EAAK8C,IAChB,CAAEa,gBAAiB,IAAIC,IAAOC,iBAAkB,IAAID,MACjDF,CACT,CACA,SAASI,GAAoBhP,GAC3BA,EAAKiO,KAA2B,CAClC,CACA,IAAIgB,GAAkB,IAAIC,IACxBC,GAA+B,CAAC,EAClC,SAASC,GAAsBC,EAAkBC,GAC/CC,GAAoBF,EAAkBC,GACtCC,GAAoBF,EAAmB,UAAWC,EACpD,CACA,SAASC,GAAoBF,EAAkBC,GAE7C,IADAH,GAA6BE,GAAoBC,EAE/CD,EAAmB,EACnBA,EAAmBC,EAAa1P,OAChCyP,IAEAJ,GAAgBO,IAAIF,EAAaD,GACrC,CACA,IAAII,KACA,qBAAuBtC,QACvB,qBAAuBA,OAAOuC,UAC9B,qBAAuBvC,OAAOuC,SAASC,eAEzCC,GAA6BC,OAC3B,iZAEFC,GAA4B,CAAC,EAC7BC,GAA8B,CAAC,EAUjC,SAASC,GAAqBhQ,EAAM6B,EAAMyC,GACxC,GAV2B2L,EAUHpO,EATpB4G,GAAe3E,KAAKiM,GAA6BE,KAEjDxH,GAAe3E,KAAKgM,GAA2BG,KAC/CL,GAA2BM,KAAKD,GAC1BF,GAA4BE,IAAiB,GACvDH,GAA0BG,IAAiB,EACpC,IAIL,GAAI,OAAS3L,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SAEH,YADAtE,EAAKmQ,gBAAgBtO,GAEvB,IAAK,UACH,IAAIuO,EAAYvO,EAAKwO,cAAc5C,MAAM,EAAG,GAC5C,GAAI,UAAY2C,GAAa,UAAYA,EAEvC,YADApQ,EAAKmQ,gBAAgBtO,GAI3B7B,EAAKsQ,aAAazO,EAAM,GAAKyC,EAC/B,CA3BJ,IAA6B2L,CA4B7B,CACA,SAASM,GAA0BvQ,EAAM6B,EAAMyC,GAC7C,GAAI,OAASA,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,UAEH,YADAtE,EAAKmQ,gBAAgBtO,GAGzB7B,EAAKsQ,aAAazO,EAAM,GAAKyC,EAC/B,CACF,CACA,SAASkM,GAA+BxQ,EAAMyQ,EAAW5O,EAAMyC,GAC7D,GAAI,OAASA,EAAOtE,EAAKmQ,gBAAgBtO,OACpC,CACH,cAAeyC,GACb,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,UAEH,YADAtE,EAAKmQ,gBAAgBtO,GAGzB7B,EAAK0Q,eAAeD,EAAW5O,EAAM,GAAKyC,EAC5C,CACF,CACA,SAASqM,GAAiBrM,GACxB,cAAeA,GACb,IAAK,SACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,YAEL,IAAK,SACH,OAAOA,EACT,QACE,MAAO,GAEb,CACA,SAASsM,GAAYC,GACnB,IAAInP,EAAOmP,EAAKnP,KAChB,OACGmP,EAAOA,EAAKC,WACb,UAAYD,EAAKR,gBAChB,aAAe3O,GAAQ,UAAYA,EAExC,CA2CA,SAASqP,GAAM/Q,GACbA,EAAKgR,gBAAkBhR,EAAKgR,cA3C9B,SAA0BhR,GACxB,IAAIiR,EAAaL,GAAY5Q,GAAQ,UAAY,QAC/CkR,EAAazO,OAAO2B,yBAClBpE,EAAKmR,YAAYzN,UACjBuN,GAEFG,EAAe,GAAKpR,EAAKiR,GAC3B,IACGjR,EAAKyI,eAAewI,IACrB,qBAAuBC,GACvB,oBAAsBA,EAAWG,KACjC,oBAAsBH,EAAWvN,IACjC,CACA,IAAI0N,EAAMH,EAAWG,IACnB1N,EAAMuN,EAAWvN,IAcnB,OAbAlB,OAAOgB,eAAezD,EAAMiR,EAAY,CACtC5M,cAAc,EACdgN,IAAK,WACH,OAAOA,EAAIvN,KAAKwN,KAClB,EACA3N,IAAK,SAAUW,GACb8M,EAAe,GAAK9M,EACpBX,EAAIG,KAAKwN,KAAMhN,EACjB,IAEF7B,OAAOgB,eAAezD,EAAMiR,EAAY,CACtCM,WAAYL,EAAWK,aAElB,CACLC,SAAU,WACR,OAAOJ,CACT,EACAK,SAAU,SAAUnN,GAClB8M,EAAe,GAAK9M,CACtB,EACAoN,aAAc,WACZ1R,EAAKgR,cAAgB,YACdhR,EAAKiR,EACd,EAEJ,CACF,CAE8CU,CAAiB3R,GAC/D,CACA,SAAS4R,GAAqB5R,GAC5B,IAAKA,EAAM,OAAO,EAClB,IAAI6R,EAAU7R,EAAKgR,cACnB,IAAKa,EAAS,OAAO,EACrB,IAAIC,EAAYD,EAAQL,WACpBlN,EAAQ,GAQZ,OAPAtE,IACGsE,EAAQsM,GAAY5Q,GACjBA,EAAK+R,QACH,OACA,QACF/R,EAAKsE,QACXtE,EAAOsE,KACSwN,IAAaD,EAAQJ,SAASzR,IAAO,EACvD,CACA,SAASgS,GAAiBC,GAExB,GAAI,qBADJA,EAAMA,IAAQ,qBAAuBvC,SAAWA,cAAW,IAC3B,OAAO,KACvC,IACE,OAAOuC,EAAIC,eAAiBD,EAAIE,IAClC,CAAE,MAAOC,GACP,OAAOH,EAAIE,IACb,CACF,CACA,IAAIE,GAAsD,WAC1D,SAASC,GAA+ChO,GACtD,OAAOA,EAAMS,QACXsN,IACA,SAAUE,GACR,MAAO,KAAOA,EAAGC,WAAW,GAAGhF,SAAS,IAAM,GAChD,GAEJ,CACA,SAASiF,GACPC,EACApO,EACA2C,EACA0L,EACAZ,EACAa,EACAlR,EACAG,GAEA6Q,EAAQ7Q,KAAO,GACf,MAAQH,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EAChBgR,EAAQhR,KAAOA,EAChBgR,EAAQvC,gBAAgB,QACxB,MAAQ7L,EACN,WAAa5C,GACV,IAAM4C,GAAS,KAAOoO,EAAQpO,OAAUoO,EAAQpO,OAASA,KAC5DoO,EAAQpO,MAAQ,GAAKqM,GAAiBrM,IAExCoO,EAAQpO,QAAU,GAAKqM,GAAiBrM,KACrCoO,EAAQpO,MAAQ,GAAKqM,GAAiBrM,IAE1C,WAAa5C,GAAQ,UAAYA,GAASgR,EAAQvC,gBAAgB,SACrE,MAAQ7L,EACJuO,GAAgBH,EAAShR,EAAMiP,GAAiBrM,IAChD,MAAQ2C,EACN4L,GAAgBH,EAAShR,EAAMiP,GAAiB1J,IAChD,MAAQ0L,GAAoBD,EAAQvC,gBAAgB,SAC1D,MAAQ4B,GACN,MAAQa,IACPF,EAAQE,iBAAmBA,GAC9B,MAAQb,IACLW,EAAQX,QACPA,GAAW,oBAAsBA,GAAW,kBAAoBA,GACpE,MAAQlQ,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EAChB6Q,EAAQ7Q,KAAO,GAAK8O,GAAiB9O,GACtC6Q,EAAQvC,gBAAgB,OAC9B,CACA,SAAS2C,GACPJ,EACApO,EACA2C,EACA8K,EACAa,EACAlR,EACAG,EACAkR,GAOA,GALA,MAAQrR,GACN,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,IACpBgR,EAAQhR,KAAOA,GACd,MAAQ4C,GAAS,MAAQ2C,EAAc,CACzC,KAEK,WAAavF,GAAQ,UAAYA,QACjC,IAAW4C,GAAS,OAASA,GAGhC,OACF2C,EACE,MAAQA,EAAe,GAAK0J,GAAiB1J,GAAgB,GAC/D3C,EAAQ,MAAQA,EAAQ,GAAKqM,GAAiBrM,GAAS2C,EACvD8L,GAAezO,IAAUoO,EAAQpO,QAAUoO,EAAQpO,MAAQA,GAC3DoO,EAAQzL,aAAe3C,CACzB,CAEAyN,EACE,oBAFFA,EAAU,MAAQA,EAAUA,EAAUa,IAEH,kBAAoBb,KAAaA,EACpEW,EAAQX,QAAUgB,EAAcL,EAAQX,UAAYA,EACpDW,EAAQE,iBAAmBb,EAC3B,MAAQlQ,GACN,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,IACpB6Q,EAAQ7Q,KAAOA,EACpB,CACA,SAASgR,GAAgB7S,EAAM0B,EAAM4C,GAClC,WAAa5C,GAAQsQ,GAAiBhS,EAAKgT,iBAAmBhT,GAC7DA,EAAKiH,eAAiB,GAAK3C,IAC1BtE,EAAKiH,aAAe,GAAK3C,EAC9B,CACA,SAAS2O,GAAcjT,EAAMkT,EAAUC,EAAWC,GAEhD,GADApT,EAAOA,EAAKqT,QACRH,EAAU,CACZA,EAAW,CAAC,EACZ,IAAK,IAAIpT,EAAI,EAAGA,EAAIqT,EAAUvT,OAAQE,IACpCoT,EAAS,IAAMC,EAAUrT,KAAM,EACjC,IAAKqT,EAAY,EAAGA,EAAYnT,EAAKJ,OAAQuT,IAC1CrT,EAAIoT,EAASzK,eAAe,IAAMzI,EAAKmT,GAAW7O,OACjDtE,EAAKmT,GAAWG,WAAaxT,IAAME,EAAKmT,GAAWG,SAAWxT,GAC9DA,GAAKsT,IAAuBpT,EAAKmT,GAAWI,iBAAkB,EACpE,KAAO,CAGL,IAFAJ,EAAY,GAAKxC,GAAiBwC,GAClCD,EAAW,KACNpT,EAAI,EAAGA,EAAIE,EAAKJ,OAAQE,IAAK,CAChC,GAAIE,EAAKF,GAAGwE,QAAU6O,EAGpB,OAFAnT,EAAKF,GAAGwT,UAAW,OACnBF,IAAuBpT,EAAKF,GAAGyT,iBAAkB,IAGnD,OAASL,GAAYlT,EAAKF,GAAG0T,WAAaN,EAAWlT,EAAKF,GAC5D,CACA,OAASoT,IAAaA,EAASI,UAAW,EAC5C,CACF,CACA,SAASG,GAAef,EAASpO,EAAO2C,GAEpC,MAAQ3C,KACNA,EAAQ,GAAKqM,GAAiBrM,MACtBoO,EAAQpO,QAAUoO,EAAQpO,MAAQA,GAC5C,MAAQ2C,GAKVyL,EAAQzL,aACN,MAAQA,EAAe,GAAK0J,GAAiB1J,GAAgB,GAJ7DyL,EAAQzL,eAAiB3C,IAAUoO,EAAQzL,aAAe3C,EAK9D,CACA,SAASoP,GAAahB,EAASpO,EAAO2C,EAAc0M,GAClD,GAAI,MAAQrP,EAAO,CACjB,GAAI,MAAQqP,EAAU,CACpB,GAAI,MAAQ1M,EAAc,MAAMtE,MAAMnD,EAAuB,KAC7D,GAAI4G,EAAYuN,GAAW,CACzB,GAAI,EAAIA,EAAS/T,OAAQ,MAAM+C,MAAMnD,EAAuB,KAC5DmU,EAAWA,EAAS,EACtB,CACA1M,EAAe0M,CACjB,CACA,MAAQ1M,IAAiBA,EAAe,IACxC3C,EAAQ2C,CACV,CACAA,EAAe0J,GAAiBrM,GAChCoO,EAAQzL,aAAeA,GACvB0M,EAAWjB,EAAQkB,eACN3M,GACX,KAAO0M,GACP,OAASA,IACRjB,EAAQpO,MAAQqP,EACrB,CACA,SAASE,GAAe7T,EAAM8T,GAC5B,GAAIA,EAAM,CACR,IAAIC,EAAa/T,EAAK+T,WACtB,GACEA,GACAA,IAAe/T,EAAKgU,WACpB,IAAMD,EAAW9T,SAGjB,YADA8T,EAAWE,UAAYH,EAG3B,CACA9T,EAAK4T,YAAcE,CACrB,CACA,IAAII,GAAkB,IAAIhF,IACxB,26BAA26BvK,MACz6B,MAGJ,SAASwP,GAAiBC,EAAOC,EAAW/P,GAC1C,IAAIgQ,EAAmB,IAAMD,EAAUtR,QAAQ,MAC/C,MAAQuB,GAAS,mBAAqBA,GAAS,KAAOA,EAClDgQ,EACEF,EAAMG,YAAYF,EAAW,IAC7B,UAAYA,EACTD,EAAMI,SAAW,GACjBJ,EAAMC,GAAa,GACxBC,EACEF,EAAMG,YAAYF,EAAW/P,GAC7B,kBAAoBA,GAClB,IAAMA,GACN4P,GAAgBO,IAAIJ,GACpB,UAAYA,EACTD,EAAMI,SAAWlQ,EACjB8P,EAAMC,IAAc,GAAK/P,GAAOxB,OAClCsR,EAAMC,GAAa/P,EAAQ,IACtC,CACA,SAASoQ,GAAkB1U,EAAM2U,EAAQC,GACvC,GAAI,MAAQD,GAAU,kBAAoBA,EACxC,MAAMhS,MAAMnD,EAAuB,KAErC,GADAQ,EAAOA,EAAKoU,MACR,MAAQQ,EAAY,CACtB,IAAK,IAAIP,KAAaO,GACnBA,EAAWnM,eAAe4L,IACxB,MAAQM,GAAUA,EAAOlM,eAAe4L,KACxC,IAAMA,EAAUtR,QAAQ,MACrB/C,EAAKuU,YAAYF,EAAW,IAC5B,UAAYA,EACTrU,EAAKwU,SAAW,GAChBxU,EAAKqU,GAAa,IAC7B,IAAK,IAAIQ,KAAgBF,EACtBN,EAAYM,EAAOE,GAClBF,EAAOlM,eAAeoM,IACpBD,EAAWC,KAAkBR,GAC7BF,GAAiBnU,EAAM6U,EAAcR,EAC7C,MACE,IAAK,IAAIS,KAAgBH,EACvBA,EAAOlM,eAAeqM,IACpBX,GAAiBnU,EAAM8U,EAAcH,EAAOG,GACpD,CACA,SAASC,GAAgB/M,GACvB,IAAK,IAAMA,EAAQjF,QAAQ,KAAM,OAAO,EACxC,OAAQiF,GACN,IAAK,iBACL,IAAK,gBACL,IAAK,YACL,IAAK,gBACL,IAAK,gBACL,IAAK,mBACL,IAAK,iBACL,IAAK,gBACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,IAAIgN,GAAU,IAAIlG,IAAI,CAClB,CAAC,gBAAiB,kBAClB,CAAC,UAAW,OACZ,CAAC,YAAa,cACd,CAAC,cAAe,eAChB,CAAC,eAAgB,iBACjB,CAAC,oBAAqB,sBACtB,CAAC,aAAc,eACf,CAAC,gBAAiB,kBAClB,CAAC,YAAa,cACd,CAAC,WAAY,aACb,CAAC,WAAY,aACb,CAAC,qBAAsB,uBACvB,CAAC,4BAA6B,+BAC9B,CAAC,eAAgB,iBACjB,CAAC,iBAAkB,mBACnB,CAAC,mBAAoB,qBACrB,CAAC,mBAAoB,qBACrB,CAAC,cAAe,gBAChB,CAAC,WAAY,aACb,CAAC,aAAc,eACf,CAAC,eAAgB,iBACjB,CAAC,aAAc,eACf,CAAC,WAAY,aACb,CAAC,iBAAkB,oBACnB,CAAC,cAAe,gBAChB,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,YAAa,cACd,CAAC,6BAA8B,gCAC/B,CAAC,2BAA4B,8BAC7B,CAAC,YAAa,eACd,CAAC,eAAgB,kBACjB,CAAC,iBAAkB,mBACnB,CAAC,gBAAiB,kBAClB,CAAC,gBAAiB,kBAClB,CAAC,YAAa,cACd,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,mBAAoB,qBACrB,CAAC,oBAAqB,sBACtB,CAAC,aAAc,eACf,CAAC,WAAY,YACb,CAAC,gBAAiB,kBAClB,CAAC,kBAAmB,oBACpB,CAAC,iBAAkB,mBACnB,CAAC,YAAa,cACd,CAAC,cAAe,gBAChB,CAAC,wBAAyB,0BAC1B,CAAC,yBAA0B,2BAC3B,CAAC,kBAAmB,oBACpB,CAAC,mBAAoB,qBACrB,CAAC,gBAAiB,kBAClB,CAAC,iBAAkB,mBACnB,CAAC,mBAAoB,qBACrB,CAAC,gBAAiB,kBAClB,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,iBAAkB,mBACnB,CAAC,gBAAiB,kBAClB,CAAC,kBAAmB,oBACpB,CAAC,oBAAqB,sBACtB,CAAC,qBAAsB,uBACvB,CAAC,cAAe,gBAChB,CAAC,eAAgB,iBACjB,CAAC,aAAc,gBACf,CAAC,cAAe,gBAChB,CAAC,WAAY,aACb,CAAC,eAAgB,iBACjB,CAAC,gBAAiB,kBAClB,CAAC,eAAgB,iBACjB,CAAC,WAAY,cACb,CAAC,cAAe,iBAChB,CAAC,cAAe,iBAChB,CAAC,cAAe,gBAChB,CAAC,cAAe,gBAChB,CAAC,aAAc,eACf,CAAC,UAAW,cAEdmG,GACE,2HACJ,SAASC,GAAYxV,GACnB,OAAOuV,GAAqB/E,KAAK,GAAKxQ,GAClC,8FACAA,CACN,CACA,IAAIyV,GAAwB,KAC5B,SAASC,GAAeC,GAItB,OAHAA,EAAcA,EAAYC,QAAUD,EAAYE,YAAcpI,QAClDqI,0BACTH,EAAcA,EAAYG,yBACtB,IAAMH,EAAYpV,SAAWoV,EAAYtN,WAAasN,CAC/D,CACA,IAAII,GAAgB,KAClBC,GAAe,KACjB,SAASC,GAAqBL,GAC5B,IAAIM,EAAmBrH,GAAoB+G,GAC3C,GAAIM,IAAqBN,EAASM,EAAiBlH,WAAY,CAC7D,IAAImH,EAAQP,EAAO3H,KAAqB,KACxCmI,EAAG,OAAUR,EAASM,EAAiBlH,UAAYkH,EAAiBlU,MAClE,IAAK,QAYH,GAXA+Q,GACE6C,EACAO,EAAMvR,MACNuR,EAAM5O,aACN4O,EAAM5O,aACN4O,EAAM9D,QACN8D,EAAMjD,eACNiD,EAAMnU,KACNmU,EAAMhU,MAER+T,EAAmBC,EAAMhU,KACrB,UAAYgU,EAAMnU,MAAQ,MAAQkU,EAAkB,CACtD,IAAKC,EAAQP,EAAQO,EAAM9N,YAAc8N,EAAQA,EAAM9N,WAQvD,IAPA8N,EAAQA,EAAME,iBACZ,eACEzD,GACE,GAAKsD,GAEP,oBAGFA,EAAmB,EACnBA,EAAmBC,EAAMjW,OACzBgW,IACA,CACA,IAAII,EAAYH,EAAMD,GACtB,GAAII,IAAcV,GAAUU,EAAUC,OAASX,EAAOW,KAAM,CAC1D,IAAIC,EAAaF,EAAUrI,KAAqB,KAChD,IAAKuI,EAAY,MAAMvT,MAAMnD,EAAuB,KACpDiT,GACEuD,EACAE,EAAW5R,MACX4R,EAAWjP,aACXiP,EAAWjP,aACXiP,EAAWnE,QACXmE,EAAWtD,eACXsD,EAAWxU,KACXwU,EAAWrU,KAEf,CACF,CACA,IACE+T,EAAmB,EACnBA,EAAmBC,EAAMjW,OACzBgW,KAECI,EAAYH,EAAMD,IACPK,OAASX,EAAOW,MAAQrE,GAAqBoE,EAC7D,CACA,MAAMF,EACR,IAAK,WACHrC,GAAe6B,EAAQO,EAAMvR,MAAOuR,EAAM5O,cAC1C,MAAM6O,EACR,IAAK,SAED,OADDF,EAAmBC,EAAMvR,QAEtB2O,GAAcqC,IAAUO,EAAM3C,SAAU0C,GAAkB,GAEpE,CACF,CACA,IAAIO,IAAuB,EAC3B,SAASC,GAAiBlT,EAAI4S,EAAGO,GAC/B,GAAIF,GAAsB,OAAOjT,EAAG4S,EAAGO,GACvCF,IAAuB,EACvB,IAEE,OAD+BjT,EAAG4S,EAEpC,CAAE,QACA,GACIK,IAAuB,GACzB,OAASV,IAAiB,OAASC,MAGhCY,KACDb,KACIK,EAAIL,GACLvS,EAAKwS,GACLA,GAAeD,GAAgB,KAChCE,GAAqBG,GACrB5S,IAEF,IAAK4S,EAAI,EAAGA,EAAI5S,EAAGtD,OAAQkW,IAAKH,GAAqBzS,EAAG4S,GAC9D,CACF,CACA,SAASS,GAAY9H,EAAMY,GACzB,IAAIX,EAAYD,EAAKC,UACrB,GAAI,OAASA,EAAW,OAAO,KAC/B,IAAImH,EAAQnH,EAAUf,KAAqB,KAC3C,GAAI,OAASkI,EAAO,OAAO,KAC3BnH,EAAYmH,EAAMxG,GAClByG,EAAG,OAAQzG,GACT,IAAK,UACL,IAAK,iBACL,IAAK,gBACL,IAAK,uBACL,IAAK,cACL,IAAK,qBACL,IAAK,cACL,IAAK,qBACL,IAAK,YACL,IAAK,mBACL,IAAK,gBACFwG,GAASA,EAAMrC,YAEbqC,IACC,YAFApH,EAAOA,EAAK/M,OAGZ,UAAY+M,GACZ,WAAaA,GACb,aAAeA,IAEnBA,GAAQoH,EACR,MAAMC,EACR,QACErH,GAAO,EAEX,GAAIA,EAAM,OAAO,KACjB,GAAIC,GAAa,oBAAsBA,EACrC,MAAM/L,MACJnD,EAAuB,IAAK6P,SAAyBX,IAEzD,OAAOA,CACT,CACA,IAAI8H,IAAgC,EACpC,GAAI/G,GACF,IACE,IAAI4D,GAAU,CAAC,EACf5Q,OAAOgB,eAAe4P,GAAS,UAAW,CACxChC,IAAK,WACHmF,IAAgC,CAClC,IAEFrJ,OAAOsJ,iBAAiB,OAAQpD,GAASA,IACzClG,OAAOuJ,oBAAoB,OAAQrD,GAASA,GAC9C,CAAE,MAAOjB,IACPoE,IAAgC,CAClC,CACF,IAAItL,GAAO,KACTyL,GAAY,KACZC,GAAe,KACjB,SAASC,KACP,GAAID,GAAc,OAAOA,GACzB,IAAIE,EAGFC,EAFAC,EAAaL,GACbM,EAAcD,EAAWpX,OAEzBsX,EAAW,UAAWhM,GAAOA,GAAK5G,MAAQ4G,GAAK0I,YAC/CuD,EAAYD,EAAStX,OACvB,IACEkX,EAAQ,EACRA,EAAQG,GAAeD,EAAWF,KAAWI,EAASJ,GACtDA,KAEF,IAAIM,EAASH,EAAcH,EAC3B,IACEC,EAAM,EACNA,GAAOK,GACPJ,EAAWC,EAAcF,KAASG,EAASC,EAAYJ,GACvDA,KAEF,OAAQH,GAAeM,EAASzJ,MAAMqJ,EAAO,EAAIC,EAAM,EAAIA,OAAM,EACnE,CACA,SAASM,GAAiBhC,GACxB,IAAIiC,EAAUjC,EAAYiC,QAM1B,MALA,aAAcjC,EAEV,KADEA,EAAcA,EAAYkC,WACP,KAAOD,IAAYjC,EAAc,IACrDA,EAAciC,EACnB,KAAOjC,IAAgBA,EAAc,IAC9B,IAAMA,GAAe,KAAOA,EAAcA,EAAc,CACjE,CACA,SAASmC,KACP,OAAO,CACT,CACA,SAASC,KACP,OAAO,CACT,CACA,SAASC,GAAqBC,GAC5B,SAASC,EACPC,EACAC,EACAzJ,EACAgH,EACA0C,GAQA,IAAK,IAAIC,KANT1G,KAAK2G,WAAaJ,EAClBvG,KAAK4G,YAAc7J,EACnBiD,KAAK5P,KAAOoW,EACZxG,KAAK+D,YAAcA,EACnB/D,KAAKgE,OAASyC,EACdzG,KAAK6G,cAAgB,KACAR,EACnBA,EAAUlP,eAAeuP,KACrBH,EAAYF,EAAUK,GACvB1G,KAAK0G,GAAYH,EACdA,EAAUxC,GACVA,EAAY2C,IASpB,OARA1G,KAAK8G,oBACH,MAAQ/C,EAAYgD,iBAChBhD,EAAYgD,kBACZ,IAAOhD,EAAYiD,aAErBd,GACAC,GACJnG,KAAKiH,qBAAuBd,GACrBnG,IACT,CAuBA,OAtBA9O,EAAOoV,EAAmBlU,UAAW,CACnC8U,eAAgB,WACdlH,KAAK+G,kBAAmB,EACxB,IAAIjL,EAAQkE,KAAK+D,YACjBjI,IACGA,EAAMoL,eACHpL,EAAMoL,iBACN,mBAAqBpL,EAAMkL,cAAgBlL,EAAMkL,aAAc,GAClEhH,KAAK8G,mBAAqBZ,GAC/B,EACAiB,gBAAiB,WACf,IAAIrL,EAAQkE,KAAK+D,YACjBjI,IACGA,EAAMqL,gBACHrL,EAAMqL,kBACN,mBAAqBrL,EAAMsL,eAC1BtL,EAAMsL,cAAe,GACzBpH,KAAKiH,qBAAuBf,GACjC,EACAmB,QAAS,WAAa,EACtBC,aAAcpB,KAETI,CACT,CACA,IAaEiB,GACAC,GACAC,GAfEC,GAAiB,CACjBC,WAAY,EACZC,QAAS,EACTC,WAAY,EACZC,UAAW,SAAUhM,GACnB,OAAOA,EAAMgM,WAAaC,KAAKnQ,KACjC,EACAmP,iBAAkB,EAClBiB,UAAW,GAEbC,GAAiB7B,GAAqBsB,IACtCQ,GAAmBhX,EAAO,CAAC,EAAGwW,GAAgB,CAAES,KAAM,EAAGC,OAAQ,IACjEC,GAAmBjC,GAAqB8B,IAIxCI,GAAsBpX,EAAO,CAAC,EAAGgX,GAAkB,CACjDK,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTC,MAAO,EACPC,MAAO,EACPC,QAAS,EACTC,SAAU,EACVC,OAAQ,EACRC,QAAS,EACTC,iBAAkBC,GAClBC,OAAQ,EACRC,QAAS,EACTC,cAAe,SAAUvN,GACvB,YAAO,IAAWA,EAAMuN,cACpBvN,EAAMwN,cAAgBxN,EAAMmI,WAC1BnI,EAAMyN,UACNzN,EAAMwN,YACRxN,EAAMuN,aACZ,EACAG,UAAW,SAAU1N,GACnB,MAAI,cAAeA,EAAcA,EAAM0N,WACvC1N,IAAU2L,KACPA,IAAkB,cAAgB3L,EAAM1L,MACnCmX,GAAgBzL,EAAMyM,QAAUd,GAAec,QAChDf,GAAgB1L,EAAM0M,QAAUf,GAAee,SAC/ChB,GAAgBD,GAAgB,EACpCE,GAAiB3L,GACbyL,GACT,EACAkC,UAAW,SAAU3N,GACnB,MAAO,cAAeA,EAAQA,EAAM2N,UAAYjC,EAClD,IAEFkC,GAAsBtD,GAAqBkC,IAE3CqB,GAAqBvD,GADAlV,EAAO,CAAC,EAAGoX,GAAqB,CAAEsB,aAAc,KAGrEC,GAAsBzD,GADAlV,EAAO,CAAC,EAAGgX,GAAkB,CAAEmB,cAAe,KAOpES,GAA0B1D,GALAlV,EAAO,CAAC,EAAGwW,GAAgB,CACnDqC,cAAe,EACfC,YAAa,EACbC,cAAe,KAUjBC,GAA0B9D,GAPAlV,EAAO,CAAC,EAAGwW,GAAgB,CACnDyC,cAAe,SAAUrO,GACvB,MAAO,kBAAmBA,EACtBA,EAAMqO,cACNtO,OAAOsO,aACb,KAIFC,GAA4BhE,GADAlV,EAAO,CAAC,EAAGwW,GAAgB,CAAErS,KAAM,KAE/DgV,GAAe,CACbC,IAAK,SACLC,SAAU,IACVC,KAAM,YACNC,GAAI,UACJC,MAAO,aACPC,KAAM,YACNC,IAAK,SACLC,IAAK,KACLC,KAAM,cACNC,KAAM,cACNC,OAAQ,aACRC,gBAAiB,gBAEnBC,GAAiB,CACf,EAAG,YACH,EAAG,MACH,GAAI,QACJ,GAAI,QACJ,GAAI,QACJ,GAAI,UACJ,GAAI,MACJ,GAAI,QACJ,GAAI,WACJ,GAAI,SACJ,GAAI,IACJ,GAAI,SACJ,GAAI,WACJ,GAAI,MACJ,GAAI,OACJ,GAAI,YACJ,GAAI,UACJ,GAAI,aACJ,GAAI,YACJ,GAAI,SACJ,GAAI,SACJ,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,aACL,IAAK,QAEPC,GAAoB,CAClBC,IAAK,SACLC,QAAS,UACTC,KAAM,UACNC,MAAO,YAEX,SAASC,GAAoBC,GAC3B,IAAI1H,EAAc/D,KAAK+D,YACvB,OAAOA,EAAYkF,iBACflF,EAAYkF,iBAAiBwC,MAC5BA,EAASN,GAAkBM,OACxB1H,EAAY0H,EAEtB,CACA,SAASvC,KACP,OAAOsC,EACT,CACA,IAsCEE,GAAyBtF,GAtCElV,EAAO,CAAC,EAAGgX,GAAkB,CACtDyD,IAAK,SAAU5H,GACb,GAAIA,EAAY4H,IAAK,CACnB,IAAIA,EAAMtB,GAAatG,EAAY4H,MAAQ5H,EAAY4H,IACvD,GAAI,iBAAmBA,EAAK,OAAOA,CACrC,CACA,MAAO,aAAe5H,EAAY3T,KAE9B,MADE2T,EAAcgC,GAAiBhC,IACZ,QAAU6H,OAAOC,aAAa9H,GACnD,YAAcA,EAAY3T,MAAQ,UAAY2T,EAAY3T,KACxD8a,GAAenH,EAAYiC,UAAY,eACvC,EACR,EACA7X,KAAM,EACN2d,SAAU,EACVjD,QAAS,EACTC,SAAU,EACVC,OAAQ,EACRC,QAAS,EACT+C,OAAQ,EACRC,OAAQ,EACR/C,iBAAkBC,GAClBjD,SAAU,SAAUnK,GAClB,MAAO,aAAeA,EAAM1L,KAAO2V,GAAiBjK,GAAS,CAC/D,EACAkK,QAAS,SAAUlK,GACjB,MAAO,YAAcA,EAAM1L,MAAQ,UAAY0L,EAAM1L,KACjD0L,EAAMkK,QACN,CACN,EACAiG,MAAO,SAAUnQ,GACf,MAAO,aAAeA,EAAM1L,KACxB2V,GAAiBjK,GACjB,YAAcA,EAAM1L,MAAQ,UAAY0L,EAAM1L,KAC5C0L,EAAMkK,QACN,CACR,KAeFkG,GAAwB9F,GAZAlV,EAAO,CAAC,EAAGoX,GAAqB,CACtD6D,UAAW,EACXC,MAAO,EACPC,OAAQ,EACRC,SAAU,EACVC,mBAAoB,EACpBC,MAAO,EACPC,MAAO,EACPC,MAAO,EACPC,YAAa,EACbC,UAAW,KAabC,GAAsBzG,GAVAlV,EAAO,CAAC,EAAGgX,GAAkB,CACjD4E,QAAS,EACTC,cAAe,EACfC,eAAgB,EAChBjE,OAAQ,EACRC,QAAS,EACTH,QAAS,EACTC,SAAU,EACVG,iBAAkBC,MAQpB+D,GAA2B7G,GALAlV,EAAO,CAAC,EAAGwW,GAAgB,CACpDwF,aAAc,EACdlD,YAAa,EACbC,cAAe,KAuBjBkD,GAAsB/G,GApBAlV,EAAO,CAAC,EAAGoX,GAAqB,CACpD8E,OAAQ,SAAUtR,GAChB,MAAO,WAAYA,EACfA,EAAMsR,OACN,gBAAiBtR,GACdA,EAAMuR,YACP,CACR,EACAC,OAAQ,SAAUxR,GAChB,MAAO,WAAYA,EACfA,EAAMwR,OACN,gBAAiBxR,GACdA,EAAMyR,YACP,eAAgBzR,GACbA,EAAM0R,WACP,CACV,EACAC,OAAQ,EACRC,UAAW,KAObC,GAAuBvH,GAJAlV,EAAO,CAAC,EAAGwW,GAAgB,CAChDkG,SAAU,EACVC,SAAU,KAGZC,GAAe,CAAC,EAAG,GAAI,GAAI,IAC3BC,GAAyB5P,IAAa,qBAAsBtC,OAC5DmS,GAAe,KACjB7P,IACE,iBAAkBC,WACjB4P,GAAe5P,SAAS4P,cAC3B,IAAIC,GAAuB9P,IAAa,cAAetC,SAAWmS,GAChEE,GACE/P,MACE4P,IACCC,IAAgB,EAAIA,IAAgB,IAAMA,IAC/CG,GAAgBvC,OAAOC,aAAa,IACpCuC,IAAmB,EACrB,SAASC,GAAyBC,EAAcvK,GAC9C,OAAQuK,GACN,IAAK,QACH,OAAQ,IAAMR,GAAarc,QAAQsS,EAAYiC,SACjD,IAAK,UACH,OAAO,MAAQjC,EAAYiC,QAC7B,IAAK,WACL,IAAK,YACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASuI,GAAuBxK,GAE9B,MAAO,kBADPA,EAAcA,EAAYqE,SACgB,SAAUrE,EAChDA,EAAY1O,KACZ,IACN,CACA,IAAImZ,IAAc,EAiDlB,IAAIC,GAAsB,CACxBC,OAAO,EACPC,MAAM,EACNC,UAAU,EACV,kBAAkB,EAClBC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACL3M,MAAM,EACN4M,MAAM,EACNhhB,KAAK,EACLihB,MAAM,GAER,SAASC,GAAmB/P,GAC1B,IAAIC,EAAWD,GAAQA,EAAKC,UAAYD,EAAKC,SAAST,cACtD,MAAO,UAAYS,IACbiP,GAAoBlP,EAAKnP,MAC3B,aAAeoP,CAGrB,CACA,SAAS+P,GACPC,EACArS,EACA4G,EACAC,GAEAG,GACIC,GACEA,GAAarO,KAAKiO,GACjBI,GAAe,CAACJ,GAClBG,GAAgBH,EAErB,GADA7G,EAAOsS,GAA4BtS,EAAM,aAChC7O,SACLyV,EAAc,IAAIkE,GAClB,WACA,SACA,KACAlE,EACAC,GAEFwL,EAAczZ,KAAK,CAAE+F,MAAOiI,EAAa2L,UAAWvS,IACxD,CACA,IAAIwS,GAAkB,KACpBC,GAAsB,KACxB,SAASC,GAAgBL,GACvBM,GAAqBN,EAAe,EACtC,CACA,SAASO,GAAsBhT,GAE7B,GAAIuD,GADapD,GAAoBH,IACC,OAAOA,CAC/C,CACA,SAASiT,GAA4B1B,EAAcvR,GACjD,GAAI,WAAauR,EAAc,OAAOvR,CACxC,CACA,IAAIkT,IAAwB,EAC5B,GAAI9R,GAAW,CACb,IAAI+R,GACJ,GAAI/R,GAAW,CACb,IAAIgS,GAAgC,YAAa/R,SACjD,IAAK+R,GAA+B,CAClC,IAAIC,GAA4BhS,SAASC,cAAc,OACvD+R,GAA0BpR,aAAa,UAAW,WAClDmR,GACE,oBAAsBC,GAA0BC,OACpD,CACAH,GAAsCC,EACxC,MAAOD,IAAsC,EAC7CD,GACEC,MACE9R,SAAS4P,cAAgB,EAAI5P,SAAS4P,aAC5C,CACA,SAASsC,KACPX,KACGA,GAAgBY,YAAY,mBAAoBC,IAChDZ,GAAsBD,GAAkB,KAC7C,CACA,SAASa,GAAqBzM,GAC5B,GACE,UAAYA,EAAYmJ,cACxB6C,GAAsBH,IACtB,CACA,IAAIJ,EAAgB,GACpBD,GACEC,EACAI,GACA7L,EACAD,GAAeC,IAEjBe,GAAiB+K,GAAiBL,EACpC,CACF,CACA,SAASiB,GAAkCnC,EAActK,EAAQjH,GAC/D,YAAcuR,GACTgC,KAEAV,GAAsB7S,GADtB4S,GAAkB3L,GAEH0M,YAAY,mBAAoBF,KAChD,aAAelC,GAAgBgC,IACrC,CACA,SAASK,GAAmCrC,GAC1C,GACE,oBAAsBA,GACtB,UAAYA,GACZ,YAAcA,EAEd,OAAOyB,GAAsBH,GACjC,CACA,SAASgB,GAA2BtC,EAAcvR,GAChD,GAAI,UAAYuR,EAAc,OAAOyB,GAAsBhT,EAC7D,CACA,SAAS8T,GAAmCvC,EAAcvR,GACxD,GAAI,UAAYuR,GAAgB,WAAaA,EAC3C,OAAOyB,GAAsBhT,EACjC,CAIA,IAAI+T,GAAW,oBAAsB3f,OAAO4f,GAAK5f,OAAO4f,GAHxD,SAAYlgB,EAAGmgB,GACb,OAAQngB,IAAMmgB,IAAM,IAAMngB,GAAK,EAAIA,IAAM,EAAImgB,IAAQngB,IAAMA,GAAKmgB,IAAMA,CACxE,EAEA,SAASC,GAAaC,EAAMC,GAC1B,GAAIL,GAASI,EAAMC,GAAO,OAAO,EACjC,GACE,kBAAoBD,GACpB,OAASA,GACT,kBAAoBC,GACpB,OAASA,EAET,OAAO,EACT,IAAIC,EAAQjgB,OAAOkgB,KAAKH,GACtBI,EAAQngB,OAAOkgB,KAAKF,GACtB,GAAIC,EAAM9iB,SAAWgjB,EAAMhjB,OAAQ,OAAO,EAC1C,IAAKgjB,EAAQ,EAAGA,EAAQF,EAAM9iB,OAAQgjB,IAAS,CAC7C,IAAIC,EAAaH,EAAME,GACvB,IACGna,GAAe3E,KAAK2e,EAAMI,KAC1BT,GAASI,EAAKK,GAAaJ,EAAKI,IAEjC,OAAO,CACX,CACA,OAAO,CACT,CACA,SAASC,GAAY9iB,GACnB,KAAOA,GAAQA,EAAK+T,YAAc/T,EAAOA,EAAK+T,WAC9C,OAAO/T,CACT,CACA,SAAS+iB,GAA0B7X,EAAM8X,GACvC,IAESC,EAFLjjB,EAAO8iB,GAAY5X,GAEvB,IADAA,EAAO,EACWlL,GAAQ,CACxB,GAAI,IAAMA,EAAKC,SAAU,CAEvB,GADAgjB,EAAU/X,EAAOlL,EAAK4T,YAAYhU,OAC9BsL,GAAQ8X,GAAUC,GAAWD,EAC/B,MAAO,CAAEhjB,KAAMA,EAAMgjB,OAAQA,EAAS9X,GACxCA,EAAO+X,CACT,CACAnN,EAAG,CACD,KAAO9V,GAAQ,CACb,GAAIA,EAAKkjB,YAAa,CACpBljB,EAAOA,EAAKkjB,YACZ,MAAMpN,CACR,CACA9V,EAAOA,EAAK+H,UACd,CACA/H,OAAO,CACT,CACAA,EAAO8iB,GAAY9iB,EACrB,CACF,CACA,SAASmjB,GAAaC,EAAWC,GAC/B,SAAOD,IAAaC,KAChBD,IAAcC,KAEZD,GAAa,IAAMA,EAAUnjB,YAE3BojB,GAAa,IAAMA,EAAUpjB,SAC3BkjB,GAAaC,EAAWC,EAAUtb,YAClC,aAAcqb,EACZA,EAAUE,SAASD,KACnBD,EAAUG,4BAC0C,GAA/CH,EAAUG,wBAAwBF,KAGrD,CACA,SAASG,GAAqBC,GAO5B,IACE,IAAI/Q,EAAUV,IAPhByR,EACE,MAAQA,GACR,MAAQA,EAAczQ,eACtB,MAAQyQ,EAAczQ,cAAc0Q,YAChCD,EAAczQ,cAAc0Q,YAC5BvW,QAEyCuC,UAC7CgD,aAAmB+Q,EAAcE,mBAEjC,CACA,IACE,IAAItb,EACF,kBAAoBqK,EAAQkR,cAAcxG,SAASyG,IACvD,CAAE,MAAOrZ,GACPnC,GAA2B,CAC7B,CACA,IAAIA,EACC,MACLqK,EAAUV,IAFoByR,EAAgB/Q,EAAQkR,eAEblU,SAC3C,CACA,OAAOgD,CACT,CACA,SAASoR,GAAyBjT,GAChC,IAAIC,EAAWD,GAAQA,EAAKC,UAAYD,EAAKC,SAAST,cACtD,OACES,IACE,UAAYA,IACX,SAAWD,EAAKnP,MACf,WAAamP,EAAKnP,MAClB,QAAUmP,EAAKnP,MACf,QAAUmP,EAAKnP,MACf,aAAemP,EAAKnP,OACtB,aAAeoP,GACf,SAAWD,EAAKkT,gBAEtB,CACA,SAASC,GAAiBC,EAA2BR,GACnD,IAAIS,EAAiBV,GAAqBC,GAC1CA,EAAgBQ,EAA0BE,YAC1C,IAAIC,EAAsBH,EAA0BI,eACpD,GACEH,IAAmBT,GACnBA,GACAA,EAAczQ,eACdmQ,GAAaM,EAAczQ,cAAcpL,gBAAiB6b,GAC1D,CACA,GAAI,OAASW,GAAuBN,GAAyBL,GAC3D,GACIQ,EAA4BG,EAAoBtN,WAElD,KADCoN,EAAiBE,EAAoBrN,OAEnCmN,EAAiBD,GACpB,mBAAoBR,EAEnBA,EAAca,eAAiBL,EAC7BR,EAAcc,aAAe7Z,KAAK8Z,IACjCN,EACAT,EAAcnf,MAAM1E,aAErB,IACDskB,GACED,EACAR,EAAczQ,eAAiBtD,WAC/BuU,EAA0BP,aAC5BvW,QACasX,aACf,CACAP,EAAiBA,EAAeO,eAChC,IAAI7kB,EAAS6jB,EAAc7P,YAAYhU,OACrCkX,EAAQpM,KAAK8Z,IAAIJ,EAAoBtN,MAAOlX,GAC9CwkB,OACE,IAAWA,EAAoBrN,IAC3BD,EACApM,KAAK8Z,IAAIJ,EAAoBrN,IAAKnX,IACvCskB,EAAeQ,QACd5N,EAAQsN,IACNxkB,EAASwkB,EACVA,EAAsBtN,EACtBA,EAAQlX,GACXA,EAASmjB,GAA0BU,EAAe3M,GAClD,IAAI6N,EAAY5B,GACdU,EACAW,GAEFxkB,GACE+kB,IACC,IAAMT,EAAeU,YACpBV,EAAeW,aAAejlB,EAAOI,MACrCkkB,EAAeY,eAAiBllB,EAAOojB,QACvCkB,EAAea,YAAcJ,EAAU3kB,MACvCkkB,EAAec,cAAgBL,EAAU3B,WACzCiB,EACAA,EAA0BgB,eACFC,SAAStlB,EAAOI,KAAMJ,EAAOojB,QACvDkB,EAAeiB,kBACfrO,EAAQsN,GACHF,EAAekB,SAASnB,GACzBC,EAAeQ,OAAOC,EAAU3kB,KAAM2kB,EAAU3B,UAC/CiB,EAA0BoB,OACzBV,EAAU3kB,KACV2kB,EAAU3B,QAEZkB,EAAekB,SAASnB,IAChC,CAEF,IADAA,EAA4B,GAE1BC,EAAiBT,EAChBS,EAAiBA,EAAenc,YAGjC,IAAMmc,EAAejkB,UACnBgkB,EAA0B5c,KAAK,CAC7BqL,QAASwR,EACToB,KAAMpB,EAAeqB,WACrBC,IAAKtB,EAAeuB,YAG1B,IADA,oBAAsBhC,EAAciC,OAASjC,EAAciC,QAEzDjC,EAAgB,EAChBA,EAAgBQ,EAA0BrkB,OAC1C6jB,KAECS,EAAiBD,EAA0BR,IAC1B/Q,QAAQ6S,WAAarB,EAAeoB,KACnDpB,EAAexR,QAAQ+S,UAAYvB,EAAesB,GACzD,CACF,CACA,IAAIG,GACAlW,IAAa,iBAAkBC,UAAY,IAAMA,SAAS4P,aAC5DpN,GAAgB,KAChB0T,GAAoB,KACpBC,GAAgB,KAChBC,IAAY,EACd,SAASC,GAAqBjF,EAAezL,EAAa0C,GACxD,IAAI9F,EACF8F,EAAkB5K,SAAW4K,EACzBA,EAAkBrI,SAClB,IAAMqI,EAAkB9X,SACtB8X,EACAA,EAAkB/E,cAC1B8S,IACE,MAAQ5T,IACRA,KAAkBF,GAAiBC,KAEnC,mBADEA,EAAMC,KACmB4R,GAAyB7R,GAC/CA,EAAM,CAAE6E,MAAO7E,EAAIqS,eAAgBvN,IAAK9E,EAAIsS,cAK5CtS,EAAM,CACL4S,YALA5S,GACCA,EAAIe,eAAiBf,EAAIe,cAAc0Q,aACxCvW,QACAsX,gBAEgBI,WAChBC,aAAc7S,EAAI6S,aAClBC,UAAW9S,EAAI8S,UACfC,YAAa/S,EAAI+S,aAEtBa,IAAiBtD,GAAasD,GAAe5T,KAC1C4T,GAAgB5T,EAElB,GADCA,EAAM8O,GAA4B6E,GAAmB,aAC9ChmB,SACJyV,EAAc,IAAIkE,GAClB,WACA,SACA,KACAlE,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAOiI,EAAa2L,UAAW/O,IACnDoD,EAAYC,OAASpD,KAC9B,CACA,SAAS8T,GAAcC,EAAWC,GAChC,IAAIC,EAAW,CAAC,EAIhB,OAHAA,EAASF,EAAU5V,eAAiB6V,EAAU7V,cAC9C8V,EAAS,SAAWF,GAAa,SAAWC,EAC5CC,EAAS,MAAQF,GAAa,MAAQC,EAC/BC,CACT,CACA,IAAIC,GAAiB,CACjBC,aAAcL,GAAc,YAAa,gBACzCM,mBAAoBN,GAAc,YAAa,sBAC/CO,eAAgBP,GAAc,YAAa,kBAC3CQ,cAAeR,GAAc,aAAc,iBAC3CS,gBAAiBT,GAAc,aAAc,mBAC7CU,iBAAkBV,GAAc,aAAc,oBAC9CW,cAAeX,GAAc,aAAc,kBAE7CY,GAAqB,CAAC,EACtBxS,GAAQ,CAAC,EASX,SAASyS,GAA2BX,GAClC,GAAIU,GAAmBV,GAAY,OAAOU,GAAmBV,GAC7D,IAAKE,GAAeF,GAAY,OAAOA,EACvC,IACED,EADEa,EAAYV,GAAeF,GAE/B,IAAKD,KAAaa,EAChB,GAAIA,EAAUre,eAAewd,IAAcA,KAAa7R,GACtD,OAAQwS,GAAmBV,GAAaY,EAAUb,GACtD,OAAOC,CACT,CAjBAzW,KACI2E,GAAQ1E,SAASC,cAAc,OAAOyE,MACxC,mBAAoBjH,gBACViZ,GAAeC,aAAaU,iBAC7BX,GAAeE,mBAAmBS,iBAClCX,GAAeG,eAAeQ,WACvC,oBAAqB5Z,eACZiZ,GAAeO,cAAcK,YAWxC,IAAIC,GAAgBJ,GAA2B,gBAC7CK,GAAsBL,GAA2B,sBACjDM,GAAkBN,GAA2B,kBAC7CO,GAAiBP,GAA2B,iBAC5CQ,GAAmBR,GAA2B,mBAC9CS,GAAoBT,GAA2B,oBAC/CU,GAAiBV,GAA2B,iBAC5CW,GAA6B,IAAI1Y,IACjC2Y,GACE,6nBAA6nB9iB,MAC3nB,KAEN,SAAS+iB,GAAoB9H,EAAc/H,GACzC2P,GAA2B7jB,IAAIic,EAAc/H,GAC7CzI,GAAsByI,EAAW,CAAC+H,GACpC,CACA,IAAI+H,GAAmB,GACrBC,GAAwB,EACxBC,GAA2B,EAC7B,SAASC,KACP,IACE,IAAIC,EAAWH,GACb9nB,EAAK+nB,GAA2BD,GAAwB,EAC1D9nB,EAAIioB,GAEJ,CACA,IAAI9iB,EAAQ0iB,GAAiB7nB,GAC7B6nB,GAAiB7nB,KAAO,KACxB,IAAIkoB,EAAQL,GAAiB7nB,GAC7B6nB,GAAiB7nB,KAAO,KACxB,IAAImoB,EAASN,GAAiB7nB,GAC9B6nB,GAAiB7nB,KAAO,KACxB,IAAIgM,EAAO6b,GAAiB7nB,GAE5B,GADA6nB,GAAiB7nB,KAAO,KACpB,OAASkoB,GAAS,OAASC,EAAQ,CACrC,IAAIvhB,EAAUshB,EAAMthB,QACpB,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnDD,EAAMthB,QAAUuhB,CAClB,CACA,IAAMnc,GAAQqc,GAA8BljB,EAAOgjB,EAAQnc,EAC7D,CACF,CACA,SAASsc,GAAgBnjB,EAAO+iB,EAAOC,EAAQnc,GAC7C6b,GAAiBC,MAA2B3iB,EAC5C0iB,GAAiBC,MAA2BI,EAC5CL,GAAiBC,MAA2BK,EAC5CN,GAAiBC,MAA2B9b,EAC5C+b,IAA4B/b,EAC5B7G,EAAM8F,OAASe,EAEf,QADA7G,EAAQA,EAAMS,aACKT,EAAM8F,OAASe,EACpC,CACA,SAASuc,GAA4BpjB,EAAO+iB,EAAOC,EAAQnc,GAEzD,OADAsc,GAAgBnjB,EAAO+iB,EAAOC,EAAQnc,GAC/Bwc,GAAuBrjB,EAChC,CACA,SAASsjB,GAA+BtjB,EAAO6G,GAE7C,OADAsc,GAAgBnjB,EAAO,KAAM,KAAM6G,GAC5Bwc,GAAuBrjB,EAChC,CACA,SAASkjB,GAA8BK,EAAaP,EAAQnc,GAC1D0c,EAAYzd,OAASe,EACrB,IAAIpG,EAAY8iB,EAAY9iB,UAC5B,OAASA,IAAcA,EAAUqF,OAASe,GAC1C,IAAK,IAAI2c,GAAW,EAAIC,EAASF,EAAYljB,OAAQ,OAASojB,GAC3DA,EAAOC,YAAc7c,EAEpB,QADCpG,EAAYgjB,EAAOhjB,aACGA,EAAUijB,YAAc7c,GAC/C,KAAO4c,EAAOxjB,MAEZ,QADEsjB,EAAcE,EAAOha,YAC2B,EAA1B8Z,EAAYI,cAAoBH,GAAW,IACpED,EAAcE,EACdA,EAASA,EAAOpjB,OACrBmjB,GACE,OAASR,GACT,IAAMO,EAAYtjB,MAChBwjB,EAASF,EAAY9Z,UACtB+Z,EAAW,GAAKhe,GAAMqB,GAGvB,QADC0c,GADAE,EAASA,EAAOG,eACKJ,IAEjBC,EAAOD,GAAY,CAACR,GACrBO,EAAYnhB,KAAK4gB,GACpBA,EAAOnc,KAAc,UAAPA,EACnB,CACA,SAASwc,GAAuBE,GAC9B,GAAI,GAAKM,GACP,MACIA,GAAoB,EACrBC,GAAwB,KACzBpmB,MAAMnD,EAAuB,MAEjC,IAAK,IAAIkpB,EAASF,EAAYljB,OAAQ,OAASojB,GACpBA,GAAxBF,EAAcE,GAA+BpjB,OAChD,OAAO,IAAMkjB,EAAYtjB,IAAMsjB,EAAY9Z,UAAY,IACzD,CACA,IAAIsa,GAAqB,CAAC,EACxBC,GAAiB,IAAIC,QACvB,SAASC,GAA2B7kB,EAAO8kB,GACzC,GAAI,kBAAoB9kB,GAAS,OAASA,EAAO,CAC/C,IAAI+kB,EAAWJ,GAAe5X,IAAI/M,GAClC,YAAI,IAAW+kB,EAAiBA,GAChCD,EAAS,CACP9kB,MAAOA,EACP8kB,OAAQA,EACRvmB,MAAOsC,EAA4BikB,IAErCH,GAAetlB,IAAIW,EAAO8kB,GACnBA,EACT,CACA,MAAO,CACL9kB,MAAOA,EACP8kB,OAAQA,EACRvmB,MAAOsC,EAA4BikB,GAEvC,CACA,IAAIE,GAAY,GACdC,GAAiB,EACjBC,GAAmB,KACnBC,GAAgB,EAChBC,GAAU,GACVC,GAAe,EACfC,GAAsB,KACtBC,GAAgB,EAChBC,GAAsB,GACxB,SAASC,GAAa3kB,EAAgB4kB,GACpCV,GAAUC,MAAoBE,GAC9BH,GAAUC,MAAoBC,GAC9BA,GAAmBpkB,EACnBqkB,GAAgBO,CAClB,CACA,SAASC,GAAW7kB,EAAgB4kB,EAAejjB,GACjD2iB,GAAQC,MAAkBE,GAC1BH,GAAQC,MAAkBG,GAC1BJ,GAAQC,MAAkBC,GAC1BA,GAAsBxkB,EACtB,IAAI8kB,EAAuBL,GAC3BzkB,EAAiB0kB,GACjB,IAAIK,EAAa,GAAK1f,GAAMyf,GAAwB,EACpDA,KAA0B,GAAKC,GAC/BpjB,GAAS,EACT,IAAInH,EAAS,GAAK6K,GAAMuf,GAAiBG,EACzC,GAAI,GAAKvqB,EAAQ,CACf,IAAIwqB,EAAuBD,EAAcA,EAAa,EACtDvqB,GACEsqB,GACE,GAAKE,GAAwB,GAC/B5c,SAAS,IACX0c,IAAyBE,EACzBD,GAAcC,EACdP,GACG,GAAM,GAAKpf,GAAMuf,GAAiBG,EAClCpjB,GAASojB,EACVD,EACFJ,GAAsBlqB,EAASwF,CACjC,MACGykB,GACE,GAAKjqB,EAAWmH,GAASojB,EAAcD,EACvCJ,GAAsB1kB,CAC7B,CACA,SAASilB,GAAuBjlB,GAC9B,OAASA,EAAeE,SACrBykB,GAAa3kB,EAAgB,GAAI6kB,GAAW7kB,EAAgB,EAAG,GACpE,CACA,SAASklB,GAAellB,GACtB,KAAOA,IAAmBokB,IACvBA,GAAmBF,KAAYC,IAC7BD,GAAUC,IAAkB,KAC5BE,GAAgBH,KAAYC,IAC5BD,GAAUC,IAAkB,KACjC,KAAOnkB,IAAmBwkB,IACvBA,GAAsBF,KAAUC,IAC9BD,GAAQC,IAAgB,KACxBG,GAAsBJ,KAAUC,IAChCD,GAAQC,IAAgB,KACxBE,GAAgBH,KAAUC,IAC1BD,GAAQC,IAAgB,IAC/B,CACA,IAAIY,GAAuB,KACzBC,GAAyB,KACzBzX,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EACzBC,GAA6BhoB,MAAMnD,EAAuB,MAC5D,SAASorB,GAAyB3lB,GAGhC,MADA4lB,GAAoB1B,GADRxmB,MAAMnD,EAAuB,IAAK,KACQyF,IAChD0lB,EACR,CACA,SAASG,GAA6B7lB,GACpC,IAAI8lB,EAAW9lB,EAAMyJ,UACnBhN,EAAOuD,EAAMvD,KACbmU,EAAQ5Q,EAAM+lB,cAGhB,OAFAD,EAASrd,IAAuBzI,EAChC8lB,EAASpd,IAAoBkI,EACrBnU,GACN,IAAK,SACHupB,GAA0B,SAAUF,GACpCE,GAA0B,QAASF,GACnC,MACF,IAAK,SACL,IAAK,SACL,IAAK,QACHE,GAA0B,OAAQF,GAClC,MACF,IAAK,QACL,IAAK,QACH,IAAKrpB,EAAO,EAAGA,EAAOwpB,GAAgBtrB,OAAQ8B,IAC5CupB,GAA0BC,GAAgBxpB,GAAOqpB,GACnD,MACF,IAAK,SACHE,GAA0B,QAASF,GACnC,MACF,IAAK,MACL,IAAK,QACL,IAAK,OACHE,GAA0B,QAASF,GACnCE,GAA0B,OAAQF,GAClC,MACF,IAAK,UACHE,GAA0B,SAAUF,GACpC,MACF,IAAK,QACHE,GAA0B,UAAWF,GACrCjY,GACEiY,EACAlV,EAAMvR,MACNuR,EAAM5O,aACN4O,EAAM9D,QACN8D,EAAMjD,eACNiD,EAAMnU,KACNmU,EAAMhU,MACN,GAEFkP,GAAMga,GACN,MACF,IAAK,SACHE,GAA0B,UAAWF,GACrC,MACF,IAAK,WACHE,GAA0B,UAAWF,GACnCrX,GAAaqX,EAAUlV,EAAMvR,MAAOuR,EAAM5O,aAAc4O,EAAMlC,UAC9D5C,GAAMga,GAGX,kBADDrpB,EAAOmU,EAAMlC,WAEX,kBAAoBjS,GACpB,kBAAoBA,GACtBqpB,EAASnX,cAAgB,GAAKlS,IAC9B,IAAOmU,EAAMsV,0BACbC,GAAsBL,EAASnX,YAAalS,IACvC,MAAQmU,EAAMwV,UACZJ,GAA0B,eAAgBF,GAC3CE,GAA0B,SAAUF,IACtC,MAAQlV,EAAMyV,UAAYL,GAA0B,SAAUF,GAC9D,MAAQlV,EAAM0V,aACZN,GAA0B,YAAaF,GACzC,MAAQlV,EAAM2V,UAAYT,EAASU,QAAUC,IAC5CX,GAAW,GACXA,GAAW,EAChBA,GAAYH,GAAyB3lB,EACvC,CACA,SAAS0mB,GAAoB1mB,GAC3B,IAAKslB,GAAuBtlB,EAAMK,OAAQilB,IACxC,OAAQA,GAAqBrlB,KAC3B,KAAK,EACL,KAAK,GAEH,YADAwlB,IAAyB,GAE3B,KAAK,EACL,KAAK,GAEH,YADAA,IAAyB,GAE3B,QACEH,GAAuBA,GAAqBjlB,OAEpD,CACA,SAASsmB,GAAkB3mB,GACzB,GAAIA,IAAUslB,GAAsB,OAAO,EAC3C,IAAKxX,GAAa,OAAO4Y,GAAoB1mB,GAAS8N,IAAc,GAAK,EACzE,IACE8Y,EADEC,GAAc,EAalB,IAXKD,EAAkB,IAAM5mB,EAAMC,KAAO,KAAOD,EAAMC,QAChD2mB,EAAkB,IAAM5mB,EAAMC,OAE9B2mB,IACG,UAFLA,EAAkB5mB,EAAMvD,OAEW,WAAamqB,IAC7CE,GAAqB9mB,EAAMvD,KAAMuD,EAAM+lB,gBAC7Ca,GAAmBA,GAErBA,IAAoBC,GAAc,GAClCA,GAAetB,IAA0BI,GAAyB3lB,GAClE0mB,GAAoB1mB,GAChB,KAAOA,EAAMC,IAAK,CAGpB,KADAD,EAAQ,QADRA,EAAQA,EAAMa,eACWb,EAAMc,WAAa,MAChC,MAAMpD,MAAMnD,EAAuB,MAC/CsW,EAAG,CAED,IADA7Q,EAAQA,EAAMie,YACT4I,EAAc,EAAG7mB,GAAS,CAC7B,GAAI,IAAMA,EAAMhF,SACd,GAAqC,QAA/B4rB,EAAkB5mB,EAAM0B,MAAkC,CAC9D,GAAI,IAAMmlB,EAAa,CACrBtB,GAAyBwB,GAAkB/mB,EAAMie,aACjD,MAAMpN,CACR,CACAgW,GACF,KACG,MAAQD,GACP,OAASA,GACT,OAASA,GACTC,IACN7mB,EAAQA,EAAMie,WAChB,CACAsH,GAAyB,IAC3B,CACF,MACEA,GAAyBD,GACrByB,GAAkB/mB,EAAMyJ,UAAUwU,aAClC,KACN,OAAO,CACT,CACA,SAAS+I,KACPzB,GAAyBD,GAAuB,KAChDxX,IAAc,CAChB,CACA,SAAS8X,GAAoBqB,GAC3B,OAASzB,GACJA,GAAkB,CAACyB,GACpBzB,GAAgBpjB,KAAK6kB,EAC3B,CACA,IAAIC,GAAoBxpB,MAAMnD,EAAuB,MACnD4sB,GAA2BzpB,MAAMnD,EAAuB,MACxD6sB,GAA8B,CAAEC,KAAM,WAAa,GACrD,SAASC,GAAmBC,GAE1B,MAAO,eADPA,EAAWA,EAASC,SACe,aAAeD,CACpD,CACA,SAASE,KAAU,CACnB,SAASC,GAAkBC,EAAeJ,EAAUzlB,GAKlD,YAHA,KADAA,EAAQ6lB,EAAc7lB,IAElB6lB,EAAcvlB,KAAKmlB,GACnBzlB,IAAUylB,IAAaA,EAASF,KAAKI,GAAQA,IAAUF,EAAWzlB,GAC9DylB,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WAEH,IADAsoB,EAAgBJ,EAASK,UACHV,GACpB,MAAMxpB,MAAMnD,EAAuB,MACrC,MAAMotB,EACR,QACE,GAAI,kBAAoBJ,EAASC,OAAQD,EAASF,KAAKI,GAAQA,QAC1D,CAEH,GAAI,QADJE,EAAgBE,KACc,IAAMF,EAAcG,oBAChD,MAAMpqB,MAAMnD,EAAuB,OACrCotB,EAAgBJ,GACFC,OAAS,UACvBG,EAAcN,MACZ,SAAUU,GACR,GAAI,YAAcR,EAASC,OAAQ,CACjC,IAAIQ,EAAoBT,EACxBS,EAAkBR,OAAS,YAC3BQ,EAAkB3oB,MAAQ0oB,CAC5B,CACF,IACA,SAAUd,GACR,GAAI,YAAcM,EAASC,OAAQ,CACjC,IAAIS,EAAmBV,EACvBU,EAAiBT,OAAS,WAC1BS,EAAiBL,OAASX,CAC5B,CACF,GAEJ,CACA,OAAQM,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WAEH,IADAsoB,EAAgBJ,EAASK,UACHV,GACpB,MAAMxpB,MAAMnD,EAAuB,MACrC,MAAMotB,EAGV,MADAO,GAAoBX,EACdL,GAEZ,CACA,IAAIgB,GAAoB,KACxB,SAASC,KACP,GAAI,OAASD,GAAmB,MAAMxqB,MAAMnD,EAAuB,MACnE,IAAIgtB,EAAWW,GAEf,OADAA,GAAoB,KACbX,CACT,CACA,IAAIa,GAAkB,KACpBC,GAAyB,EAC3B,SAASC,GAAef,GACtB,IAAIzlB,EAAQumB,GAGZ,OAFAA,IAA0B,EAC1B,OAASD,KAAoBA,GAAkB,IACxCV,GAAkBU,GAAiBb,EAAUzlB,EACtD,CACA,SAASymB,GAAUpoB,EAAgBsN,GACjCA,EAAUA,EAAQmD,MAAM4X,IACxBroB,EAAeqoB,SAAM,IAAW/a,EAAUA,EAAU,IACtD,CACA,SAASgb,GAAyBC,EAAaC,GAC7C,GAAIA,EAASjsB,WAAazB,EACxB,MAAMyC,MAAMnD,EAAuB,MAErC,MADAmuB,EAAclrB,OAAOiB,UAAU8J,SAAS1J,KAAK8pB,GACvCjrB,MACJnD,EACE,GACA,oBAAsBmuB,EAClB,qBAAuBlrB,OAAOkgB,KAAKiL,GAAUC,KAAK,MAAQ,IAC1DF,GAGV,CACA,SAASG,GAAYC,GAEnB,OAAOC,EADID,EAAS7rB,OACR6rB,EAAS9rB,SACvB,CACA,SAASgsB,GAAsBC,GAC7B,SAASC,EAAYR,EAAaS,GAChC,GAAIF,EAAwB,CAC1B,IAAIG,EAAYV,EAAYU,UAC5B,OAASA,GACHV,EAAYU,UAAY,CAACD,GAAkBT,EAAYhoB,OAAS,IAClE0oB,EAAUhnB,KAAK+mB,EACrB,CACF,CACA,SAASE,EAAwBX,EAAaY,GAC5C,IAAKL,EAAwB,OAAO,KACpC,KAAO,OAASK,GACdJ,EAAYR,EAAaY,GACtBA,EAAoBA,EAAkBpoB,QAC3C,OAAO,IACT,CACA,SAASqoB,EAAqBD,GAC5B,IAAK,IAAIE,EAAmB,IAAI3f,IAAO,OAASyf,GAC9C,OAASA,EAAkBtR,IACvBwR,EAAiB9qB,IAAI4qB,EAAkBtR,IAAKsR,GAC5CE,EAAiB9qB,IAAI4qB,EAAkBxnB,MAAOwnB,GAC/CA,EAAoBA,EAAkBpoB,QAC3C,OAAOsoB,CACT,CACA,SAASC,EAASzpB,EAAO0pB,GAIvB,OAHA1pB,EAAQ2pB,GAAqB3pB,EAAO0pB,IAC9B5nB,MAAQ,EACd9B,EAAMkB,QAAU,KACTlB,CACT,CACA,SAAS4pB,EAAWC,EAAUC,EAAiBC,GAE7C,OADAF,EAAS/nB,MAAQioB,EACZd,EAGD,QADJc,EAAWF,EAASppB,YAGfspB,EAAWA,EAASjoB,OACVgoB,GACLD,EAASnpB,OAAS,SAAWopB,GAC/BC,GAERF,EAASnpB,OAAS,SACXopB,IAVGD,EAASnpB,OAAS,QAAUopB,EAWxC,CACA,SAASE,EAAiBH,GAIxB,OAHAZ,GACE,OAASY,EAASppB,YACjBopB,EAASnpB,OAAS,UACdmpB,CACT,CACA,SAASI,EAAevB,EAAazmB,EAAS0M,EAAa7I,GACzD,OAAI,OAAS7D,GAAW,IAAMA,EAAQhC,MAEjCgC,EAAUioB,GAAoBvb,EAAa+Z,EAAYyB,KAAMrkB,IACrDzF,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAAS0M,IACpBtO,OAASqoB,EACVzmB,EACT,CACA,SAASmoB,EAAc1B,EAAazmB,EAASwL,EAAS3H,GACpD,IAAIukB,EAAc5c,EAAQhR,KAC1B,OAAI4tB,IAAgB/uB,EACXgvB,EACL5B,EACAzmB,EACAwL,EAAQmD,MAAMlC,SACd5I,EACA2H,EAAQuK,KAGV,OAAS/V,IACRA,EAAQooB,cAAgBA,GACtB,kBAAoBA,GACnB,OAASA,GACTA,EAAY3tB,WAAaV,GACzB6sB,GAAYwB,KAAiBpoB,EAAQxF,OAIvC8rB,GADCtmB,EAAUwnB,EAASxnB,EAASwL,EAAQmD,OAClBnD,GAClBxL,EAAQ5B,OAASqoB,EAClBzmB,IAUJsmB,GARAtmB,EAAUsoB,GACR9c,EAAQhR,KACRgR,EAAQuK,IACRvK,EAAQmD,MACR,KACA8X,EAAYyB,KACZrkB,GAEiB2H,GACnBxL,EAAQ5B,OAASqoB,EACVzmB,EACT,CACA,SAASuoB,EAAa9B,EAAazmB,EAASwoB,EAAQ3kB,GAClD,OACE,OAAS7D,GACT,IAAMA,EAAQhC,KACdgC,EAAQwH,UAAU+U,gBAAkBiM,EAAOjM,eAC3Cvc,EAAQwH,UAAUihB,iBAAmBD,EAAOC,iBAGzCzoB,EAAU0oB,GAAsBF,EAAQ/B,EAAYyB,KAAMrkB,IAClDzF,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAASwoB,EAAO/b,UAAY,KACvCrO,OAASqoB,EACVzmB,EACT,CACA,SAASqoB,EAAe5B,EAAazmB,EAAS2oB,EAAU9kB,EAAOkS,GAC7D,OAAI,OAAS/V,GAAW,IAAMA,EAAQhC,MAEjCgC,EAAU4oB,GACTD,EACAlC,EAAYyB,KACZrkB,EACAkS,IAEO3X,OAASqoB,EAClBzmB,KAEJA,EAAUwnB,EAASxnB,EAAS2oB,IACpBvqB,OAASqoB,EACVzmB,EACT,CACA,SAAS6oB,EAAYpC,EAAaC,EAAU7iB,GAC1C,GACG,kBAAoB6iB,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OACGA,EAAWuB,GACV,GAAKvB,EACLD,EAAYyB,KACZrkB,IAEQzF,OAASqoB,EACnBC,EAEJ,GAAI,kBAAoBA,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OASEmtB,GARCziB,EAAQykB,GACP5B,EAASlsB,KACTksB,EAAS3Q,IACT2Q,EAAS/X,MACT,KACA8X,EAAYyB,KACZrkB,GAEe6iB,GAChB7iB,EAAMzF,OAASqoB,EAChB5iB,EAEJ,KAAKzK,EACH,OACGstB,EAAWgC,GACVhC,EACAD,EAAYyB,KACZrkB,IAEQzF,OAASqoB,EACnBC,EAEJ,KAAK3sB,EAGH,OAAO8uB,EAAYpC,EADnBC,GAAWI,EADAJ,EAAS1rB,OACJ0rB,EAAS3rB,UACiB8I,GAE9C,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OACGA,EAAWkC,GACVlC,EACAD,EAAYyB,KACZrkB,EACA,OAEQzF,OAASqoB,EACnBC,EAEJ,GAAI,oBAAsBA,EAAStB,KACjC,OAAOyD,EAAYpC,EAAaJ,GAAeK,GAAW7iB,GAC5D,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOmvB,EACLpC,EACAqC,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CACA,SAASqC,EAAWtC,EAAauC,EAAUtC,EAAU7iB,GACnD,IAAIkS,EAAM,OAASiT,EAAWA,EAASjT,IAAM,KAC7C,GACG,kBAAoB2Q,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OAAO,OAAS3Q,EACZ,KACAiS,EAAevB,EAAauC,EAAU,GAAKtC,EAAU7iB,GAC3D,GAAI,kBAAoB6iB,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OAAOutB,EAAS3Q,MAAQA,EACpBoS,EAAc1B,EAAauC,EAAUtC,EAAU7iB,GAC/C,KACN,KAAKzK,EACH,OAAOstB,EAAS3Q,MAAQA,EACpBwS,EAAa9B,EAAauC,EAAUtC,EAAU7iB,GAC9C,KACN,KAAK9J,EACH,OAGEgvB,EAAWtC,EAAauC,EADvBtC,GADA3Q,EAAM2Q,EAAS1rB,OACA0rB,EAAS3rB,UACmB8I,GAGlD,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OAAO,OAAS3Q,EACZ,KACAsS,EAAe5B,EAAauC,EAAUtC,EAAU7iB,EAAO,MAC7D,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO2D,EACLtC,EACAuC,EACA3C,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOqvB,EACLtC,EACAuC,EACAF,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CACA,SAASuC,EACP1B,EACAd,EACAyC,EACAxC,EACA7iB,GAEA,GACG,kBAAoB6iB,GAAY,KAAOA,GACxC,kBAAoBA,GACpB,kBAAoBA,EAEpB,OAEEsB,EAAevB,EADdc,EAAmBA,EAAiBpd,IAAI+e,IAAW,KACN,GAAKxC,EAAU7iB,GAEjE,GAAI,kBAAoB6iB,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACH,OAKEgvB,EAAc1B,EAJbc,EACCA,EAAiBpd,IACf,OAASuc,EAAS3Q,IAAMmT,EAASxC,EAAS3Q,MACvC,KACsC2Q,EAAU7iB,GAE3D,KAAKzK,EACH,OAKEmvB,EAAa9B,EAJZc,EACCA,EAAiBpd,IACf,OAASuc,EAAS3Q,IAAMmT,EAASxC,EAAS3Q,MACvC,KACqC2Q,EAAU7iB,GAE1D,KAAK9J,EAGH,OAAOkvB,EACL1B,EACAd,EACAyC,EAJFxC,GAAWI,EADAJ,EAAS1rB,OACJ0rB,EAAS3rB,UAMvB8I,GAGN,GAAI3E,EAAYwnB,IAAatsB,EAAcssB,GACzC,OAEE2B,EAAe5B,EADdc,EAAmBA,EAAiBpd,IAAI+e,IAAW,KACNxC,EAAU7iB,EAAO,MAEnE,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO6D,EACL1B,EACAd,EACAyC,EACA7C,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOuvB,EACL1B,EACAd,EACAyC,EACAJ,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,OAAO,IACT,CA4KA,SAASyC,EACP1C,EACAY,EACAX,EACA7iB,GAOA,GALA,kBAAoB6iB,GAClB,OAASA,GACTA,EAASlsB,OAASnB,GAClB,OAASqtB,EAAS3Q,MACjB2Q,EAAWA,EAAS/X,MAAMlC,UACzB,kBAAoBia,GAAY,OAASA,EAAU,CACrD,OAAQA,EAASjsB,UACf,KAAKtB,EACHyV,EAAG,CACD,IAAK,IAAImH,EAAM2Q,EAAS3Q,IAAK,OAASsR,GAAqB,CACzD,GAAIA,EAAkBtR,MAAQA,EAAK,CAEjC,IADAA,EAAM2Q,EAASlsB,QACHnB,GACV,GAAI,IAAMguB,EAAkBrpB,IAAK,CAC/BopB,EACEX,EACAY,EAAkBpoB,UAEpB4E,EAAQ2jB,EACNH,EACAX,EAAS/X,MAAMlC,WAEXrO,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,OACK,GACLyY,EAAkBe,cAAgBrS,GACjC,kBAAoBA,GACnB,OAASA,GACTA,EAAItb,WAAaV,GACjB6sB,GAAY7Q,KAASsR,EAAkB7sB,KACzC,CACA4sB,EACEX,EACAY,EAAkBpoB,SAGpBqnB,GADAziB,EAAQ2jB,EAASH,EAAmBX,EAAS/X,OAC5B+X,GACjB7iB,EAAMzF,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,CACAwY,EAAwBX,EAAaY,GACrC,KACF,CAAOJ,EAAYR,EAAaY,GAChCA,EAAoBA,EAAkBpoB,OACxC,CACAynB,EAASlsB,OAASnB,IACZwK,EAAQ+kB,GACRlC,EAAS/X,MAAMlC,SACfga,EAAYyB,KACZrkB,EACA6iB,EAAS3Q,MAEJ3X,OAASqoB,EACfA,EAAc5iB,IASfyiB,GAREziB,EAAQykB,GACR5B,EAASlsB,KACTksB,EAAS3Q,IACT2Q,EAAS/X,MACT,KACA8X,EAAYyB,KACZrkB,GAEe6iB,GAChB7iB,EAAMzF,OAASqoB,EACfA,EAAc5iB,EACrB,CACA,OAAOkkB,EAAiBtB,GAC1B,KAAKrtB,EACHwV,EAAG,CACD,IAAKmH,EAAM2Q,EAAS3Q,IAAK,OAASsR,GAAqB,CACrD,GAAIA,EAAkBtR,MAAQA,EAAG,CAC/B,GACE,IAAMsR,EAAkBrpB,KACxBqpB,EAAkB7f,UAAU+U,gBAC1BmK,EAASnK,eACX8K,EAAkB7f,UAAUihB,iBAC1B/B,EAAS+B,eACX,CACArB,EACEX,EACAY,EAAkBpoB,UAEpB4E,EAAQ2jB,EAASH,EAAmBX,EAASja,UAAY,KACnDrO,OAASqoB,EACfA,EAAc5iB,EACd,MAAM+K,CACR,CACEwY,EAAwBX,EAAaY,GACrC,KACD,CACEJ,EAAYR,EAAaY,GAC9BA,EAAoBA,EAAkBpoB,OACxC,EACA4E,EAAQ6kB,GAAsBhC,EAAUD,EAAYyB,KAAMrkB,IACpDzF,OAASqoB,EACfA,EAAc5iB,CAChB,CACA,OAAOkkB,EAAiBtB,GAC1B,KAAK1sB,EACH,OAGEovB,EACE1C,EACAY,EAHDX,GADA3Q,EAAM2Q,EAAS1rB,OACA0rB,EAAS3rB,UAKvB8I,GAIR,GAAI3E,EAAYwnB,GACd,OAnSN,SACED,EACAY,EACA+B,EACAvlB,GAEA,IACE,IAAIwlB,EAAsB,KACxBC,EAAmB,KACnBN,EAAW3B,EACX6B,EAAU7B,EAAoB,EAC9BkC,EAAe,KACjB,OAASP,GAAYE,EAASE,EAAY1wB,OAC1CwwB,IACA,CACAF,EAASnpB,MAAQqpB,GACXK,EAAeP,EAAYA,EAAW,MACvCO,EAAeP,EAAS/pB,QAC7B,IAAI2oB,EAAWmB,EACbtC,EACAuC,EACAI,EAAYF,GACZrlB,GAEF,GAAI,OAAS+jB,EAAU,CACrB,OAASoB,IAAaA,EAAWO,GACjC,KACF,CACAvC,GACEgC,GACA,OAASpB,EAASppB,WAClByoB,EAAYR,EAAauC,GAC3B3B,EAAoBM,EAAWC,EAAUP,EAAmB6B,GAC5D,OAASI,EACJD,EAAsBzB,EACtB0B,EAAiBrqB,QAAU2oB,EAChC0B,EAAmB1B,EACnBoB,EAAWO,CACb,CACA,GAAIL,IAAWE,EAAY1wB,OACzB,OACE0uB,EAAwBX,EAAauC,GACrCnd,IAAegX,GAAa4D,EAAayC,GACzCG,EAEJ,GAAI,OAASL,EAAU,CACrB,KAAOE,EAASE,EAAY1wB,OAAQwwB,IAEhC,QADDF,EAAWH,EAAYpC,EAAa2C,EAAYF,GAASrlB,MAEpDwjB,EAAoBM,EACpBqB,EACA3B,EACA6B,GAEF,OAASI,EACJD,EAAsBL,EACtBM,EAAiBrqB,QAAU+pB,EAC/BM,EAAmBN,GAE1B,OADAnd,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CACA,IACEL,EAAW1B,EAAqB0B,GAChCE,EAASE,EAAY1wB,OACrBwwB,IASE,QAPDK,EAAeN,EACdD,EACAvC,EACAyC,EACAE,EAAYF,GACZrlB,MAGGmjB,GACC,OAASuC,EAAa/qB,WACtBwqB,EAASQ,OACP,OAASD,EAAaxT,IAAMmT,EAASK,EAAaxT,KAErDsR,EAAoBM,EACnB4B,EACAlC,EACA6B,GAEF,OAASI,EACJD,EAAsBE,EACtBD,EAAiBrqB,QAAUsqB,EAC/BD,EAAmBC,GAM1B,OALAvC,GACEgC,EAASS,SAAQ,SAAUzqB,GACzB,OAAOioB,EAAYR,EAAaznB,EAClC,IACF6M,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CAqMaK,CACLjD,EACAY,EACAX,EACA7iB,GAEJ,GAAIzJ,EAAcssB,GAAW,CAE3B,GAAI,oBADJ3Q,EAAM3b,EAAcssB,IACW,MAAMjrB,MAAMnD,EAAuB,MAElE,OA9MN,SACEmuB,EACAY,EACA+B,EACAvlB,GAEA,GAAI,MAAQulB,EAAa,MAAM3tB,MAAMnD,EAAuB,MAC5D,IACE,IAAI+wB,EAAsB,KACxBC,EAAmB,KACnBN,EAAW3B,EACX6B,EAAU7B,EAAoB,EAC9BkC,EAAe,KACfI,EAAOP,EAAYpI,OACrB,OAASgI,IAAaW,EAAKC,KAC3BV,IAAUS,EAAOP,EAAYpI,OAC7B,CACAgI,EAASnpB,MAAQqpB,GACXK,EAAeP,EAAYA,EAAW,MACvCO,EAAeP,EAAS/pB,QAC7B,IAAI2oB,EAAWmB,EAAWtC,EAAauC,EAAUW,EAAKvsB,MAAOyG,GAC7D,GAAI,OAAS+jB,EAAU,CACrB,OAASoB,IAAaA,EAAWO,GACjC,KACF,CACAvC,GACEgC,GACA,OAASpB,EAASppB,WAClByoB,EAAYR,EAAauC,GAC3B3B,EAAoBM,EAAWC,EAAUP,EAAmB6B,GAC5D,OAASI,EACJD,EAAsBzB,EACtB0B,EAAiBrqB,QAAU2oB,EAChC0B,EAAmB1B,EACnBoB,EAAWO,CACb,CACA,GAAII,EAAKC,KACP,OACExC,EAAwBX,EAAauC,GACrCnd,IAAegX,GAAa4D,EAAayC,GACzCG,EAEJ,GAAI,OAASL,EAAU,CACrB,MAAQW,EAAKC,KAAMV,IAAUS,EAAOP,EAAYpI,OAE5C,QADD2I,EAAOd,EAAYpC,EAAakD,EAAKvsB,MAAOyG,MAEvCwjB,EAAoBM,EAAWgC,EAAMtC,EAAmB6B,GAC1D,OAASI,EACJD,EAAsBM,EACtBL,EAAiBrqB,QAAU0qB,EAC/BL,EAAmBK,GAE1B,OADA9d,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CACA,IACEL,EAAW1B,EAAqB0B,IAC/BW,EAAKC,KACNV,IAAUS,EAAOP,EAAYpI,OAG3B,QADD2I,EAAOV,EAAcD,EAAUvC,EAAayC,EAAQS,EAAKvsB,MAAOyG,MAE5DmjB,GACC,OAAS2C,EAAKnrB,WACdwqB,EAASQ,OAAO,OAASG,EAAK5T,IAAMmT,EAASS,EAAK5T,KACnDsR,EAAoBM,EAAWgC,EAAMtC,EAAmB6B,GACzD,OAASI,EACJD,EAAsBM,EACtBL,EAAiBrqB,QAAU0qB,EAC/BL,EAAmBK,GAM1B,OALA3C,GACEgC,EAASS,SAAQ,SAAUzqB,GACzB,OAAOioB,EAAYR,EAAaznB,EAClC,IACF6M,IAAegX,GAAa4D,EAAayC,GAClCG,CACT,CAmIaQ,CACLpD,EACAY,EAHFX,EAAW3Q,EAAInZ,KAAK8pB,GAKlB7iB,EAEJ,CACA,GAAI,oBAAsB6iB,EAAStB,KACjC,OAAO+D,EACL1C,EACAY,EACAhB,GAAeK,GACf7iB,GAEJ,GAAI6iB,EAASjsB,WAAaf,EACxB,OAAOyvB,EACL1C,EACAY,EACAyB,GAAgCrC,EAAaC,GAC7C7iB,GAEJ2iB,GAAyBC,EAAaC,EACxC,CACA,MAAQ,kBAAoBA,GAAY,KAAOA,GAC7C,kBAAoBA,GACpB,kBAAoBA,GAChBA,EAAW,GAAKA,EAClB,OAASW,GAAqB,IAAMA,EAAkBrpB,KACjDopB,EAAwBX,EAAaY,EAAkBpoB,UACvD4E,EAAQ2jB,EAASH,EAAmBX,IAC9BtoB,OAASqoB,EACfA,EAAc5iB,IACdujB,EAAwBX,EAAaY,IACrCxjB,EAAQokB,GAAoBvB,EAAUD,EAAYyB,KAAMrkB,IAClDzF,OAASqoB,EACfA,EAAc5iB,GACnBkkB,EAAiBtB,IACjBW,EAAwBX,EAAaY,EAC3C,CACA,OAAO,SAAUZ,EAAaY,EAAmBX,EAAU7iB,GACzD,IACEuiB,GAAyB,EACzB,IAAI0D,EAAkBX,EACpB1C,EACAY,EACAX,EACA7iB,GAGF,OADAsiB,GAAkB,KACX2D,CACT,CAAE,MAAO7uB,GACP,GAAIA,IAAMgqB,GAAmB,MAAMhqB,EACnC,IAAI8C,EAAQgsB,GAAqB,GAAI9uB,EAAG,KAAMwrB,EAAYyB,MAG1D,OAFAnqB,EAAM8F,MAAQA,EACd9F,EAAMK,OAASqoB,EACR1oB,CACT,CAEF,CACF,CACA,IAAIisB,GAAuBjD,IAAsB,GAC/CkD,GAAmBlD,IAAsB,GACzCmD,GAA+BpqB,EAAa,MAC5CqqB,GAAiCrqB,EAAa,GAChD,SAASsqB,GAAkBrsB,EAAOmD,GAEhCf,EAAKgqB,GADLpsB,EAAQssB,IAERlqB,EAAK+pB,GAA8BhpB,GACnCmpB,GAAuBtsB,EAAQmD,EAAQopB,SACzC,CACA,SAASC,KACPpqB,EAAKgqB,GAAgCE,IACrClqB,EAAK+pB,GAA8BA,GAA6BlqB,QAClE,CACA,SAASwqB,KACPH,GAAuBF,GAA+BnqB,QACtDC,EAAIiqB,IACJjqB,EAAIkqB,GACN,CACA,IAAIM,GAA6B3qB,EAAa,MAC5C4qB,GAAgB,KAClB,SAASC,GAA+BC,GACtC,IAAI5qB,EAAU4qB,EAAQpsB,UACtB2B,EAAK0qB,GAAmD,EAA9BA,GAAoB7qB,SAC9CG,EAAKsqB,GAA4BG,GACjC,OAASF,KACN,OAAS1qB,GAAW,OAASkqB,GAA6BlqB,SAEvD,OAASA,EAAQpB,iBADhB8rB,GAAgBE,EAEzB,CACA,SAASE,GAA6B/sB,GACpC,GAAI,KAAOA,EAAMC,KACf,GACGmC,EAAK0qB,GAAqBA,GAAoB7qB,SAC/CG,EAAKsqB,GAA4B1sB,GACjC,OAAS2sB,GACT,CACA,IAAI1qB,EAAUjC,EAAMS,UACpB,OAASwB,GACP,OAASA,EAAQpB,gBAChB8rB,GAAgB3sB,EACrB,OACKgtB,IACT,CACA,SAASA,KACP5qB,EAAK0qB,GAAqBA,GAAoB7qB,SAC9CG,EAAKsqB,GAA4BA,GAA2BzqB,QAC9D,CACA,SAASgrB,GAAmBjtB,GAC1BkC,EAAIwqB,IACJC,KAAkB3sB,IAAU2sB,GAAgB,MAC5CzqB,EAAI4qB,GACN,CACA,IAAIA,GAAsB/qB,EAAa,GACvC,SAASmrB,GAAmBC,GAC1B,IAAK,IAAIpyB,EAAOoyB,EAAK,OAASpyB,GAAQ,CACpC,GAAI,KAAOA,EAAKkF,IAAK,CACnB,IAAImtB,EAAQryB,EAAK8F,cACjB,GACE,OAASusB,IAET,QADEA,EAAQA,EAAMtsB,aACE,OAASssB,EAAM1rB,MAAQ,OAAS0rB,EAAM1rB,MAExD,OAAO3G,CACX,MAAO,GAAI,KAAOA,EAAKkF,UAAO,IAAWlF,EAAKgrB,cAAcsH,aAC1D,GAAI,KAAoB,IAAbtyB,EAAK2F,OAAc,OAAO3F,OAChC,GAAI,OAASA,EAAKkG,MAAO,CAC9BlG,EAAKkG,MAAMZ,OAAStF,EACpBA,EAAOA,EAAKkG,MACZ,QACF,CACA,GAAIlG,IAASoyB,EAAK,MAClB,KAAO,OAASpyB,EAAKmG,SAAW,CAC9B,GAAI,OAASnG,EAAKsF,QAAUtF,EAAKsF,SAAW8sB,EAAK,OAAO,KACxDpyB,EAAOA,EAAKsF,MACd,CACAtF,EAAKmG,QAAQb,OAAStF,EAAKsF,OAC3BtF,EAAOA,EAAKmG,OACd,CACA,OAAO,IACT,CACA,IAAIosB,GACA,qBAAuBC,gBACnBA,gBACA,WACE,IAAIxR,EAAY,GACdyR,EAAUnhB,KAAKmhB,OAAS,CACtBC,SAAS,EACTjc,iBAAkB,SAAU/U,EAAMixB,GAChC3R,EAAU3Z,KAAKsrB,EACjB,GAEJrhB,KAAKshB,MAAQ,WACXH,EAAOC,SAAU,EACjB1R,EAAU2P,SAAQ,SAAUgC,GAC1B,OAAOA,GACT,GACF,CACF,EACNE,GAAqBzzB,EAAUuJ,0BAC/BmqB,GAAiB1zB,EAAUuK,wBAC3BopB,GAAe,CACbpxB,SAAUf,EACVoyB,SAAU,KACVC,SAAU,KACVzqB,cAAe,KACf0qB,eAAgB,KAChBC,aAAc,GAElB,SAASC,KACP,MAAO,CACLC,WAAY,IAAId,GAChB5rB,KAAM,IAAImI,IACVwkB,SAAU,EAEd,CACA,SAASC,GAAaC,GACpBA,EAAMF,WACN,IAAME,EAAMF,UACVT,GAAmBC,IAAgB,WACjCU,EAAMH,WAAWT,OACnB,GACJ,CACA,IAAIa,GAA4B,KAC9BC,GAA+B,EAC/BC,GAAuB,EACvBC,GAAiC,KAkBnC,SAASC,KACP,GACE,MAAQH,IACR,OAASD,GACT,CACA,OAASG,KACNA,GAA+BnH,OAAS,aAC3C,IAAIzL,EAAYyS,GAChBA,GAA4B,KAC5BE,GAAuB,EACvBC,GAAiC,KACjC,IAAK,IAAI9zB,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,KAAK,EAAIkhB,EAAUlhB,KAC3D,CACF,CA0BA,IAAIg0B,GAA8BxxB,EAAqByxB,EACvDzxB,EAAqByxB,EAAI,SAAU/M,EAAY1O,GAC7C,kBAAoBA,GAClB,OAASA,GACT,oBAAsBA,EAAYgU,MA5DtC,SAA6BtF,EAAYwF,GACvC,GAAI,OAASiH,GAA2B,CACtC,IAAIO,EAAsBP,GAA4B,GACtDC,GAA+B,EAC/BC,GAAuBM,KACvBL,GAAiC,CAC/BnH,OAAQ,UACRnoB,WAAO,EACPgoB,KAAM,SAAU4H,GACdF,EAAmB3sB,KAAK6sB,EAC1B,EAEJ,CACAR,KACAlH,EAASF,KAAKuH,GAA2BA,GAE3C,CA6CIM,CAAoBnN,EAAY1O,GAClC,OAASwb,IACPA,GAA4B9M,EAAY1O,EAC5C,EACA,IAAI8b,GAAeptB,EAAa,MAChC,SAASqtB,KACP,IAAIC,EAAiCF,GAAaltB,QAClD,OAAO,OAASotB,EACZA,EACAxH,GAAmByH,WACzB,CACA,SAASC,GAAeC,EAAyBC,GAE3CrtB,EAAK+sB,GADT,OAASM,EACcN,GAAaltB,QACbwtB,EAAcC,KACvC,CACA,SAASC,KACP,IAAIC,EAAgBR,KACpB,OAAO,OAASQ,EACZ,KACA,CAAEnM,OAAQqK,GAAavqB,cAAemsB,KAAME,EAClD,CACA,IAAIjpB,GAAc,EAChBkpB,GAA4B,KAC5BC,GAAc,KACdC,GAAqB,KACrBC,IAA+B,EAC/BC,IAA6C,EAC7CC,IAAsC,EACtCC,GAAiB,EACjBC,GAAuB,EACvBzI,GAAgB,KAChB0I,GAAwB,EAC1B,SAASC,KACP,MAAM5yB,MAAMnD,EAAuB,KACrC,CACA,SAASg2B,GAAmBC,EAAUC,GACpC,GAAI,OAASA,EAAU,OAAO,EAC9B,IAAK,IAAI51B,EAAI,EAAGA,EAAI41B,EAAS91B,QAAUE,EAAI21B,EAAS71B,OAAQE,IAC1D,IAAKsiB,GAASqT,EAAS31B,GAAI41B,EAAS51B,IAAK,OAAO,EAClD,OAAO,CACT,CACA,SAAS61B,GACPzuB,EACA9B,EACAwwB,EACA/f,EACAggB,EACAC,GAsBA,OApBAlqB,GAAckqB,EACdhB,GAA4B1vB,EAC5BA,EAAeU,cAAgB,KAC/BV,EAAe2wB,YAAc,KAC7B3wB,EAAe2F,MAAQ,EACvBzI,EAAqB0zB,EACnB,OAAS9uB,GAAW,OAASA,EAAQpB,cACjCmwB,GACAC,GACNf,IAAsC,EACtCW,EAAkBF,EAAU/f,EAAOggB,GACnCV,IAAsC,EACtCD,KACGY,EAAkBK,GACjB/wB,EACAwwB,EACA/f,EACAggB,IAEJO,GAAqBlvB,GACd4uB,CACT,CACA,SAASM,GAAqBlvB,GAC5B5E,EAAqB0zB,EAAIK,GACzB,IAAIC,EAAuB,OAASvB,IAAe,OAASA,GAAY7M,KAMxE,GALAtc,GAAc,EACdopB,GAAqBD,GAAcD,GAA4B,KAC/DG,IAA+B,EAC/BI,GAAuB,EACvBzI,GAAgB,KACZ0J,EAAsB,MAAM3zB,MAAMnD,EAAuB,MAC7D,OAAS0H,GACPqvB,IAEA,QADErvB,EAAUA,EAAQoI,eAElBknB,GAAsBtvB,KACrBqvB,IAAmB,EAC1B,CACA,SAASJ,GAAqB/wB,EAAgBwwB,EAAW/f,EAAOggB,GAC9Df,GAA4B1vB,EAC5B,IAAIqxB,EAAoB,EACxB,EAAG,CAID,GAHAvB,KAA+CtI,GAAgB,MAC/DyI,GAAuB,EACvBH,IAA6C,EACzC,IAAMuB,EAAmB,MAAM9zB,MAAMnD,EAAuB,MAGhE,GAFAi3B,GAAqB,EACrBzB,GAAqBD,GAAc,KAC/B,MAAQ3vB,EAAe2wB,YAAa,CACtC,IAAIpiB,EAAWvO,EAAe2wB,YAC9BpiB,EAAS+iB,WAAa,KACtB/iB,EAASgjB,OAAS,KAClBhjB,EAASijB,OAAS,KAClB,MAAQjjB,EAASkjB,YAAcljB,EAASkjB,UAAU9vB,MAAQ,EAC5D,CACAzE,EAAqB0zB,EAAIc,GACzBnjB,EAAWiiB,EAAU/f,EAAOggB,EAC9B,OAASX,IACT,OAAOvhB,CACT,CACA,SAASojB,KACP,IAAIC,EAAa10B,EAAqB0zB,EACpCiB,EAAgBD,EAAWE,WAAW,GAQxC,OAPAD,EACE,oBAAsBA,EAAc3K,KAChC6K,GAAYF,GACZA,EACND,EAAaA,EAAWE,WAAW,IAClC,OAASnC,GAAcA,GAAYjvB,cAAgB,QAAUkxB,IAC3DlC,GAA0BnvB,OAAS,MAC/BsxB,CACT,CACA,SAASG,KACP,IAAIC,EAAkB,IAAMjC,GAE5B,OADAA,GAAiB,EACViC,CACT,CACA,SAASC,GAAapwB,EAAS9B,EAAgB2F,GAC7C3F,EAAe2wB,YAAc7uB,EAAQ6uB,YACrC3wB,EAAeO,QAAU,KACzBuB,EAAQ6D,QAAUA,CACpB,CACA,SAASwsB,GAAmBnyB,GAC1B,GAAI6vB,GAA8B,CAChC,IACE7vB,EAAiBA,EAAeU,cAChC,OAASV,GAET,CACA,IAAI4iB,EAAQ5iB,EAAe4iB,MAC3B,OAASA,IAAUA,EAAMthB,QAAU,MACnCtB,EAAiBA,EAAe8iB,IAClC,CACA+M,IAA+B,CACjC,CACArpB,GAAc,EACdopB,GAAqBD,GAAcD,GAA4B,KAC/DI,IAA6C,EAC7CG,GAAuBD,GAAiB,EACxCxI,GAAgB,IAClB,CACA,SAAS4K,KACP,IAAIC,EAAO,CACT3xB,cAAe,KACf4xB,UAAW,KACXC,UAAW,KACX3P,MAAO,KACPE,KAAM,MAKR,OAHA,OAAS8M,GACJF,GAA0BhvB,cAAgBkvB,GAAqByC,EAC/DzC,GAAqBA,GAAmB9M,KAAOuP,EAC7CzC,EACT,CACA,SAAS4C,KACP,GAAI,OAAS7C,GAAa,CACxB,IAAI8C,EAAkB/C,GAA0BpvB,UAChDmyB,EACE,OAASA,EAAkBA,EAAgB/xB,cAAgB,IAC/D,MAAO+xB,EAAkB9C,GAAY7M,KACrC,IAAI4P,EACF,OAAS9C,GACLF,GAA0BhvB,cAC1BkvB,GAAmB9M,KACzB,GAAI,OAAS4P,EACV9C,GAAqB8C,EACnB/C,GAAc8C,MACd,CACH,GAAI,OAASA,EAAiB,CAC5B,GAAI,OAAS/C,GAA0BpvB,UACrC,MAAM/C,MAAMnD,EAAuB,MACrC,MAAMmD,MAAMnD,EAAuB,KACrC,CAEAq4B,EAAkB,CAChB/xB,eAFFivB,GAAc8C,GAEe/xB,cAC3B4xB,UAAW3C,GAAY2C,UACvBC,UAAW5C,GAAY4C,UACvB3P,MAAO+M,GAAY/M,MACnBE,KAAM,MAER,OAAS8M,GACJF,GAA0BhvB,cAAgBkvB,GACzC6C,EACD7C,GAAqBA,GAAmB9M,KAAO2P,CACtD,CACA,OAAO7C,EACT,CAKA,SAASmC,GAAY3K,GACnB,IAAIzlB,EAAQsuB,GAcZ,OAbAA,IAAwB,EACxB,OAASzI,KAAkBA,GAAgB,IAC3CJ,EAAWG,GAAkBC,GAAeJ,EAAUzlB,GACtDA,EAAQ+tB,GACR,QACG,OAASE,GACNjuB,EAAMjB,cACNkvB,GAAmB9M,QACrBnhB,EAAQA,EAAMrB,UACfpD,EAAqB0zB,EACpB,OAASjvB,GAAS,OAASA,EAAMjB,cAC7BmwB,GACAC,IACD1J,CACT,CACA,SAASuL,GAAIC,GACX,GAAI,OAASA,GAAU,kBAAoBA,EAAQ,CACjD,GAAI,oBAAsBA,EAAO1L,KAAM,OAAO6K,GAAYa,GAC1D,GAAIA,EAAOr2B,WAAaf,EAAoB,OAAOq3B,GAAYD,EACjE,CACA,MAAMr1B,MAAMnD,EAAuB,IAAK0d,OAAO8a,IACjD,CACA,SAASE,GAAaC,GACpB,IAAItB,EAAY,KACdd,EAAcjB,GAA0BiB,YAE1C,GADA,OAASA,IAAgBc,EAAYd,EAAYc,WAC7C,MAAQA,EAAW,CACrB,IAAI3vB,EAAU4tB,GAA0BpvB,UACxC,OAASwB,IAEP,QADEA,EAAUA,EAAQ6uB,eAGlB,OADE7uB,EAAUA,EAAQ2vB,aAEjBA,EAAY,CACXlwB,KAAMO,EAAQP,KAAKyxB,KAAI,SAAUC,GAC/B,OAAOA,EAAM5qB,OACf,IACA1G,MAAO,KAEjB,CAOA,GANA,MAAQ8vB,IAAcA,EAAY,CAAElwB,KAAM,GAAII,MAAO,IACrD,OAASgvB,IACLA,EA9CG,CAAEW,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MA+C/D/B,GAA0BiB,YAAcA,GAC3CA,EAAYc,UAAYA,OAEpB,KADJd,EAAcc,EAAUlwB,KAAKkwB,EAAU9vB,QAErC,IACEgvB,EAAcc,EAAUlwB,KAAKkwB,EAAU9vB,OAASV,MAAM8xB,GAAOjxB,EAAU,EACvEA,EAAUixB,EACVjxB,IAEA6uB,EAAY7uB,GAAW/F,EAE3B,OADA01B,EAAU9vB,QACHgvB,CACT,CACA,SAASuC,GAAkBjG,EAAOxrB,GAChC,MAAO,oBAAsBA,EAASA,EAAOwrB,GAASxrB,CACxD,CACA,SAAS0xB,GAAcC,GAErB,OAAOC,GADIb,KACoB7C,GAAayD,EAC9C,CACA,SAASC,GAAkBhB,EAAMvwB,EAASsxB,GACxC,IAAIxQ,EAAQyP,EAAKzP,MACjB,GAAI,OAASA,EAAO,MAAMrlB,MAAMnD,EAAuB,MACvDwoB,EAAM0Q,oBAAsBF,EAC5B,IAAIb,EAAYF,EAAKE,UACnBgB,EAAe3Q,EAAMthB,QACvB,GAAI,OAASiyB,EAAc,CACzB,GAAI,OAAShB,EAAW,CACtB,IAAIiB,EAAYjB,EAAUzP,KAC1ByP,EAAUzP,KAAOyQ,EAAazQ,KAC9ByQ,EAAazQ,KAAO0Q,CACtB,CACA1xB,EAAQywB,UAAYA,EAAYgB,EAChC3Q,EAAMthB,QAAU,IAClB,CAEA,GADAiyB,EAAelB,EAAKC,UAChB,OAASC,EAAWF,EAAK3xB,cAAgB6yB,MACxC,CAEH,IAAIE,EAAqBD,EAAY,KACnCE,EAAmB,KACnB7Q,EAHF/gB,EAAUywB,EAAUzP,KAIlB6Q,GAAqC,EACvC,EAAG,CACD,IAAIzsB,GAA4B,UAAf2b,EAAOnc,KACxB,GACEQ,IAAe2b,EAAOnc,MACjBktB,GAAgC1sB,KAAgBA,GAChDV,GAAcU,KAAgBA,EACnC,CACA,IAAI2sB,EAAahR,EAAOgR,WACxB,GAAI,IAAMA,EACR,OAASH,IACNA,EAAmBA,EAAiB5Q,KACnC,CACEpc,KAAM,EACNmtB,WAAY,EACZpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,OAEV5b,IAAeqnB,KACZoF,GAAqC,OACvC,KAAKntB,GAAcqtB,KAAgBA,EAAY,CAClDhR,EAASA,EAAOC,KAChB+Q,IAAetF,KACZoF,GAAqC,GACxC,QACF,CACGzsB,EAAa,CACZR,KAAM,EACNmtB,WAAYhR,EAAOgR,WACnBpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,MAEN,OAAS4Q,GACHD,EAAoBC,EAAmBxsB,EACxCssB,EAAYD,GACZG,EAAmBA,EAAiB5Q,KAAO5b,EAC/CwoB,GAA0B/pB,OAASkuB,EACnCG,IAAkCH,CAAW,CAClD3sB,EAAa2b,EAAOphB,OACpBsuB,IACEqD,EAAQG,EAAcrsB,GACxBqsB,EAAe1Q,EAAOiR,cAClBjR,EAAOkR,WACPX,EAAQG,EAAcrsB,EAC5B,MACG2sB,EAAa,CACZntB,KAAMQ,EACN2sB,WAAYhR,EAAOgR,WACnBpyB,OAAQohB,EAAOphB,OACfqyB,cAAejR,EAAOiR,cACtBC,WAAYlR,EAAOkR,WACnBjR,KAAM,MAEN,OAAS4Q,GACHD,EAAoBC,EAAmBG,EACxCL,EAAYD,GACZG,EAAmBA,EAAiB5Q,KAAO+Q,EAC/CnE,GAA0B/pB,OAASuB,EACnC8sB,IAAkC9sB,EACvC2b,EAASA,EAAOC,IAClB,OAAS,OAASD,GAAUA,IAAW/gB,GAIvC,GAHA,OAAS4xB,EACJF,EAAYD,EACZG,EAAiB5Q,KAAO2Q,GAE1BzW,GAASuW,EAAclB,EAAK3xB,iBAC3BywB,IAAmB,EACrBwC,GAC+C,QAA3CP,EAAU5E,KAEd,MAAM4E,EACRf,EAAK3xB,cAAgB6yB,EACrBlB,EAAKC,UAAYkB,EACjBnB,EAAKE,UAAYmB,EACjB9Q,EAAMqR,kBAAoBV,CAC5B,CAEA,OADA,OAAShB,IAAc3P,EAAMjd,MAAQ,GAC9B,CAAC0sB,EAAK3xB,cAAekiB,EAAMsR,SACpC,CACA,SAASC,GAAgBf,GACvB,IAAIf,EAAOG,KACT5P,EAAQyP,EAAKzP,MACf,GAAI,OAASA,EAAO,MAAMrlB,MAAMnD,EAAuB,MACvDwoB,EAAM0Q,oBAAsBF,EAC5B,IAAIc,EAAWtR,EAAMsR,SACnBE,EAAwBxR,EAAMthB,QAC9BwY,EAAWuY,EAAK3xB,cAClB,GAAI,OAAS0zB,EAAuB,CAClCxR,EAAMthB,QAAU,KAChB,IAAIuhB,EAAUuR,EAAwBA,EAAsBtR,KAC5D,GAAIhJ,EAAWsZ,EAAQtZ,EAAU+I,EAAOphB,QAAWohB,EAASA,EAAOC,WAC5DD,IAAWuR,GAClBpX,GAASlD,EAAUuY,EAAK3xB,iBAAmBywB,IAAmB,GAC9DkB,EAAK3xB,cAAgBoZ,EACrB,OAASuY,EAAKE,YAAcF,EAAKC,UAAYxY,GAC7C8I,EAAMqR,kBAAoBna,CAC5B,CACA,MAAO,CAACA,EAAUoa,EACpB,CACA,SAASG,GAAwBC,EAAWC,EAAaC,GACvD,IAAI30B,EAAQ6vB,GACV2C,EAAOG,KACPiC,EAAuB9mB,GACzB,GAAI8mB,EAAsB,CACxB,QAAI,IAAWD,EAAmB,MAAMj3B,MAAMnD,EAAuB,MACrEo6B,EAAoBA,GACtB,MAAOA,EAAoBD,IAC3B,IAAIG,GAAmB1X,IACpB2S,IAAe0C,GAAM3xB,cACtB8zB,GAQF,GANAE,IACIrC,EAAK3xB,cAAgB8zB,EAAqBrD,IAAmB,GACjEkB,EAAOA,EAAKzP,MACZ+R,GAAaC,GAAiBC,KAAK,KAAMh1B,EAAOwyB,EAAMiC,GAAY,CAChEA,IAGAjC,EAAKkC,cAAgBA,GACrBG,GACC,OAAS9E,IAA6D,EAAvCA,GAAmBlvB,cAAcZ,IACjE,CAcA,GAbAD,EAAMU,OAAS,KACfu0B,GACE,EACAC,GAAoBF,KAClB,KACAh1B,EACAwyB,EACAmC,EACAD,GAEF,CAAES,aAAS,GACX,MAEE,OAAStN,GAAoB,MAAMnqB,MAAMnD,EAAuB,MACpEq6B,GACE,KAAqB,GAAdjuB,KACPyuB,GAA0Bp1B,EAAO00B,EAAaC,EAClD,CACA,OAAOA,CACT,CACA,SAASS,GAA0Bp1B,EAAO00B,EAAaW,GACrDr1B,EAAMU,OAAS,MACfV,EAAQ,CAAE00B,YAAaA,EAAar1B,MAAOg2B,GAE3C,QADAX,EAAc7E,GAA0BiB,cAElC4D,EAhPC,CAAEjD,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MAiP7D/B,GAA0BiB,YAAc4D,EACxCA,EAAY/C,OAAS,CAAC3xB,IAEvB,QADEq1B,EAAmBX,EAAY/C,QAE5B+C,EAAY/C,OAAS,CAAC3xB,GACvBq1B,EAAiBjzB,KAAKpC,EAChC,CACA,SAASk1B,GAAoBl1B,EAAOwJ,EAAM8rB,EAAcZ,GACtDlrB,EAAKnK,MAAQi2B,EACb9rB,EAAKkrB,YAAcA,EACnBa,GAAuB/rB,IAASgsB,GAAmBx1B,EACrD,CACA,SAAS+0B,GAAiB/0B,EAAOwJ,EAAMirB,GACrC,OAAOA,GAAU,WACfc,GAAuB/rB,IAASgsB,GAAmBx1B,EACrD,GACF,CACA,SAASu1B,GAAuB/rB,GAC9B,IAAIisB,EAAoBjsB,EAAKkrB,YAC7BlrB,EAAOA,EAAKnK,MACZ,IACE,IAAIq2B,EAAYD,IAChB,OAAQtY,GAAS3T,EAAMksB,EACzB,CAAE,MAAOzO,GACP,OAAO,CACT,CACF,CACA,SAASuO,GAAmBx1B,GAC1B,IAAIiG,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,GAAQ0vB,GAAsB1vB,EAAMjG,EAAO,EACtD,CACA,SAAS41B,GAAeC,GACtB,IAAIrD,EAAOD,KACX,GAAI,oBAAsBsD,EAAc,CACtC,IAAIC,EAA0BD,EAE9B,GADAA,EAAeC,IACX5F,GAAqC,CACvC9qB,IAA2B,GAC3B,IACE0wB,GACF,CAAE,QACA1wB,IAA2B,EAC7B,CACF,CACF,CASA,OARAotB,EAAK3xB,cAAgB2xB,EAAKC,UAAYoD,EACtCrD,EAAKzP,MAAQ,CACXthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmByB,GAEdrD,CACT,CACA,SAASuD,GAAqBvD,EAAMvwB,EAAS+zB,EAAazC,GAExD,OADAf,EAAKC,UAAYuD,EACVxC,GACLhB,EACA1C,GACA,oBAAsByD,EAAUA,EAAUF,GAE9C,CACA,SAAS4C,GACPj2B,EACAk2B,EACAC,EACAC,EACAC,GAEA,GAAIC,GAAoBt2B,GAAQ,MAAMtC,MAAMnD,EAAuB,MAEnE,GAAI,QADJyF,EAAQk2B,EAAYt0B,QACA,CAClB,IAAI20B,EAAa,CACfF,QAASA,EACTz0B,OAAQ5B,EACRijB,KAAM,KACNuT,cAAc,EACdhP,OAAQ,UACRnoB,MAAO,KACPuoB,OAAQ,KACR7L,UAAW,GACXsL,KAAM,SAAUqG,GACd6I,EAAWxa,UAAU3Z,KAAKsrB,EAC5B,GAEF,OAASrwB,EAAqBo5B,EAC1BN,GAAgB,GACfI,EAAWC,cAAe,EAC/BJ,EAASG,GAET,QADAJ,EAAkBD,EAAYz0B,UAExB80B,EAAWtT,KAAOiT,EAAYz0B,QAAU80B,EAC1CG,GAAqBR,EAAaK,KAChCA,EAAWtT,KAAOkT,EAAgBlT,KACnCiT,EAAYz0B,QAAU00B,EAAgBlT,KAAOsT,EACpD,CACF,CACA,SAASG,GAAqBR,EAAan7B,GACzC,IAAI6G,EAAS7G,EAAK6G,OAChBy0B,EAAUt7B,EAAKs7B,QACfM,EAAYT,EAAY9I,MAC1B,GAAIryB,EAAKy7B,aAAc,CACrB,IAAII,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzB,IACE,IAAIxjB,EAAczR,EAAO+0B,EAAWN,GAClCS,EAA0Bz5B,EAAqByxB,EACjD,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAC7C0jB,GAAwBb,EAAan7B,EAAMsY,EAC7C,CAAE,MAAO4T,GACP+P,GAAcd,EAAan7B,EAAMksB,EACnC,CAAE,QACA5pB,EAAqBo5B,EAAIG,CAC3B,CACF,MACE,IAEIG,GAAwBb,EAAan7B,EADtC67B,EAAiBh1B,EAAO+0B,EAAWN,GAEtC,CAAE,MAAOY,GACPD,GAAcd,EAAan7B,EAAMk8B,EACnC,CACJ,CACA,SAASF,GAAwBb,EAAan7B,EAAMsY,GAClD,OAASA,GACT,kBAAoBA,GACpB,oBAAsBA,EAAYgU,KAC9BhU,EAAYgU,MACV,SAAU6P,GACRC,GAAgBjB,EAAan7B,EAAMm8B,EACrC,IACA,SAAUjQ,GACR,OAAO+P,GAAcd,EAAan7B,EAAMksB,EAC1C,IAEFkQ,GAAgBjB,EAAan7B,EAAMsY,EACzC,CACA,SAAS8jB,GAAgBjB,EAAaK,EAAYW,GAChDX,EAAW/O,OAAS,YACpB+O,EAAWl3B,MAAQ63B,EACnBE,GAAsBb,GACtBL,EAAY9I,MAAQ8J,EAEpB,QADAX,EAAaL,EAAYz0B,YAErBy1B,EAAYX,EAAWtT,QACXsT,EACTL,EAAYz0B,QAAU,MACrBy1B,EAAYA,EAAUjU,KACvBsT,EAAWtT,KAAOiU,EACnBR,GAAqBR,EAAagB,IAC1C,CACA,SAASF,GAAcd,EAAaK,EAAYtP,GAC9C,IAAIoQ,EAAOnB,EAAYz0B,QAEvB,GADAy0B,EAAYz0B,QAAU,KAClB,OAAS41B,EAAM,CACjBA,EAAOA,EAAKpU,KACZ,GACGsT,EAAW/O,OAAS,WAClB+O,EAAW3O,OAASX,EACrBmQ,GAAsBb,GACrBA,EAAaA,EAAWtT,WACtBsT,IAAec,EACxB,CACAnB,EAAYt0B,OAAS,IACvB,CACA,SAASw1B,GAAsBb,GAC7BA,EAAaA,EAAWxa,UACxB,IAAK,IAAIlhB,EAAI,EAAGA,EAAI07B,EAAW57B,OAAQE,KAAK,EAAI07B,EAAW17B,KAC7D,CACA,SAASy8B,GAAmBpd,EAAUD,GACpC,OAAOA,CACT,CACA,SAASsd,GAAiB31B,EAAQ41B,GAChC,GAAI1pB,GAAa,CACf,IAAI2pB,EAAe5P,GAAmB6P,UACtC,GAAI,OAASD,EAAc,CACzB5mB,EAAG,CACD,IAAIzN,EAA2BysB,GAC/B,GAAI/hB,GAAa,CACf,GAAIyX,GAAwB,CAC1BnU,EAAG,CAED,IADA,IAAIumB,EAAoCpS,GAElCqS,EAAoBnS,GACxB,IAAMkS,EAAkC38B,UAExC,CACA,IAAK48B,EAAmB,CACtBD,EAAoC,KACpC,MAAMvmB,CACR,CAIA,GAAI,QAHJumB,EAAoC5Q,GAClC4Q,EAAkC1Z,cAEY,CAC9C0Z,EAAoC,KACpC,MAAMvmB,CACR,CACF,CAEAumB,EACE,QAFFC,EAAoBD,EAAkCj2B,OAEtB,MAAQk2B,EAClCD,EACA,IACR,CACA,GAAIA,EAAmC,CACrCpS,GAAyBwB,GACvB4Q,EAAkC1Z,aAEpC7a,EACE,OAASu0B,EAAkCj2B,KAC7C,MAAMmP,CACR,CACF,CACA8U,GAAyBviB,EAC3B,CACAA,GAA2B,CAC7B,CACAA,IAA6Bo0B,EAAmBC,EAAa,GAC/D,CACF,CAyCA,OAxCAA,EAAelF,MACF1xB,cAAgB42B,EAAahF,UAAY+E,EACtDp0B,EAA2B,CACzB3B,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqB6D,GACrBlD,kBAAmBoD,GAErBC,EAAa1U,MAAQ3f,EACrBq0B,EAAeI,GAAiB7C,KAC9B,KACAnF,GACAzsB,GAEFA,EAAyBixB,SAAWoD,EACpCr0B,EAA2BwyB,IAAe,GAC1CgC,EAAoBE,GAA2B9C,KAC7C,KACAnF,IACA,EACAzsB,EAAyB2f,OAG3B4U,EAAoC,CAClCvK,MAAOoK,EACPnD,SAAU,KACVzyB,OAAQA,EACRH,QAAS,OALX2B,EAA2BmvB,MAOFxP,MAAQ4U,EACjCF,EAAexB,GAAoBjB,KACjC,KACAnF,GACA8H,EACAC,EACAH,GAEFE,EAAkCtD,SAAWoD,EAC7Cr0B,EAAyBvC,cAAgBe,EAClC,CAAC41B,EAAkBC,GAAc,EAC1C,CACA,SAASM,GAAkBn2B,GAEzB,OAAOo2B,GADSrF,KACwB7C,GAAaluB,EACvD,CACA,SAASo2B,GAAsBC,EAAWC,EAAkBt2B,GAC1Ds2B,EAAmB1E,GACjByE,EACAC,EACAZ,IACA,GACFW,EAAY3E,GAAcD,IAAmB,GAC7C6E,EACE,kBAAoBA,GACpB,OAASA,GACT,oBAAsBA,EAAiB7Q,KACnC6K,GAAYgG,GACZA,EACN,IAAIC,EAAkBxF,KACpBuD,EAAciC,EAAgBpV,MAC9BsR,EAAW6B,EAAY7B,SASzB,OARAzyB,IAAWu2B,EAAgBt3B,gBACvBgvB,GAA0BnvB,OAAS,KACrCu0B,GACE,EACAmD,GAAwBpD,KAAK,KAAMkB,EAAat0B,GAChD,CAAEuzB,aAAS,GACX,OAEG,CAAC+C,EAAkB7D,EAAU4D,EACtC,CACA,SAASG,GAAwBlC,EAAat0B,GAC5Cs0B,EAAYt0B,OAASA,CACvB,CACA,SAASy2B,GAAoBz2B,GAC3B,IAAIq2B,EAAYtF,KACduF,EAAmBpI,GACrB,GAAI,OAASoI,EACX,OAAOF,GAAsBC,EAAWC,EAAkBt2B,GAC5D+wB,KACAsF,EAAYA,EAAUp3B,cAEtB,IAAIwzB,GADJ6D,EAAmBvF,MACa5P,MAAMsR,SAEtC,OADA6D,EAAiBr3B,cAAgBe,EAC1B,CAACq2B,EAAW5D,GAAU,EAC/B,CACA,SAASY,GAAWh1B,EAAKq4B,EAAQ9uB,EAAM+uB,GAarC,OAZAt4B,EAAM,CAAEA,IAAKA,EAAKq4B,OAAQA,EAAQ9uB,KAAMA,EAAM+uB,KAAMA,EAAMtV,KAAM,MAEhE,QADAqV,EAASzI,GAA0BiB,eAE/BwH,EA3iBG,CAAE7G,WAAY,KAAMC,OAAQ,KAAMC,OAAQ,KAAMC,UAAW,MA4iB/D/B,GAA0BiB,YAAcwH,GAE3C,QADA9uB,EAAO8uB,EAAO7G,YAET6G,EAAO7G,WAAaxxB,EAAIgjB,KAAOhjB,GAC9Bs4B,EAAO/uB,EAAKyZ,KACbzZ,EAAKyZ,KAAOhjB,EACZA,EAAIgjB,KAAOsV,EACXD,EAAO7G,WAAaxxB,GAClBA,CACT,CACA,SAASu4B,KACP,OAAO7F,KAA2B9xB,aACpC,CACA,SAAS43B,GAAgBC,EAAYC,EAAWL,EAAQC,GACtD,IAAI/F,EAAOD,KACX1C,GAA0BnvB,OAASg4B,EACnClG,EAAK3xB,cAAgBo0B,GACnB,EAAI0D,EACJL,EACA,CAAEnD,aAAS,QACX,IAAWoD,EAAO,KAAOA,EAE7B,CACA,SAASK,GAAiBF,EAAYC,EAAWL,EAAQC,GACvD,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI/uB,EAAOgpB,EAAK3xB,cAAc2I,KAC9B,OAASsmB,IACT,OAASyI,GACThI,GAAmBgI,EAAMzI,GAAYjvB,cAAc03B,MAC9C/F,EAAK3xB,cAAgBo0B,GAAW0D,EAAWL,EAAQ9uB,EAAM+uB,IACxD1I,GAA0BnvB,OAASg4B,EACpClG,EAAK3xB,cAAgBo0B,GAAW,EAAI0D,EAAWL,EAAQ9uB,EAAM+uB,GACpE,CACA,SAASM,GAAYP,EAAQC,GAC3BE,GAAgB,QAAS,EAAGH,EAAQC,EACtC,CACA,SAASzD,GAAawD,EAAQC,GAC5BK,GAAiB,KAAM,EAAGN,EAAQC,EACpC,CACA,SAASO,GAAsBR,EAAQC,GACrC,OAAOK,GAAiB,EAAG,EAAGN,EAAQC,EACxC,CACA,SAASQ,GAAmBT,EAAQC,GAClC,OAAOK,GAAiB,EAAG,EAAGN,EAAQC,EACxC,CACA,SAASS,GAAuBV,EAAQ9P,GACtC,GAAI,oBAAsBA,EAAK,CAC7B8P,EAASA,IACT,IAAIW,EAAazQ,EAAI8P,GACrB,OAAO,WACL,oBAAsBW,EAAaA,IAAezQ,EAAI,KACxD,CACF,CACA,GAAI,OAASA,QAAO,IAAWA,EAC7B,OACG8P,EAASA,IACT9P,EAAIvmB,QAAUq2B,EACf,WACE9P,EAAIvmB,QAAU,IAChB,CAEN,CACA,SAASi3B,GAAuB1Q,EAAK8P,EAAQC,GAC3CA,EAAO,OAASA,QAAQ,IAAWA,EAAOA,EAAKY,OAAO,CAAC3Q,IAAQ,KAC/DoQ,GAAiB,EAAG,EAAGI,GAAuBhE,KAAK,KAAMsD,EAAQ9P,GAAM+P,EACzE,CACA,SAASa,KAAmB,CAC5B,SAASC,GAAeC,EAAUf,GAChC,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI5B,EAAYnE,EAAK3xB,cACrB,OAAI,OAAS03B,GAAQhI,GAAmBgI,EAAM5B,EAAU,IAC/CA,EAAU,IACnBnE,EAAK3xB,cAAgB,CAACy4B,EAAUf,GACzBe,EACT,CACA,SAASC,GAAWC,EAAYjB,GAC9B,IAAI/F,EAAOG,KACX4F,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI5B,EAAYnE,EAAK3xB,cACrB,GAAI,OAAS03B,GAAQhI,GAAmBgI,EAAM5B,EAAU,IACtD,OAAOA,EAAU,GAEnB,GADAA,EAAY6C,IACRtJ,GAAqC,CACvC9qB,IAA2B,GAC3B,IACEo0B,GACF,CAAE,QACAp0B,IAA2B,EAC7B,CACF,CAEA,OADAotB,EAAK3xB,cAAgB,CAAC81B,EAAW4B,GAC1B5B,CACT,CACA,SAAS8C,GAAuBjH,EAAMnzB,EAAOq6B,GAC3C,YAAI,IAAWA,GAAgB,KAAqB,WAAd/yB,IAC5B6rB,EAAK3xB,cAAgBxB,GAC/BmzB,EAAK3xB,cAAgB64B,EACrBlH,EAAOmH,KACP9J,GAA0B/pB,OAAS0sB,EACnC2B,IAAkC3B,EAC3BkH,EACT,CACA,SAASE,GAAwBpH,EAAMqH,EAAWx6B,EAAOq6B,GACvD,OAAIvc,GAAS9d,EAAOw6B,GAAmBx6B,EACnC,OAAS8sB,GAA6BlqB,SAErCuwB,EAAOiH,GAAuBjH,EAAMnzB,EAAOq6B,GAC5Cvc,GAASqV,EAAMqH,KAAevI,IAAmB,GACjDkB,GAEA,KAAqB,GAAd7rB,KACD2qB,IAAmB,EAAMkB,EAAK3xB,cAAgBxB,IACxDmzB,EAAOmH,KACP9J,GAA0B/pB,OAAS0sB,EACnC2B,IAAkC3B,EAC3BqH,EACT,CACA,SAASC,GAAgB95B,EAAO+iB,EAAOgX,EAAcC,EAAeV,GAClE,IAAIW,EAAmB34B,EAAwB2G,EAC/C3G,EAAwB2G,EACtB,IAAMgyB,GAAoB,EAAIA,EAAmBA,EAAmB,EACtE,IAAIrD,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzBiB,GAA2B93B,GAAO,EAAI+iB,EAAOgX,GAC7C,IACE,IAAI1mB,EAAcimB,IAChBxC,EAA0Bz5B,EAAqByxB,EAGjD,GAFA,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAE3C,OAASA,GACT,kBAAoBA,GACpB,oBAAsBA,EAAYgU,KAMlC6S,GACEl6B,EACA+iB,EAj6BR,SAA4BwE,EAAU4S,GACpC,IAAIpe,EAAY,GACdqe,EAAuB,CACrB5S,OAAQ,UACRnoB,MAAO,KACPuoB,OAAQ,KACRP,KAAM,SAAU4H,GACdlT,EAAU3Z,KAAK6sB,EACjB,GAeJ,OAbA1H,EAASF,MACP,WACE+S,EAAqB5S,OAAS,YAC9B4S,EAAqB/6B,MAAQ86B,EAC7B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIkhB,EAAUphB,OAAQE,KAAK,EAAIkhB,EAAUlhB,IAAIs/B,EAC/D,IACA,SAAUlT,GAGR,IAFAmT,EAAqB5S,OAAS,WAC9B4S,EAAqBxS,OAASX,EACzBA,EAAQ,EAAGA,EAAQlL,EAAUphB,OAAQssB,KACxC,EAAIlL,EAAUkL,SAAQ,EAC1B,IAEKmT,CACT,CAm4BqCC,CAC7BhnB,EACA2mB,GAMAM,WAGFJ,GACEl6B,EACA+iB,EACAiX,EACAM,KAEN,CAAE,MAAOrT,GACPiT,GACEl6B,EACA+iB,EACA,CAAEsE,KAAM,WAAa,EAAGG,OAAQ,WAAYI,OAAQX,GACpDqT,KAEJ,CAAE,QACCh5B,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAAS2D,KAAU,CACnB,SAASC,GAAoBC,EAAWV,EAAcn4B,EAAQ84B,GAC5D,GAAI,IAAMD,EAAUx6B,IAAK,MAAMvC,MAAMnD,EAAuB,MAC5D,IAAIwoB,EAAQ4X,GAA8BF,GAAW1X,MACrD+W,GACEW,EACA1X,EACAgX,EACAv4B,EACA,OAASI,EACL24B,GACA,WAEE,OADAK,GAAmBH,GACZ74B,EAAO84B,EAChB,EAER,CACA,SAASC,GAA8BF,GACrC,IAAII,EAAoBJ,EAAU55B,cAClC,GAAI,OAASg6B,EAAmB,OAAOA,EAcvC,IAAIC,EAAoB,CAAC,EAiBzB,OA9BAD,EAAoB,CAClBh6B,cAAeW,EACfixB,UAAWjxB,EACXkxB,UAAW,KACX3P,MAAO,CACLthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmB5yB,GAErByhB,KAAM,OAGUA,KAAO,CACvBpiB,cAAei6B,EACfrI,UAAWqI,EACXpI,UAAW,KACX3P,MAAO,CACLthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBJ,GACrBe,kBAAmB0G,GAErB7X,KAAM,MAERwX,EAAU55B,cAAgBg6B,EAE1B,QADAJ,EAAYA,EAAUh6B,aACCg6B,EAAU55B,cAAgBg6B,GAC1CA,CACT,CACA,SAASD,GAAmBH,GAE1BP,GAAyBO,EADHE,GAA8BF,GAAWxX,KAAKF,MACf,CAAC,EAAGuX,KAC3D,CACA,SAASS,KACP,OAAO/H,GAAY1vB,GACrB,CACA,SAAS03B,KACP,OAAOrI,KAA2B9xB,aACpC,CACA,SAASo6B,KACP,OAAOtI,KAA2B9xB,aACpC,CACA,SAASq6B,GAAal7B,GACpB,IAAK,IAAIm7B,EAAWn7B,EAAMK,OAAQ,OAAS86B,GAAY,CACrD,OAAQA,EAASl7B,KACf,KAAK,GACL,KAAK,EACH,IAAI4G,EAAOyzB,KAEPc,EAAUC,GAAcF,EAD5Bn7B,EAAQs7B,GAAaz0B,GACwBA,GAM7C,OALA,OAASu0B,IACNzF,GAAsByF,EAASD,EAAUt0B,GAC1C00B,GAAoBH,EAASD,EAAUt0B,IACzCs0B,EAAW,CAAE5M,MAAOJ,WACpBnuB,EAAMq2B,QAAU8E,GAGpBA,EAAWA,EAAS96B,MACtB,CACF,CACA,SAASm7B,GAAsBx7B,EAAO+iB,EAAOnhB,GAC3C,IAAIiF,EAAOyzB,KACX14B,EAAS,CACPiF,KAAMA,EACNmtB,WAAY,EACZpyB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAERqT,GAAoBt2B,GAChBy7B,GAAyB1Y,EAAOnhB,GAEhC,QADEA,EAASwhB,GAA4BpjB,EAAO+iB,EAAOnhB,EAAQiF,MAE1D8uB,GAAsB/zB,EAAQ5B,EAAO6G,GACtC60B,GAAyB95B,EAAQmhB,EAAOlc,GAChD,CACA,SAASgxB,GAAiB73B,EAAO+iB,EAAOnhB,GAEtCs4B,GAAyBl6B,EAAO+iB,EAAOnhB,EAD5B04B,KAEb,CACA,SAASJ,GAAyBl6B,EAAO+iB,EAAOnhB,EAAQiF,GACtD,IAAImc,EAAS,CACXnc,KAAMA,EACNmtB,WAAY,EACZpyB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAER,GAAIqT,GAAoBt2B,GAAQy7B,GAAyB1Y,EAAOC,OAC3D,CACH,IAAIviB,EAAYT,EAAMS,UACtB,GACE,IAAMT,EAAM8F,QACX,OAASrF,GAAa,IAAMA,EAAUqF,QACG,QAAxCrF,EAAYsiB,EAAM0Q,qBAEpB,IACE,IAAIkI,EAAe5Y,EAAMqR,kBACvBF,EAAazzB,EAAUk7B,EAAc/5B,GAGvC,GAFAohB,EAAOiR,eAAgB,EACvBjR,EAAOkR,WAAaA,EAChB/W,GAAS+W,EAAYyH,GACvB,OACExY,GAAgBnjB,EAAO+iB,EAAOC,EAAQ,GACtC,OAAS6E,IAAsBhF,MAC/B,CAEN,CAAE,MAAOoE,GACT,CAGF,GAAI,QADJrlB,EAASwhB,GAA4BpjB,EAAO+iB,EAAOC,EAAQnc,IAEzD,OACE8uB,GAAsB/zB,EAAQ5B,EAAO6G,GACrC60B,GAAyB95B,EAAQmhB,EAAOlc,IACxC,CAEN,CACA,OAAO,CACT,CACA,SAASixB,GAA2B93B,EAAO47B,EAAqB7Y,EAAOnhB,GASrE,GARAA,EAAS,CACPiF,KAAM,EACNmtB,WAAYhF,KACZptB,OAAQA,EACRqyB,eAAe,EACfC,WAAY,KACZjR,KAAM,MAEJqT,GAAoBt2B,IACtB,GAAI47B,EAAqB,MAAMl+B,MAAMnD,EAAuB,WAQ1D,QANDqhC,EAAsBxY,GACrBpjB,EACA+iB,EACAnhB,EACA,KAGE+zB,GAAsBiG,EAAqB57B,EAAO,EAC1D,CACA,SAASs2B,GAAoBt2B,GAC3B,IAAIS,EAAYT,EAAMS,UACtB,OACET,IAAU6vB,IACT,OAASpvB,GAAaA,IAAcovB,EAEzC,CACA,SAAS4L,GAAyB1Y,EAAOC,GACvCiN,GAA6CD,IAC3C,EACF,IAAIvuB,EAAUshB,EAAMthB,QACpB,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnDD,EAAMthB,QAAUuhB,CAClB,CACA,SAAS0Y,GAAyBz1B,EAAM8c,EAAOlc,GAC7C,GAAI,KAAc,QAAPA,GAAiB,CAC1B,IAAIg1B,EAAa9Y,EAAMjd,MAEvBe,GADAg1B,GAAc51B,EAAKE,aAEnB4c,EAAMjd,MAAQe,EACdc,GAAkB1B,EAAMY,EAC1B,CACF,CACA,IAAIuqB,GAAwB,CAC1B4B,YAAaA,GACbF,IAAKA,GACLgJ,YAAaxL,GACbyL,WAAYzL,GACZ0L,UAAW1L,GACX2L,oBAAqB3L,GACrB4L,gBAAiB5L,GACjB6L,mBAAoB7L,GACpB8L,QAAS9L,GACT+L,WAAY/L,GACZgM,OAAQhM,GACR2B,SAAU3B,GACViM,cAAejM,GACfkM,iBAAkBlM,GAClBmM,cAAenM,GACfoM,qBAAsBpM,GACtBqM,MAAOrM,IAETc,GAAsBwL,gBAAkBtM,GACxCc,GAAsB6B,aAAe3C,GACrCc,GAAsB2J,wBAA0BzK,GAChDc,GAAsByL,aAAevM,GACrCc,GAAsB0L,eAAiBxM,GACvCc,GAAsB2L,cAAgBzM,GACtC,IAAIU,GAAyB,CAC3BgC,YAAaA,GACbF,IAAKA,GACLgJ,YAAa,SAAUxC,EAAUf,GAK/B,OAJAhG,KAA0B1xB,cAAgB,CACxCy4B,OACA,IAAWf,EAAO,KAAOA,GAEpBe,CACT,EACAyC,WAAY/I,GACZgJ,UAAWnD,GACXoD,oBAAqB,SAAUzT,EAAK8P,EAAQC,GAC1CA,EAAO,OAASA,QAAQ,IAAWA,EAAOA,EAAKY,OAAO,CAAC3Q,IAAQ,KAC/DiQ,GACE,QACA,EACAO,GAAuBhE,KAAK,KAAMsD,EAAQ9P,GAC1C+P,EAEJ,EACA2D,gBAAiB,SAAU5D,EAAQC,GACjC,OAAOE,GAAgB,QAAS,EAAGH,EAAQC,EAC7C,EACA4D,mBAAoB,SAAU7D,EAAQC,GACpCE,GAAgB,EAAG,EAAGH,EAAQC,EAChC,EACA6D,QAAS,SAAU5C,EAAYjB,GAC7B,IAAI/F,EAAOD,KACXgG,OAAO,IAAWA,EAAO,KAAOA,EAChC,IAAI7C,EAAY8D,IAChB,GAAItJ,GAAqC,CACvC9qB,IAA2B,GAC3B,IACEo0B,GACF,CAAE,QACAp0B,IAA2B,EAC7B,CACF,CAEA,OADAotB,EAAK3xB,cAAgB,CAAC60B,EAAW6C,GAC1B7C,CACT,EACA2G,WAAY,SAAU9I,EAASyJ,EAAYjU,GACzC,IAAIyJ,EAAOD,KACX,QAAI,IAAWxJ,EAAM,CACnB,IAAI8M,EAAe9M,EAAKiU,GACxB,GAAI9M,GAAqC,CACvC9qB,IAA2B,GAC3B,IACE2jB,EAAKiU,EACP,CAAE,QACA53B,IAA2B,EAC7B,CACF,CACF,MAAOywB,EAAemH,EAetB,OAdAxK,EAAK3xB,cAAgB2xB,EAAKC,UAAYoD,EACtCtC,EAAU,CACR9xB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqBF,EACrBa,kBAAmByB,GAErBrD,EAAKzP,MAAQwQ,EACbA,EAAUA,EAAQc,SAAWmH,GAAsBxG,KACjD,KACAnF,GACA0D,GAEK,CAACf,EAAK3xB,cAAe0yB,EAC9B,EACA+I,OAAQ,SAAU5C,GAGhB,OADAA,EAAe,CAAEz3B,QAASy3B,GADfnH,KAEE1xB,cAAgB64B,CAC/B,EACAzH,SAAU,SAAU4D,GAElB,IAAI9S,GADJ8S,EAAeD,GAAeC,IACL9S,MACvBsR,EAAWwD,GAAiB7C,KAAK,KAAMnF,GAA2B9M,GAEpE,OADAA,EAAMsR,SAAWA,EACV,CAACwB,EAAah1B,cAAewzB,EACtC,EACAkI,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GAEjC,OAAOD,GADIlH,KACyBlzB,EAAOq6B,EAC7C,EACA+C,cAAe,WACb,IAAIxE,EAAYrC,IAAe,GAS/B,OARAqC,EAAY6B,GAAgB9E,KAC1B,KACAnF,GACAoI,EAAUlV,OACV,GACA,GAEFwP,KAA0B1xB,cAAgBo3B,EACnC,EAAC,EAAIA,EACd,EACAyE,qBAAsB,SAAUjI,EAAWC,EAAaC,GACtD,IAAI30B,EAAQ6vB,GACV2C,EAAOD,KACT,GAAIzkB,GAAa,CACf,QAAI,IAAW6mB,EACb,MAAMj3B,MAAMnD,EAAuB,MACrCo6B,EAAoBA,GACtB,KAAO,CAEL,GADAA,EAAoBD,IAChB,OAAS7M,GAAoB,MAAMnqB,MAAMnD,EAAuB,MACpE,KAAuC,GAAhCw5B,KACLqB,GAA0Bp1B,EAAO00B,EAAaC,EAClD,CACAnC,EAAK3xB,cAAgB8zB,EACrB,IAAInrB,EAAO,CAAEnK,MAAOs1B,EAAmBD,YAAaA,GAkBpD,OAjBAlC,EAAKzP,MAAQvZ,EACbqvB,GAAY9D,GAAiBC,KAAK,KAAMh1B,EAAOwJ,EAAMirB,GAAY,CAC/DA,IAEFz0B,EAAMU,OAAS,KACfu0B,GACE,EACAC,GAAoBF,KAClB,KACAh1B,EACAwJ,EACAmrB,EACAD,GAEF,CAAES,aAAS,GACX,MAEKR,CACT,EACAgI,MAAO,WACL,IAAInK,EAAOD,KACT0K,EAAmBpV,GAAmBoV,iBACxC,GAAInvB,GAAa,CACf,IAAI1K,EAA2ByhB,GAM/BoY,EACE,IAAMA,EAAmB,KAL3B75B,GADuBwhB,KAGE,GAAM,GAAKpf,GAHbof,IAGuC,IAC1Drc,SAAS,IAAMnF,GAInB,GADAA,EAA2B+sB,QAExB8M,GAAoB,IAAM75B,EAAyBmF,SAAS,KAC/D00B,GAAoB,GACtB,MAEKA,EACC,IACAA,EACA,KAJH75B,EAA2BitB,MAKC9nB,SAAS,IAClC,IACN,OAAQiqB,EAAK3xB,cAAgBo8B,CAC/B,EACAL,gBAAiB,WACf,OAAQrK,KAA0B1xB,cAAgBq6B,GAAalG,KAC7D,KACAnF,GAEJ,GAEFmB,GAAuBiC,aAAeA,GACtCjC,GAAuB+J,wBAA0BA,GACjD/J,GAAuB6L,aAAetF,GACtCvG,GAAuB8L,eAAiBvF,GACxCvG,GAAuB+L,cAAgB,SAAU/G,GAC/C,IAAIxD,EAAOD,KACXC,EAAK3xB,cAAgB2xB,EAAKC,UAAYuD,EACtC,IAAIjT,EAAQ,CACVthB,QAAS,KACTqE,MAAO,EACPuuB,SAAU,KACVZ,oBAAqB,KACrBW,kBAAmB,MAUrB,OARA5B,EAAKzP,MAAQA,EACbyP,EAAOsF,GAA2B9C,KAChC,KACAnF,IACA,EACA9M,GAEFA,EAAMsR,SAAW7B,EACV,CAACwD,EAAaxD,EACvB,EACA,IAAIvB,GAA0B,CAC5B+B,YAAaA,GACbF,IAAKA,GACLgJ,YAAazC,GACb0C,WAAY/I,GACZgJ,UAAWlH,GACXmH,oBAAqB/C,GACrBiD,mBAAoBrD,GACpBoD,gBAAiBnD,GACjBqD,QAAS7C,GACT8C,WAAY/I,GACZgJ,OAAQ9D,GACRvG,SAAU,WACR,OAAOqB,GAAcD,GACvB,EACAkJ,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GAEjC,OAAOE,GADIjH,KAGT7C,GAAYjvB,cACZxB,EACAq6B,EAEJ,EACA+C,cAAe,WACb,IAAIS,EAAoB5J,GAAcD,IAAmB,GACvDxhB,EAAQ8gB,KAA2B9xB,cACrC,MAAO,CACL,mBAAqBq8B,EACjBA,EACAhL,GAAYgL,GAChBrrB,EAEJ,EACA6qB,qBAAsBlI,GACtBmI,MAAO3B,IAET/J,GAAwB2L,gBAAkB3B,GAC1ChK,GAAwBgC,aAAeA,GACvChC,GAAwB8J,wBAA0BA,GAClD9J,GAAwB4L,aAAe9E,GACvC9G,GAAwB6L,eAAiB/E,GACzC9G,GAAwB8L,cAAgB,SAAU/G,EAAazC,GAE7D,OAAOwC,GADIpD,KACuB7C,EAAakG,EAAazC,EAC9D,EACA,IAAI1B,GAA4B,CAC9BmB,YAAaA,GACbF,IAAKA,GACLgJ,YAAazC,GACb0C,WAAY/I,GACZgJ,UAAWlH,GACXmH,oBAAqB/C,GACrBiD,mBAAoBrD,GACpBoD,gBAAiBnD,GACjBqD,QAAS7C,GACT8C,WAAY/H,GACZgI,OAAQ9D,GACRvG,SAAU,WACR,OAAOqC,GAAgBjB,GACzB,EACAkJ,cAAenD,GACfoD,iBAAkB,SAAUn9B,EAAOq6B,GACjC,IAAIlH,EAAOG,KACX,OAAO,OAAS7C,GACZ2J,GAAuBjH,EAAMnzB,EAAOq6B,GACpCE,GACEpH,EACA1C,GAAYjvB,cACZxB,EACAq6B,EAER,EACA+C,cAAe,WACb,IAAIS,EAAoB5I,GAAgBjB,IAAmB,GACzDxhB,EAAQ8gB,KAA2B9xB,cACrC,MAAO,CACL,mBAAqBq8B,EACjBA,EACAhL,GAAYgL,GAChBrrB,EAEJ,EACA6qB,qBAAsBlI,GACtBmI,MAAO3B,IAcT,SAASmC,GACPh9B,EACAi9B,EACAC,EACAC,GAIAD,EACE,QAFFA,EAA2BA,EAAyBC,EADpDF,EAAOj9B,EAAeU,sBAGiB,IAAWw8B,EAC5CD,EACA7/B,EAAO,CAAC,EAAG6/B,EAAMC,GACvBl9B,EAAeU,cAAgBw8B,EAC/B,IAAMl9B,EAAe2F,QAClB3F,EAAe2wB,YAAY2B,UAAY4K,EAC5C,CA3BAxL,GAA0B+K,gBAAkB3B,GAC5CpJ,GAA0BoB,aAAeA,GACzCpB,GAA0BkJ,wBAA0BA,GACpDlJ,GAA0BgL,aAAexE,GACzCxG,GAA0BiL,eAAiBzE,GAC3CxG,GAA0BkL,cAAgB,SAAU/G,EAAazC,GAC/D,IAAIf,EAAOG,KACX,OAAI,OAAS7C,GACJiG,GAAqBvD,EAAM1C,EAAakG,EAAazC,IAC9Df,EAAKC,UAAYuD,EACV,CAACA,EAAaxD,EAAKzP,MAAMsR,UAClC,EAiBA,IAAIkJ,GAAwB,CAC1BC,UAAW,SAAUC,GACnB,SAAQA,EAAYA,EAAUC,kBAC1Bn9B,EAAuBk9B,KAAeA,CAE5C,EACAE,gBAAiB,SAAUn0B,EAAM6sB,EAASiD,GACxC9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAOqT,QAAUA,OACjB,IAAWiD,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAjD,EAAUgF,GAAc7xB,EAAMwZ,EAAQnc,MAEnC8uB,GAAsBU,EAAS7sB,EAAM3C,GACtC00B,GAAoBlF,EAAS7sB,EAAM3C,GACvC,EACA+2B,oBAAqB,SAAUp0B,EAAM6sB,EAASiD,GAC5C9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAO/iB,IAAM,EACb+iB,EAAOqT,QAAUA,OACjB,IAAWiD,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAjD,EAAUgF,GAAc7xB,EAAMwZ,EAAQnc,MAEnC8uB,GAAsBU,EAAS7sB,EAAM3C,GACtC00B,GAAoBlF,EAAS7sB,EAAM3C,GACvC,EACAg3B,mBAAoB,SAAUr0B,EAAM8vB,GAClC9vB,EAAOA,EAAKk0B,gBACZ,IAAI72B,EAAOyzB,KACTtX,EAASsY,GAAaz0B,GACxBmc,EAAO/iB,IAAM,OACb,IAAWq5B,GAAY,OAASA,IAAatW,EAAOsW,SAAWA,GAE/D,QADAA,EAAW+B,GAAc7xB,EAAMwZ,EAAQnc,MAEpC8uB,GAAsB2D,EAAU9vB,EAAM3C,GACvC00B,GAAoBjC,EAAU9vB,EAAM3C,GACxC,GAEF,SAASi3B,GACP39B,EACAi9B,EACAW,EACAC,EACA9jB,EACAD,EACAgkB,GAGA,MAAO,oBADP99B,EAAiBA,EAAesJ,WACYy0B,sBACxC/9B,EAAe+9B,sBAAsBF,EAAU/jB,EAAUgkB,IACzDb,EAAK3+B,YAAa2+B,EAAK3+B,UAAU0/B,wBAC9B7gB,GAAaygB,EAAUC,KAAc1gB,GAAapD,EAAUD,GAErE,CACA,SAASmkB,GACPj+B,EACA2lB,EACAkY,EACAC,GAEA99B,EAAiB2lB,EAASsH,MAC1B,oBAAsBtH,EAASuY,2BAC7BvY,EAASuY,0BAA0BL,EAAUC,GAC/C,oBAAsBnY,EAASwY,kCAC7BxY,EAASwY,iCAAiCN,EAAUC,GACtDnY,EAASsH,QAAUjtB,GACjBo9B,GAAsBK,oBAAoB9X,EAAUA,EAASsH,MAAO,KACxE,CACA,SAASmR,GAA2B5N,EAAW6N,GAC7C,IAAIR,EAAWQ,EACf,GAAI,QAASA,EAEX,IAAK,IAAIzrB,KADTirB,EAAW,CAAC,EACSQ,EACnB,QAAUzrB,IAAairB,EAASjrB,GAAYyrB,EAAUzrB,IAE1D,GAAK4d,EAAYA,EAAU8N,aAEzB,IAAK,IAAIC,KADTV,IAAaQ,IAAcR,EAAWzgC,EAAO,CAAC,EAAGygC,IACzBrN,OACtB,IAAWqN,EAASU,KACjBV,EAASU,GAAe/N,EAAU+N,IAEzC,OAAOV,CACT,CACA,IAAIW,GACF,oBAAsBC,YAClBA,YACA,SAAU3X,GACR,GACE,kBAAoB/e,QACpB,oBAAsBA,OAAO22B,WAC7B,CACA,IAAI12B,EAAQ,IAAID,OAAO22B,WAAW,QAAS,CACzC5qB,SAAS,EACTC,YAAY,EACZ5T,QACE,kBAAoB2mB,GACpB,OAASA,GACT,kBAAoBA,EAAM3mB,QACtB2X,OAAOgP,EAAM3mB,SACb2X,OAAOgP,GACbA,MAAOA,IAET,IAAK/e,OAAO42B,cAAc32B,GAAQ,MACpC,MAAO,GACL,kBAAoB42B,SACpB,oBAAsBA,QAAQC,KAG9B,YADAD,QAAQC,KAAK,oBAAqB/X,GAGpCgY,QAAQhY,MAAMA,EAChB,EACN,SAASiY,GAAuBjY,GAC9B0X,GAAkB1X,EACpB,CACA,SAASkY,GAAqBlY,GAC5BgY,QAAQhY,MAAMA,EAChB,CACA,SAASmY,GAA0BnY,GACjC0X,GAAkB1X,EACpB,CACA,SAASoY,GAAiBp5B,EAAMq5B,GAC9B,KAEEC,EADsBt5B,EAAKs5B,iBACXD,EAAUjgC,MAAO,CAAEmgC,eAAgBF,EAAU1hC,OAC/D,CAAE,MAAO6hC,GACPC,YAAW,WACT,MAAMD,CACR,GACF,CACF,CACA,SAASE,GAAe15B,EAAM25B,EAAUN,GACtC,KAEEO,EADoB55B,EAAK45B,eACXP,EAAUjgC,MAAO,CAC7BmgC,eAAgBF,EAAU1hC,MAC1BkiC,cAAe,IAAMF,EAAS3/B,IAAM2/B,EAASn2B,UAAY,MAE7D,CAAE,MAAOs2B,GACPL,YAAW,WACT,MAAMK,CACR,GACF,CACF,CACA,SAASC,GAAsB/5B,EAAMq5B,EAAWz4B,GAO9C,OANAA,EAAOy0B,GAAaz0B,IACf5G,IAAM,EACX4G,EAAKwvB,QAAU,CAAE5oB,QAAS,MAC1B5G,EAAKyyB,SAAW,WACd+F,GAAiBp5B,EAAMq5B,EACzB,EACOz4B,CACT,CACA,SAASo5B,GAAuBp5B,GAG9B,OAFAA,EAAOy0B,GAAaz0B,IACf5G,IAAM,EACJ4G,CACT,CACA,SAASq5B,GAA2Bld,EAAQ/c,EAAMjG,EAAOs/B,GACvD,IAAIa,EAA2BngC,EAAMvD,KAAK0jC,yBAC1C,GAAI,oBAAsBA,EAA0B,CAClD,IAAIlZ,EAAQqY,EAAUjgC,MACtB2jB,EAAOqT,QAAU,WACf,OAAO8J,EAAyBlZ,EAClC,EACAjE,EAAOsW,SAAW,WAChBqG,GAAe15B,EAAMjG,EAAOs/B,EAC9B,CACF,CACA,IAAI91B,EAAOxJ,EAAMyJ,UACjB,OAASD,GACP,oBAAsBA,EAAK42B,oBAC1Bpd,EAAOsW,SAAW,WACjBqG,GAAe15B,EAAMjG,EAAOs/B,GAC5B,oBAAsBa,IACnB,OAASE,GACLA,GAAyC,IAAIp2B,IAAI,CAACoC,OACnDg0B,GAAuC91B,IAAI8B,OACjD,IAAIzO,EAAQ0hC,EAAU1hC,MACtByO,KAAK+zB,kBAAkBd,EAAUjgC,MAAO,CACtCmgC,eAAgB,OAAS5hC,EAAQA,EAAQ,IAE7C,EACJ,CAyJA,IAAI0iC,GAA8B5iC,MAAMnD,EAAuB,MAC7D+2B,IAAmB,EACrB,SAASiP,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAChExG,EAAec,MACb,OAASgB,EACLiqB,GAAiB/rB,EAAgB,KAAMqgC,EAAc75B,GACrDslB,GACE9rB,EACA8B,EAAQhB,MACRu/B,EACA75B,EAEV,CACA,SAAS85B,GACPx+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEAgqB,EAAYA,EAAU5zB,OACtB,IAAIyrB,EAAMroB,EAAeqoB,IACzB,GAAI,QAAS8U,EAAW,CACtB,IAAIoD,EAAkB,CAAC,EACvB,IAAK,IAAI1oB,KAAOslB,EACd,QAAUtlB,IAAQ0oB,EAAgB1oB,GAAOslB,EAAUtlB,GACvD,MAAO0oB,EAAkBpD,EAWzB,OAVAqD,GAAqBxgC,GACrBm9B,EAAY5M,GACVzuB,EACA9B,EACAwwB,EACA+P,EACAlY,EACA7hB,GAEFqR,EAAMma,KACF,OAASlwB,GAAYqvB,IAKzBxjB,IAAekK,GAAOoN,GAAuBjlB,GAC7CA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASk6B,GACP5+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEA,GAAI,OAAS1E,EAAS,CACpB,IAAIxF,EAAOk0B,EAAUl0B,KACrB,MACE,oBAAsBA,GACrBqkC,GAAgBrkC,SACjB,IAAWA,EAAKgiC,cAChB,OAAS9N,EAAUoQ,UAarB9+B,EAAUsoB,GACRoG,EAAUl0B,KACV,KACA6gC,EACAn9B,EACAA,EAAegqB,KACfxjB,IAEM6hB,IAAMroB,EAAeqoB,IAC7BvmB,EAAQ5B,OAASF,EACTA,EAAec,MAAQgB,IApB1B9B,EAAeF,IAAM,GACrBE,EAAe1D,KAAOA,EACvBukC,GACE/+B,EACA9B,EACA1D,EACA6gC,EACA32B,GAcR,CAEA,GADAlK,EAAOwF,EAAQhB,OACVggC,GAA8Bh/B,EAAS0E,GAAc,CACxD,IAAIu6B,EAAYzkC,EAAKspB,cAGrB,IADA4K,EAAY,QADZA,EAAYA,EAAUoQ,SACWpQ,EAAYrT,IAC/B4jB,EAAW5D,IAAcr7B,EAAQumB,MAAQroB,EAAeqoB,IACpE,OAAOoY,GAA6B3+B,EAAS9B,EAAgBwG,EACjE,CAKA,OAJAxG,EAAeO,OAAS,GACxBuB,EAAU0nB,GAAqBltB,EAAM6gC,IAC7B9U,IAAMroB,EAAeqoB,IAC7BvmB,EAAQ5B,OAASF,EACTA,EAAec,MAAQgB,CACjC,CACA,SAAS++B,GACP/+B,EACA9B,EACAwwB,EACA2M,EACA32B,GAEA,GAAI,OAAS1E,EAAS,CACpB,IAAIi/B,EAAYj/B,EAAQ8jB,cACxB,GACEzI,GAAa4jB,EAAW5D,IACxBr7B,EAAQumB,MAAQroB,EAAeqoB,IAE/B,IACI8I,IAAmB,EACpBnxB,EAAeupB,aAAe4T,EAAY4D,GAC3CD,GAA8Bh/B,EAAS0E,GAIvC,OACGxG,EAAe2F,MAAQ7D,EAAQ6D,MAChC86B,GAA6B3+B,EAAS9B,EAAgBwG,GAJxD,KAAuB,OAAhB1E,EAAQvB,SAAoB4wB,IAAmB,EAIc,CAE1E,CACA,OAAO6P,GACLl/B,EACA9B,EACAwwB,EACA2M,EACA32B,EAEJ,CACA,SAASy6B,GAAyBn/B,EAAS9B,EAAgBwG,GACzD,IAAI22B,EAAYn9B,EAAeupB,aAC7B8W,EAAelD,EAAU5uB,SACzB2yB,EAAiB,KAAqD,EAA9ClhC,EAAesJ,UAAU63B,oBACjD3K,EAAY,OAAS10B,EAAUA,EAAQpB,cAAgB,KAEzD,GADA0gC,GAAQt/B,EAAS9B,GACb,WAAam9B,EAAUnT,MAAQkX,EAAgB,CACjD,GAAI,KAA8B,IAAvBlhC,EAAeO,OAAc,CAGtC,GAFA48B,EACE,OAAS3G,EAAYA,EAAUpK,UAAY5lB,EAAcA,EACvD,OAAS1E,EAAS,CAEpB,IADAu+B,EAAergC,EAAec,MAAQgB,EAAQhB,MACzCogC,EAAiB,EAAG,OAASb,GAC/Ba,EACCA,EAAiBb,EAAa16B,MAAQ06B,EAAa9c,WAClD8c,EAAeA,EAAat/B,QACjCf,EAAeujB,WAAa2d,GAAkB/D,CAChD,MAAQn9B,EAAeujB,WAAa,EAAKvjB,EAAec,MAAQ,KAChE,OAAOugC,GACLv/B,EACA9B,EACAm9B,EACA32B,EAEJ,CACA,GAAI,KAAqB,UAAdA,GAYT,OACGxG,EAAe2F,MAAQ3F,EAAeujB,WAAa,UACpD8d,GACEv/B,EACA9B,EACA,OAASw2B,EAAYA,EAAUpK,UAAY5lB,EAAcA,EACzDA,GAjBHxG,EAAeU,cAAgB,CAAE0rB,UAAW,EAAGkV,UAAW,MACzD,OAASx/B,GACPstB,GACEpvB,EACA,OAASw2B,EAAYA,EAAU8K,UAAY,MAE/C,OAAS9K,EACLtK,GAAkBlsB,EAAgBw2B,GAClCnK,KACJO,GAA6B5sB,EAWnC,MACE,OAASw2B,GACJpH,GAAepvB,EAAgBw2B,EAAU8K,WAC1CpV,GAAkBlsB,EAAgBw2B,GAClC3J,KACC7sB,EAAeU,cAAgB,OAC/B,OAASoB,GAAWstB,GAAepvB,EAAgB,MACpDqsB,KACAQ,MAEN,OADAuT,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAClDxG,EAAec,KACxB,CACA,SAASugC,GACPv/B,EACA9B,EACAuhC,EACA/6B,GAEA,IAAIvD,EAA2BgsB,KAc/B,OAbAhsB,EACE,OAASA,EACL,KACA,CAAEqgB,OAAQqK,GAAavqB,cAAemsB,KAAMtsB,GAClDjD,EAAeU,cAAgB,CAC7B0rB,UAAWmV,EACXD,UAAWr+B,GAEb,OAASnB,GAAWstB,GAAepvB,EAAgB,MACnDqsB,KACAO,GAA6B5sB,GAC7B,OAAS8B,GACP0/B,GAA8B1/B,EAAS9B,EAAgBwG,GAAa,GAC/D,IACT,CACA,SAAS46B,GAAQt/B,EAAS9B,GACxB,IAAIqoB,EAAMroB,EAAeqoB,IACzB,GAAI,OAASA,EACX,OAASvmB,GACP,OAASA,EAAQumB,MAChBroB,EAAeO,OAAS,aACxB,CACH,GAAI,oBAAsB8nB,GAAO,kBAAoBA,EACnD,MAAM9qB,MAAMnD,EAAuB,MACjC,OAAS0H,GAAWA,EAAQumB,MAAQA,IACtCroB,EAAeO,OAAS,QAC5B,CACF,CACA,SAASygC,GACPl/B,EACA9B,EACAwwB,EACA2M,EACA32B,GAYA,OAVAg6B,GAAqBxgC,GACrBwwB,EAAYD,GACVzuB,EACA9B,EACAwwB,EACA2M,OACA,EACA32B,GAEF22B,EAAYnL,KACR,OAASlwB,GAAYqvB,IAKzBxjB,IAAewvB,GAAalY,GAAuBjlB,GACnDA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBwwB,EAAWhqB,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASi7B,GACP3/B,EACA9B,EACAm9B,EACA3M,EACAC,EACAjqB,GAYA,OAVAg6B,GAAqBxgC,GACrBA,EAAe2wB,YAAc,KAC7BwM,EAAYpM,GACV/wB,EACAwwB,EACA2M,EACA1M,GAEFO,GAAqBlvB,GACrB0uB,EAAYwB,KACR,OAASlwB,GAAYqvB,IAKzBxjB,IAAe6iB,GAAavL,GAAuBjlB,GACnDA,EAAeO,OAAS,EACxB6/B,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,GAC/CxG,EAAec,QANlBoxB,GAAapwB,EAAS9B,EAAgBwG,GACtCi6B,GAA6B3+B,EAAS9B,EAAgBwG,GAM5D,CACA,SAASk7B,GACP5/B,EACA9B,EACAwwB,EACA2M,EACA32B,GAGA,GADAg6B,GAAqBxgC,GACjB,OAASA,EAAesJ,UAAW,CACrC,IAAItG,EAAU4gB,GACZ+d,EAAcnR,EAAUmR,YAC1B,kBAAoBA,GAClB,OAASA,IACR3+B,EAAU6vB,GAAY8O,IACzB3+B,EAAU,IAAIwtB,EAAU2M,EAAWn6B,GACnChD,EAAeU,cACb,OAASsC,EAAQiqB,YAAS,IAAWjqB,EAAQiqB,MAAQjqB,EAAQiqB,MAAQ,KACvEjqB,EAAQ4+B,QAAUxE,GAClBp9B,EAAesJ,UAAYtG,EAC3BA,EAAQu6B,gBAAkBv9B,GAC1BgD,EAAUhD,EAAesJ,WACjBmH,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQjtB,EAAeU,cAC/BsC,EAAQ6+B,KAAO,CAAC,EAChBC,GAAsB9hC,GACtB2hC,EAAcnR,EAAUmR,YACxB3+B,EAAQA,QACN,kBAAoB2+B,GAAe,OAASA,EACxC9O,GAAY8O,GACZ/d,GACN5gB,EAAQiqB,MAAQjtB,EAAeU,cAE/B,oBADAihC,EAAcnR,EAAU0M,4BAErBF,GACCh9B,EACAwwB,EACAmR,EACAxE,GAEDn6B,EAAQiqB,MAAQjtB,EAAeU,eAClC,oBAAsB8vB,EAAU0M,0BAC9B,oBAAsBl6B,EAAQ++B,yBAC7B,oBAAsB/+B,EAAQg/B,2BAC7B,oBAAsBh/B,EAAQi/B,qBAC9BN,EAAc3+B,EAAQiqB,MACxB,oBAAsBjqB,EAAQi/B,oBAC5Bj/B,EAAQi/B,qBACV,oBAAsBj/B,EAAQg/B,2BAC5Bh/B,EAAQg/B,4BACVL,IAAgB3+B,EAAQiqB,OACtBmQ,GAAsBK,oBAAoBz6B,EAASA,EAAQiqB,MAAO,MACpEiV,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACCn/B,EAAQiqB,MAAQjtB,EAAeU,eAClC,oBAAsBsC,EAAQo/B,oBAC3BpiC,EAAeO,OAAS,SAC3B48B,GAAY,CACd,MAAO,GAAI,OAASr7B,EAAS,CAC3BkB,EAAUhD,EAAesJ,UACzB,IAAI+4B,EAAqBriC,EAAe4lB,cACtCgY,EAAWQ,GAA2B5N,EAAW6R,GACnDr/B,EAAQyN,MAAQmtB,EAChB,IAAI0E,EAAat/B,EAAQA,QACvBu/B,EAAuB/R,EAAUmR,YACnCA,EAAc/d,GACd,kBAAoB2e,GAClB,OAASA,IACRZ,EAAc9O,GAAY0P,IAC7B,IAAIrF,EAA2B1M,EAAU0M,yBACzCqF,EACE,oBAAsBrF,GACtB,oBAAsBl6B,EAAQ++B,wBAChCM,EAAqBriC,EAAeupB,eAAiB8Y,EACrDE,GACG,oBAAsBv/B,EAAQm7B,kCAC7B,oBAAsBn7B,EAAQk7B,4BAC9BmE,GAAsBC,IAAeX,IACrC1D,GACEj+B,EACAgD,EACAm6B,EACAwE,GAENa,IAAiB,EACjB,IAAIzoB,EAAW/Z,EAAeU,cAC9BsC,EAAQiqB,MAAQlT,EAChBmoB,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACAG,EAAatiC,EAAeU,cAC5B2hC,GAAsBtoB,IAAauoB,GAAcE,IAC5C,oBAAsBtF,IACpBF,GACCh9B,EACAwwB,EACA0M,EACAC,GAEDmF,EAAatiC,EAAeU,gBAC9Bk9B,EACC4E,IACA7E,GACE39B,EACAwwB,EACAoN,EACAT,EACApjB,EACAuoB,EACAX,KAECY,GACE,oBAAsBv/B,EAAQg/B,2BAC7B,oBAAsBh/B,EAAQi/B,qBAC/B,oBAAsBj/B,EAAQi/B,oBAC7Bj/B,EAAQi/B,qBACV,oBAAsBj/B,EAAQg/B,2BAC5Bh/B,EAAQg/B,6BACZ,oBAAsBh/B,EAAQo/B,oBAC3BpiC,EAAeO,OAAS,WAC1B,oBAAsByC,EAAQo/B,oBAC5BpiC,EAAeO,OAAS,SAC1BP,EAAe4lB,cAAgBuX,EAC/Bn9B,EAAeU,cAAgB4hC,GACnCt/B,EAAQyN,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQqV,EAChBt/B,EAAQA,QAAU2+B,EAClBxE,EAAYS,IACZ,oBAAsB56B,EAAQo/B,oBAC5BpiC,EAAeO,OAAS,SAC1B48B,GAAY,EACnB,KAAO,CACLn6B,EAAUhD,EAAesJ,UACzBm5B,GAAiB3gC,EAAS9B,GAE1BuiC,EAAuBnE,GAA2B5N,EADlDmR,EAAc3hC,EAAe4lB,eAE7B5iB,EAAQyN,MAAQ8xB,EAChBrF,EAA2Bl9B,EAAeupB,aAC1CxP,EAAW/W,EAAQA,QACnBs/B,EAAa9R,EAAUmR,YACvB/D,EAAWha,GACX,kBAAoB0e,GAClB,OAASA,IACR1E,EAAW/K,GAAYyP,KAEzBA,EACC,oBAFFD,EAAqB7R,EAAU0M,2BAG7B,oBAAsBl6B,EAAQ++B,0BAC7B,oBAAsB/+B,EAAQm7B,kCAC7B,oBAAsBn7B,EAAQk7B,4BAC9ByD,IAAgBzE,GAA4BnjB,IAAa6jB,IACzDK,GACEj+B,EACAgD,EACAm6B,EACAS,GAEN4E,IAAiB,EACjBzoB,EAAW/Z,EAAeU,cAC1BsC,EAAQiqB,MAAQlT,EAChBmoB,GAAmBliC,EAAgBm9B,EAAWn6B,EAASwD,GACvD27B,KACA,IAAIroB,EAAW9Z,EAAeU,cAC9BihC,IAAgBzE,GAChBnjB,IAAaD,GACb0oB,IACC,OAAS1gC,GACR,OAASA,EAAQoI,cACjBknB,GAAsBtvB,EAAQoI,eAC3B,oBAAsBm4B,IACpBrF,GACCh9B,EACAwwB,EACA6R,EACAlF,GAEDrjB,EAAW9Z,EAAeU,gBAC5B6hC,EACCC,IACA7E,GACE39B,EACAwwB,EACA+R,EACApF,EACApjB,EACAD,EACA8jB,IAED,OAAS97B,GACR,OAASA,EAAQoI,cACjBknB,GAAsBtvB,EAAQoI,gBAC7Bo4B,GACE,oBAAsBt/B,EAAQ0/B,4BAC7B,oBAAsB1/B,EAAQ2/B,sBAC/B,oBAAsB3/B,EAAQ2/B,qBAC7B3/B,EAAQ2/B,oBAAoBxF,EAAWrjB,EAAU8jB,GACnD,oBAAsB56B,EAAQ0/B,4BAC5B1/B,EAAQ0/B,2BACNvF,EACArjB,EACA8jB,IAEN,oBAAsB56B,EAAQ4/B,qBAC3B5iC,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,0BAC3B/hC,EAAeO,OAAS,QAC1B,oBAAsByC,EAAQ4/B,oBAC5BjB,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,yBAC3BJ,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,MAC1BP,EAAe4lB,cAAgBuX,EAC/Bn9B,EAAeU,cAAgBoZ,GACnC9W,EAAQyN,MAAQ0sB,EAChBn6B,EAAQiqB,MAAQnT,EAChB9W,EAAQA,QAAU46B,EAClBT,EAAYoF,IACZ,oBAAsBv/B,EAAQ4/B,oBAC5BjB,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,GAC3B,oBAAsByC,EAAQ++B,yBAC3BJ,IAAgB7/B,EAAQ8jB,eACvB7L,IAAajY,EAAQpB,gBACtBV,EAAeO,OAAS,MAC1B48B,GAAY,EACnB,CAgCA,OA/BAn6B,EAAUm6B,EACViE,GAAQt/B,EAAS9B,GACjBm9B,EAAY,KAA8B,IAAvBn9B,EAAeO,OAClCyC,GAAWm6B,GACLn6B,EAAUhD,EAAesJ,UAC1BknB,EACC2M,GAAa,oBAAsB3M,EAAUwP,yBACzC,KACAh9B,EAAQpG,SACboD,EAAeO,OAAS,EACzB,OAASuB,GAAWq7B,GACdn9B,EAAec,MAAQgrB,GACvB9rB,EACA8B,EAAQhB,MACR,KACA0F,GAEDxG,EAAec,MAAQgrB,GACtB9rB,EACA,KACAwwB,EACAhqB,IAEF45B,GAAkBt+B,EAAS9B,EAAgBwwB,EAAWhqB,GACzDxG,EAAeU,cAAgBsC,EAAQiqB,MACvCnrB,EAAU9B,EAAec,OACzBgB,EAAU2+B,GACT3+B,EACA9B,EACAwG,GAEC1E,CACT,CACA,SAAS+gC,GACP/gC,EACA9B,EACAqgC,EACA75B,GAKA,OAHAqgB,KACA7mB,EAAeO,OAAS,IACxB6/B,GAAkBt+B,EAAS9B,EAAgBqgC,EAAc75B,GAClDxG,EAAec,KACxB,CACA,IAAIgiC,GAAmB,CAAEniC,WAAY,KAAMoiC,YAAa,KAAMC,UAAW,GACzE,SAASC,GAA4Bz8B,GACnC,MAAO,CAAE4lB,UAAW5lB,EAAa86B,UAAW9R,KAC9C,CACA,SAAS0T,GACPphC,EACAqhC,EACA38B,GAIA,OAFA1E,EAAU,OAASA,EAAUA,EAAQyhB,YAAc/c,EAAc,EACjE28B,IAAwBrhC,GAAWshC,IAC5BthC,CACT,CACA,SAASuhC,GAAwBvhC,EAAS9B,EAAgBwG,GACxD,IAGEigB,EAHE0W,EAAYn9B,EAAeupB,aAC7B+Z,GAAe,EACfC,EAAa,KAA8B,IAAvBvjC,EAAeO,OAUrC,IARCkmB,EAAkB8c,KAChB9c,GACC,OAAS3kB,GAAW,OAASA,EAAQpB,gBAEjC,KAAqC,EAA9BisB,GAAoB7qB,UACnC2kB,IAAqB6c,GAAe,EAAMtjC,EAAeO,QAAU,KACnEkmB,EAAkB,KAA8B,GAAvBzmB,EAAeO,OACxCP,EAAeO,QAAU,GACrB,OAASuB,EAAS,CACpB,GAAI6L,GAAa,CAIf,GAHA21B,EACI7W,GAA+BzsB,GAC/B6sB,KACAlf,GAAa,CACf,IACE61B,EADEC,EAAere,GAEnB,GAAKoe,EAA2BC,EAAe,CAC7CC,EAAG,CAED,IADAF,EAA2BC,EAEzBA,EAAene,GACf,IAAMke,EAAyB3oC,UAE/B,CACA,IAAK4oC,EAAc,CACjBA,EAAe,KACf,MAAMC,CACR,CAIA,GAAI,QAHJF,EAA2B5c,GACzB4c,EAAyB1lB,cAEY,CACrC2lB,EAAe,KACf,MAAMC,CACR,CACF,CACAD,EAAeD,CACjB,CACA,OAASC,GACHzjC,EAAeU,cAAgB,CAC/BC,WAAY8iC,EACZV,YACE,OAASve,GACL,CAAEmf,GAAIlf,GAAemf,SAAUlf,IAC/B,KACNse,UAAW,YAEZQ,EAA2B3X,GAC1B,GACA,KACA,KACA,IAEwBviB,UAAYm6B,EACrCD,EAAyBtjC,OAASF,EAClCA,EAAec,MAAQ0iC,EACvBre,GAAuBnlB,EACvBolB,GAAyB,KACzBoe,GAA2B,GAC3BA,GAA2B,CAClC,CACAA,GAA4Bhe,GAAyBxlB,EACvD,CAEA,GACE,QAFFyjC,EAAezjC,EAAeU,gBAGe,QAAzC+iC,EAAeA,EAAa9iC,YAE9B,MACE,OAAS8iC,EAAaliC,KACjBvB,EAAe2F,MAAQ,GACvB3F,EAAe2F,MAAQ,UAC5B,KAEJmnB,GAAmB9sB,EACrB,CAGA,OAFAyjC,EAAetG,EAAU5uB,SACzB4uB,EAAYA,EAAU0G,SAClBP,GAEAzW,KAEC4W,EAAeK,GACd,CAAE9Z,KAAM,SAAUzb,SAAUk1B,GAF7BH,EAAetjC,EAAegqB,MAK9BmT,EAAYzS,GACXyS,EACAmG,EACA98B,EACA,MAEDi9B,EAAavjC,OAASF,EACtBm9B,EAAUj9B,OAASF,EACnByjC,EAAa1iC,QAAUo8B,EACvBn9B,EAAec,MAAQ2iC,GACvBH,EAAetjC,EAAec,OACjBJ,cAAgBuiC,GAA4Bz8B,GACzD88B,EAAa/f,WAAa2f,GACzBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAChC3F,IAEJ1Q,GAA+BzsB,GACxB+jC,GAA6B/jC,EAAgByjC,GACtD,CAEA,GACE,QAFFD,EAA2B1hC,EAAQpB,gBAIjC,QADE+iC,EAAeD,EAAyB7iC,YAE1C,CACA,GAAI4iC,EACqB,IAAvBvjC,EAAeO,OACVksB,GAA+BzsB,GAC/BA,EAAeO,QAAU,IACzBP,EAAiBgkC,GAChBliC,EACA9B,EACAwG,IAEF,OAASxG,EAAeU,eACrBmsB,KACA7sB,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAeO,OAAS,IACxBP,EAAiB,OACjB6sB,KACAyW,EAAenG,EAAU0G,SACzBJ,EAAezjC,EAAegqB,KAC9BmT,EAAY2G,GACX,CAAE9Z,KAAM,UAAWzb,SAAU4uB,EAAU5uB,UACvCk1B,IAEDH,EAAe5Y,GACd4Y,EACAG,EACAj9B,EACA,OAEYjG,OAAS,EACtB48B,EAAUj9B,OAASF,EACnBsjC,EAAapjC,OAASF,EACtBm9B,EAAUp8B,QAAUuiC,EACpBtjC,EAAec,MAAQq8B,EACxBrR,GACE9rB,EACA8B,EAAQhB,MACR,KACA0F,IAED22B,EAAYn9B,EAAec,OACjBJ,cACTuiC,GAA4Bz8B,GAC7B22B,EAAU5Z,WAAa2f,GACtBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAC/B9iC,EAAiBsjC,QACrB,GACF7W,GAA+BzsB,GAChC,OAASyjC,EAAaliC,KACtB,CAGA,GAFAklB,EACEgd,EAAa3lB,aAAe2lB,EAAa3lB,YAAYmmB,QAClC,IAAIC,EAASzd,EAAgB0d,KAClD1d,EAAkByd,GAClB/G,EAAY5/B,MAAMnD,EAAuB,OAC/BqD,MAAQ,GAClB0/B,EAAU+G,OAASzd,EACnBhB,GAAoB,CAAEvmB,MAAOi+B,EAAWnZ,OAAQ,KAAMvmB,MAAO,OAC7DuC,EAAiBgkC,GACfliC,EACA9B,EACAwG,EAEJ,MAAO,GACJ2qB,IACCqQ,GAA8B1/B,EAAS9B,EAAgBwG,GAAa,GACrEigB,EAAkB,KAAOjgB,EAAc1E,EAAQyhB,YAChD4N,IAAoB1K,EACpB,CAEA,GAAI,QADJA,EAAkBiB,IACY,CAE5B,GAAI,KAAmB,IADvByV,EAAY32B,GAAeA,IACC22B,EAAY,OAEtC,OAAQA,GACN,KAAK,EACHA,EAAY,EACZ,MACF,KAAK,EACHA,EAAY,EACZ,MACF,KAAK,GACHA,EAAY,GACZ,MACF,KAAK,IACL,KAAK,IACL,KAAK,IACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,KACL,KAAK,MACL,KAAK,MACL,KAAK,MACL,KAAK,OACL,KAAK,OACL,KAAK,OACL,KAAK,QACL,KAAK,QACL,KAAK,QACL,KAAK,QACL,KAAK,SACL,KAAK,SACHA,EAAY,GACZ,MACF,KAAK,UACHA,EAAY,UACZ,MACF,QACEA,EAAY,EAMlB,GAAI,KAJJA,EACE,KAAOA,GAAa1W,EAAgBvgB,eAAiBM,IACjD,EACA22B,IACiBA,IAAcqG,EAAyBR,UAC5D,MACIQ,EAAyBR,UAAY7F,EACvCha,GAA+BrhB,EAASq7B,GACxC3H,GAAsB/O,EAAiB3kB,EAASq7B,GAChDgD,EAEN,CACA,OAASsD,EAAaliC,MAAQ6iC,KAC9BpkC,EAAiBgkC,GACfliC,EACA9B,EACAwG,EAEJ,KACE,OAASi9B,EAAaliC,MAChBvB,EAAeO,OAAS,IACzBP,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAiBqkC,GAAgCxP,KAChD,KACA/yB,GAED2hC,EAAaa,YAActkC,EAC3BA,EAAiB,OAChB8B,EAAU0hC,EAAyBT,YACpC3d,GAAyBwB,GACxB6c,EAAa3lB,aAEdqH,GAAuBnlB,EACvB2N,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EAC1B,OAASxjB,IACLwiB,GAAQC,MAAkBE,GAC3BH,GAAQC,MAAkBG,GAC1BJ,GAAQC,MAAkBC,GAC1BC,GAAgB3iB,EAAQ6hC,GACxBjf,GAAsB5iB,EAAQ8hC,SAC9Bpf,GAAsBxkB,IACxBA,EAAiB+jC,GAChB/jC,EACAm9B,EAAU5uB,WAEIhO,OAAS,MAC/B,OAAOP,CACT,CACA,OAAIsjC,GAEAzW,KACCyW,EAAenG,EAAU0G,SACzBJ,EAAezjC,EAAegqB,KAE9Bka,GADAV,EAA2B1hC,EAAQhB,OACDC,SAClCo8B,EAAY3T,GAAqBga,EAA0B,CAC1DxZ,KAAM,SACNzb,SAAU4uB,EAAU5uB,YAEXg2B,aAC+B,SAAxCf,EAAyBe,aAC3B,OAASL,EACJZ,EAAe9Z,GAAqB0a,EAAQZ,IAC3CA,EAAe5Y,GACf4Y,EACAG,EACAj9B,EACA,OAEYjG,OAAS,EAC1B+iC,EAAapjC,OAASF,EACtBm9B,EAAUj9B,OAASF,EACnBm9B,EAAUp8B,QAAUuiC,EACpBtjC,EAAec,MAAQq8B,EACvBA,EAAYmG,EACZA,EAAetjC,EAAec,MAE/B,QADC2iC,EAAe3hC,EAAQhB,MAAMJ,eAEzB+iC,EAAeR,GAA4Bz8B,IAE5C,QADEg9B,EAA2BC,EAAanC,YAEpC4C,EAASvW,GAAavqB,cACvBogC,EACCA,EAAyBlgB,SAAW4gB,EAChC,CAAE5gB,OAAQ4gB,EAAQ3U,KAAM2U,GACxBV,GACLA,EAA2BhU,KAC/BiU,EAAe,CACdrX,UAAWqX,EAAarX,UAAY5lB,EACpC86B,UAAWkC,IAEhBF,EAAa5iC,cAAgB+iC,EAC7BH,EAAa/f,WAAa2f,GACzBphC,EACA2kB,EACAjgB,GAEDxG,EAAeU,cAAgBoiC,GAChC3F,IAEJ1Q,GAA+BzsB,GAE/B8B,GADA0E,EAAc1E,EAAQhB,OACAC,SACtByF,EAAcgjB,GAAqBhjB,EAAa,CAC9CwjB,KAAM,UACNzb,SAAU4uB,EAAU5uB,YAEVrO,OAASF,EACrBwG,EAAYzF,QAAU,KACtB,OAASe,IAEP,QADE2kB,EAAkBzmB,EAAeipB,YAE7BjpB,EAAeipB,UAAY,CAACnnB,GAAY9B,EAAeO,OAAS,IAClEkmB,EAAgBxkB,KAAKH,IAC3B9B,EAAec,MAAQ0F,EACvBxG,EAAeU,cAAgB,KACxB8F,EACT,CACA,SAASu9B,GAA6B/jC,EAAgBwkC,GAMpD,OALAA,EAAkBV,GAChB,CAAE9Z,KAAM,UAAWzb,SAAUi2B,GAC7BxkC,EAAegqB,OAED9pB,OAASF,EACjBA,EAAec,MAAQ0jC,CACjC,CACA,SAASV,GAAkCW,EAAgBza,GACzD,OAAO0a,GAAyBD,EAAgBza,EAAM,EAAG,KAC3D,CACA,SAASga,GACPliC,EACA9B,EACAwG,GASA,OAPAslB,GAAqB9rB,EAAgB8B,EAAQhB,MAAO,KAAM0F,IAC1D1E,EAAUiiC,GACR/jC,EACAA,EAAeupB,aAAahb,WAEtBhO,OAAS,EACjBP,EAAeU,cAAgB,KACxBoB,CACT,CACA,SAAS6iC,GAA4B9kC,EAAO2G,EAAao+B,GACvD/kC,EAAM8F,OAASa,EACf,IAAIlG,EAAYT,EAAMS,UACtB,OAASA,IAAcA,EAAUqF,OAASa,GAC1Cq+B,GAAgChlC,EAAMK,OAAQsG,EAAao+B,EAC7D,CACA,SAASE,GACP9kC,EACA+kC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAcnlC,EAAeU,cACjC,OAASykC,EACJnlC,EAAeU,cAAgB,CAC9BqkC,YAAaA,EACbK,UAAW,KACXC,mBAAoB,EACpBnO,KAAM+N,EACND,KAAMA,EACNE,SAAUA,IAEVC,EAAYJ,YAAcA,EAC3BI,EAAYC,UAAY,KACxBD,EAAYE,mBAAqB,EACjCF,EAAYjO,KAAO+N,EACnBE,EAAYH,KAAOA,EACnBG,EAAYD,SAAWA,EAC9B,CACA,SAASI,GAA4BxjC,EAAS9B,EAAgBwG,GAC5D,IAAI22B,EAAYn9B,EAAeupB,aAC7B2D,EAAciQ,EAAUjQ,YACxBgY,EAAW/H,EAAU6H,KAGvB,GAFA5E,GAAkBt+B,EAAS9B,EAAgBm9B,EAAU5uB,SAAU/H,GAE3D,KAAmB,GADvB22B,EAAYxQ,GAAoB7qB,UAE7Bq7B,EAAyB,EAAZA,EAAiB,EAAKn9B,EAAeO,OAAS,QACzD,CACH,GAAI,OAASuB,GAAW,KAAuB,IAAhBA,EAAQvB,OACrCmQ,EAAG,IAAK5O,EAAU9B,EAAec,MAAO,OAASgB,GAAW,CAC1D,GAAI,KAAOA,EAAQhC,IACjB,OAASgC,EAAQpB,eACfikC,GAA4B7iC,EAAS0E,EAAaxG,QACjD,GAAI,KAAO8B,EAAQhC,IACtB6kC,GAA4B7iC,EAAS0E,EAAaxG,QAC/C,GAAI,OAAS8B,EAAQhB,MAAO,CAC/BgB,EAAQhB,MAAMZ,OAAS4B,EACvBA,EAAUA,EAAQhB,MAClB,QACF,CACA,GAAIgB,IAAY9B,EAAgB,MAAM0Q,EACtC,KAAO,OAAS5O,EAAQf,SAAW,CACjC,GAAI,OAASe,EAAQ5B,QAAU4B,EAAQ5B,SAAWF,EAChD,MAAM0Q,EACR5O,EAAUA,EAAQ5B,MACpB,CACA4B,EAAQf,QAAQb,OAAS4B,EAAQ5B,OACjC4B,EAAUA,EAAQf,OACpB,CACFo8B,GAAa,CACf,CAEA,OADAl7B,EAAK0qB,GAAqBwQ,GAClBjQ,GACN,IAAK,WAEH,IADA1mB,EAAcxG,EAAec,MACxBosB,EAAc,KAAM,OAAS1mB,GAE9B,QADD1E,EAAU0E,EAAYlG,YAEnB,OAASysB,GAAmBjrB,KAC3BorB,EAAc1mB,GAChBA,EAAcA,EAAYzF,QAE/B,QADAyF,EAAc0mB,IAERA,EAAcltB,EAAec,MAASd,EAAec,MAAQ,OAC7DosB,EAAc1mB,EAAYzF,QAAWyF,EAAYzF,QAAU,MACjE+jC,GACE9kC,GACA,EACAktB,EACA1mB,EACA0+B,GAEF,MACF,IAAK,YAGH,IAFA1+B,EAAc,KACd0mB,EAAcltB,EAAec,MACxBd,EAAec,MAAQ,KAAM,OAASosB,GAAe,CAExD,GAAI,QADJprB,EAAUorB,EAAY5sB,YACE,OAASysB,GAAmBjrB,GAAU,CAC5D9B,EAAec,MAAQosB,EACvB,KACF,CACAprB,EAAUorB,EAAYnsB,QACtBmsB,EAAYnsB,QAAUyF,EACtBA,EAAc0mB,EACdA,EAAcprB,CAChB,CACAgjC,GACE9kC,GACA,EACAwG,EACA,KACA0+B,GAEF,MACF,IAAK,WACHJ,GAA4B9kC,GAAgB,EAAI,KAAM,UAAM,GAC5D,MACF,QACEA,EAAeU,cAAgB,KAEnC,OAAOV,EAAec,KACxB,CACA,SAAS2/B,GAA6B3+B,EAAS9B,EAAgBwG,GAG7D,GAFA,OAAS1E,IAAY9B,EAAekK,aAAepI,EAAQoI,cAC3D8pB,IAAkCh0B,EAAe2F,MAC7C,KAAOa,EAAcxG,EAAeujB,YACtC,IAAI,OAASzhB,EAWN,OAAO,KAVZ,GACG0/B,GACC1/B,EACA9B,EACAwG,GACA,GAEF,KAAOA,EAAcxG,EAAeujB,YAEpC,OAAO,IACO,CACpB,GAAI,OAASzhB,GAAW9B,EAAec,QAAUgB,EAAQhB,MACvD,MAAMvD,MAAMnD,EAAuB,MACrC,GAAI,OAAS4F,EAAec,MAAO,CAIjC,IAFA0F,EAAcgjB,GADd1nB,EAAU9B,EAAec,MACmBgB,EAAQynB,cACpDvpB,EAAec,MAAQ0F,EAClBA,EAAYtG,OAASF,EAAgB,OAAS8B,EAAQf,SACxDe,EAAUA,EAAQf,SAChByF,EAAcA,EAAYzF,QACzByoB,GAAqB1nB,EAASA,EAAQynB,eAC3BrpB,OAASF,EAC1BwG,EAAYzF,QAAU,IACxB,CACA,OAAOf,EAAec,KACxB,CACA,SAASggC,GAA8Bh/B,EAAS0E,GAC9C,OAAI,KAAO1E,EAAQ6D,MAAQa,MAEpB,QADP1E,EAAUA,EAAQoI,gBACSknB,GAAsBtvB,GACnD,CAsFA,SAASyjC,GAAUzjC,EAAS9B,EAAgBwG,GAC1C,GAAI,OAAS1E,EACX,GAAIA,EAAQ8jB,gBAAkB5lB,EAAeupB,aAC3C4H,IAAmB,MAChB,CACH,IACG2P,GAA8Bh/B,EAAS0E,IACxC,KAA8B,IAAvBxG,EAAeO,OAEtB,OACG4wB,IAAmB,EA/F9B,SACErvB,EACA9B,EACAwG,GAEA,OAAQxG,EAAeF,KACrB,KAAK,EACHwC,EAAkBtC,EAAgBA,EAAesJ,UAAU+U,eAC3DmnB,GAAaxlC,EAAgB2tB,GAAc7rB,EAAQpB,cAAc0tB,OACjEvH,KACA,MACF,KAAK,GACL,KAAK,EACH9jB,GAAgB/C,GAChB,MACF,KAAK,EACHsC,EAAkBtC,EAAgBA,EAAesJ,UAAU+U,eAC3D,MACF,KAAK,GACHmnB,GACExlC,EACAA,EAAe1D,KACf0D,EAAe4lB,cAAc1mB,OAE/B,MACF,KAAK,GACH,IAAI+tB,EAAQjtB,EAAeU,cAC3B,GAAI,OAASusB,EACX,OAAI,OAASA,EAAMtsB,YAEf8rB,GAA+BzsB,GAC9BA,EAAeO,OAAS,IACzB,MAEA,KAAOiG,EAAcxG,EAAec,MAAMyiB,YACrC8f,GAAwBvhC,EAAS9B,EAAgBwG,IAC1DimB,GAA+BzsB,GAMxB,QALP8B,EAAU2+B,GACR3+B,EACA9B,EACAwG,IAEwB1E,EAAQf,QAAU,MAE9C0rB,GAA+BzsB,GAC/B,MACF,KAAK,GACH,IAAIylC,EAAmB,KAAuB,IAAhB3jC,EAAQvB,OAUtC,IATA0sB,EAAQ,KAAOzmB,EAAcxG,EAAeujB,eAEzCie,GACC1/B,EACA9B,EACAwG,GACA,GAEDymB,EAAQ,KAAOzmB,EAAcxG,EAAeujB,aAC3CkiB,EAAkB,CACpB,GAAIxY,EACF,OAAOqY,GACLxjC,EACA9B,EACAwG,GAEJxG,EAAeO,OAAS,GAC1B,CAOA,GALA,QADAklC,EAAmBzlC,EAAeU,iBAE9B+kC,EAAiBL,UAAY,KAC9BK,EAAiBT,KAAO,KACxBS,EAAiBnU,WAAa,MACjCrvB,EAAK0qB,GAAqBA,GAAoB7qB,SAC1CmrB,EAAO,MACN,OAAO,KACd,KAAK,GACL,KAAK,GACH,OACGjtB,EAAe2F,MAAQ,EACxBs7B,GAAyBn/B,EAAS9B,EAAgBwG,GAEtD,KAAK,GACHg/B,GAAaxlC,EAAgB2tB,GAAc7rB,EAAQpB,cAAc0tB,OAErE,OAAOqS,GAA6B3+B,EAAS9B,EAAgBwG,EAC/D,CAYUk/B,CACE5jC,EACA9B,EACAwG,GAGN2qB,GAAmB,KAAuB,OAAhBrvB,EAAQvB,MACpC,MAEC4wB,IAAmB,EAClBxjB,IACE,KAA8B,QAAvB3N,EAAeO,QACtBskB,GAAW7kB,EAAgBqkB,GAAerkB,EAAe2B,OAE/D,OADA3B,EAAe2F,MAAQ,EACf3F,EAAeF,KACrB,KAAK,GACH4Q,EAAG,CACD5O,EAAU9B,EAAeupB,aACzB,IAAIoc,EAAgB3lC,EAAekqB,YACjCtB,EAAO+c,EAAc7oC,MAGvB,GAFA6oC,EAAgB/c,EAAK+c,EAAc9oC,UACnCmD,EAAe1D,KAAOqpC,EAClB,oBAAsBA,EAmBrB,CACH,QAAI,IAAWA,GAAiB,OAASA,EACvC,KACI/c,EAAO+c,EAAcppC,YAAoBd,EAC3C,CACAuE,EAAeF,IAAM,GACrBE,EAAiBsgC,GACf,KACAtgC,EACA2lC,EACA7jC,EACA0E,GAEF,MAAMkK,CACR,CAAO,GAAIkY,IAAShtB,EAAiB,CACnCoE,EAAeF,IAAM,GACrBE,EAAiB0gC,GACf,KACA1gC,EACA2lC,EACA7jC,EACA0E,GAEF,MAAMkK,CACR,EAGF,MAFA1Q,EACE3D,EAAyBspC,IAAkBA,EACvCpoC,MAAMnD,EAAuB,IAAK4F,EAAgB,IAC1D,CA9CE2gC,GAAgBgF,IACV7jC,EAAUs8B,GAA2BuH,EAAe7jC,GACrD9B,EAAeF,IAAM,EACrBE,EAAiB0hC,GAChB,KACA1hC,EACA2lC,EACA7jC,EACA0E,KAEAxG,EAAeF,IAAM,EACtBE,EAAiBghC,GAChB,KACAhhC,EACA2lC,EACA7jC,EACA0E,GA+BV,CACA,OAAOxG,EACT,KAAK,EACH,OAAOghC,GACLl/B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,EACH,OAMEk7B,GACE5/B,EACA9B,EAPD2lC,EAAgB3lC,EAAe1D,KAC/BssB,EAAOwV,GACNuH,EACA3lC,EAAeupB,cAOf/iB,GAGN,KAAK,EACHkK,EAAG,CAKD,GAJApO,EACEtC,EACAA,EAAesJ,UAAU+U,eAEvB,OAASvc,EAAS,MAAMvE,MAAMnD,EAAuB,MACzD,IAAI+iC,EAAYn9B,EAAeupB,aAE/Boc,GADA/c,EAAO5oB,EAAeU,eACD4M,QACrBm1B,GAAiB3gC,EAAS9B,GAC1BkiC,GAAmBliC,EAAgBm9B,EAAW,KAAM32B,GACpD,IAAIuwB,EAAY/2B,EAAeU,cAY/B,GAXAy8B,EAAYpG,EAAU3I,MACtBoX,GAAaxlC,EAAgB2tB,GAAcwP,GAC3CA,IAAcvU,EAAKwF,OACjBwX,GACE5lC,EACA,CAAC2tB,IACDnnB,GACA,GAEJ27B,KACAhF,EAAYpG,EAAUzpB,QAClBsb,EAAKid,aAAY,CACnB,GACIjd,EAAO,CACPtb,QAAS6vB,EACT0I,cAAc,EACdzX,MAAO2I,EAAU3I,OAElBpuB,EAAe2wB,YAAY2B,UAAY1J,EACvC5oB,EAAeU,cAAgBkoB,EACT,IAAvB5oB,EAAeO,MACf,CACAP,EAAiB6iC,GACf/gC,EACA9B,EACAm9B,EACA32B,GAEF,MAAMkK,CACR,CAAO,GAAIysB,IAAcwI,EAAe,CAKtClgB,GAJAkgB,EAAgB5hB,GACdxmB,MAAMnD,EAAuB,MAC7B4F,IAGFA,EAAiB6iC,GACf/gC,EACA9B,EACAm9B,EACA32B,GAEF,MAAMkK,CACR,CACE,IACE0U,GAAyBwB,GACvB5mB,EAAesJ,UAAU+U,cAAc1P,YAEvCwW,GAAuBnlB,EACvB2N,IAAc,EACd0X,GAAkB,KAClBC,IAAyB,EACzB9e,EAAculB,GACZ/rB,EACA,KACAm9B,EACA32B,GAEFxG,EAAec,MAAQ0F,EACzBA,GAGCA,EAAYjG,OAA8B,EAArBiG,EAAYjG,MAAc,KAC7CiG,EAAcA,EAAYzF,OAAS,KACvC,CAEH,GADA8lB,KACIsW,IAAcwI,EAAe,CAC/B3lC,EAAiBygC,GACf3+B,EACA9B,EACAwG,GAEF,MAAMkK,CACR,CACA0vB,GAAkBt+B,EAAS9B,EAAgBm9B,EAAW32B,EACxD,CACAxG,EAAiBA,EAAec,KAClC,CACA,OAAOd,EACT,KAAK,GACH,OACEohC,GAAQt/B,EAAS9B,GACjB,OAAS8B,GACJ0E,EAAcs/B,GACb9lC,EAAe1D,KACf,KACA0D,EAAeupB,aACf,OAECvpB,EAAeU,cAAgB8F,EAChCmH,KACEnH,EAAcxG,EAAe1D,KAC9BwF,EAAU9B,EAAeupB,cACzBoc,EAAgBI,GACf3jC,EAAwBN,SACxByI,cAAc/D,IACD8B,IAAuBtI,EACrC2lC,EAAcp9B,IAAoBzG,EACnCkkC,GAAqBL,EAAen/B,EAAa1E,GACjD8H,GAAoB+7B,GACnB3lC,EAAesJ,UAAYq8B,GAC7B3lC,EAAeU,cAAgBolC,GAC9B9lC,EAAe1D,KACfwF,EAAQ8jB,cACR5lB,EAAeupB,aACfznB,EAAQpB,eAEd,KAEJ,KAAK,GACH,OACEqC,GAAgB/C,GAChB,OAAS8B,GACP6L,KACEg4B,EAAgB3lC,EAAesJ,UAC/B28B,GACEjmC,EAAe1D,KACf0D,EAAeupB,aACfnnB,EAAwBN,SAE3BqjB,GAAuBnlB,EACvBslB,IAAyB,EACzBF,GAAyBwB,GACxB+e,EAAch3B,aAEjBg3B,EAAgB3lC,EAAeupB,aAAahb,SAC7C,OAASzM,GAAW6L,GAChByyB,GACEt+B,EACA9B,EACA2lC,EACAn/B,GAEDxG,EAAec,MAAQgrB,GACtB9rB,EACA,KACA2lC,EACAn/B,GAEN46B,GAAQt/B,EAAS9B,GACjBA,EAAec,MAEnB,KAAK,EA0CH,OAzCI,OAASgB,GAAW6L,MACjBib,EAAO+c,EAAgBvgB,MAOxB,QANDugB,EAu6MX,SAA4BhgB,EAAUrpB,EAAMmU,EAAOgnB,GACjD,KAAO,IAAM9R,EAAS9qB,UAAY,CAChC,IAAIqrC,EAAWz1B,EACf,GAAIkV,EAASja,SAAST,gBAAkB3O,EAAK2O,eAC3C,IACGwsB,IACA,UAAY9R,EAASja,UAAY,WAAaia,EAASrpB,MAExD,WACG,GAAKm7B,GASP,IAAK9R,EAAS9c,IACjB,OAAQvM,GACN,IAAK,OACH,IAAKqpB,EAASwgB,aAAa,YAAa,MACxC,OAAOxgB,EACT,IAAK,OAEH,GAAI,gBADJlpB,EAAOkpB,EAASygB,aAAa,SACAzgB,EAASwgB,aAAa,mBACjD,MACG,GACH1pC,IAASypC,EAASG,KAClB1gB,EAASygB,aAAa,WACnB,MAAQF,EAASznB,KAAO,KAAOynB,EAASznB,OAC3CkH,EAASygB,aAAa,kBACnB,MAAQF,EAASI,YAAc,KAAOJ,EAASI,cAClD3gB,EAASygB,aAAa,YACnB,MAAQF,EAASK,MAAQ,KAAOL,EAASK,OAE5C,MACF,OAAO5gB,EACT,IAAK,QACH,GAAIA,EAASwgB,aAAa,mBAAoB,MAC9C,OAAOxgB,EACT,IAAK,SAEH,KADAlpB,EAAOkpB,EAASygB,aAAa,WAEhB,MAAQF,EAASM,IAAM,KAAON,EAASM,MAChD7gB,EAASygB,aAAa,WACnB,MAAQF,EAAS5pC,KAAO,KAAO4pC,EAAS5pC,OAC3CqpB,EAASygB,aAAa,kBACnB,MAAQF,EAASI,YAAc,KAAOJ,EAASI,eACpD7pC,GACAkpB,EAASwgB,aAAa,WACrBxgB,EAASwgB,aAAa,YAEvB,MACF,OAAOxgB,EACT,QACE,OAAOA,OA/CgB,CAC3B,GAAI,UAAYrpB,GAAQ,WAAaqpB,EAASrpB,KAOvC,OAAOqpB,EANZ,IAAIlpB,EAAO,MAAQypC,EAASzpC,KAAO,KAAO,GAAKypC,EAASzpC,KACxD,GACE,WAAaypC,EAAS5pC,MACtBqpB,EAASygB,aAAa,UAAY3pC,EAElC,OAAOkpB,CACY,CA0CzB,GAAI,QADJA,EAAWiB,GAAkBjB,EAAS7H,cACf,KACzB,CACA,OAAO,IACT,CAr+M2B2oB,CACfd,EACA3lC,EAAe1D,KACf0D,EAAeupB,aACfjE,MAGMtlB,EAAesJ,UAAYq8B,EAC5BxgB,GAAuBnlB,EACvBolB,GAAyBwB,GACxB+e,EAAch3B,YAEf2W,IAAyB,EACzBsD,GAAO,GACPA,GAAO,GAChBA,GAAQpD,GAAyBxlB,IAEnC+C,GAAgB/C,GAChB4oB,EAAO5oB,EAAe1D,KACtB6gC,EAAYn9B,EAAeupB,aAC3BwN,EAAY,OAASj1B,EAAUA,EAAQ8jB,cAAgB,KACvD+f,EAAgBxI,EAAU5uB,SAC1BoY,GAAqBiC,EAAMuU,GACtBwI,EAAgB,KACjB,OAAS5O,GACTpQ,GAAqBiC,EAAMmO,KAC1B/2B,EAAeO,OAAS,IAC7B,OAASP,EAAeU,gBACpBkoB,EAAO2H,GACPzuB,EACA9B,EACA2xB,GACA,KACA,KACAnrB,GAEDrD,GAAsBC,cAAgBwlB,GACzCwY,GAAQt/B,EAAS9B,GACjBogC,GAAkBt+B,EAAS9B,EAAgB2lC,EAAen/B,GACnDxG,EAAec,MACxB,KAAK,EAgBH,OAfI,OAASgB,GAAW6L,MACjB7L,EAAU0E,EAAc4e,MAMzB,QALD5e,EA27MX,SAAgCmf,EAAUjX,EAAM+oB,GAC9C,GAAI,KAAO/oB,EAAM,OAAO,KACxB,KAAO,IAAMiX,EAAS9qB,UAAY,CAChC,IACG,IAAM8qB,EAAS9qB,UACd,UAAY8qB,EAASja,UACrB,WAAaia,EAASrpB,QACvBm7B,EAED,OAAO,KAET,GAAI,QADJ9R,EAAWiB,GAAkBjB,EAAS7H,cACf,OAAO,IAChC,CACA,OAAO6H,CACT,CAz8MyB+gB,CACblgC,EACAxG,EAAeupB,aACfjE,MAGMtlB,EAAesJ,UAAY9C,EAC5B2e,GAAuBnlB,EACvBolB,GAAyB,KACzBtjB,GAAU,GACVA,GAAU,GACnBA,GAAW0jB,GAAyBxlB,IAE/B,KACT,KAAK,GACH,OAAOqjC,GAAwBvhC,EAAS9B,EAAgBwG,GAC1D,KAAK,EACH,OACElE,EACEtC,EACAA,EAAesJ,UAAU+U,eAE1BsnB,EAAgB3lC,EAAeupB,aAChC,OAASznB,EACJ9B,EAAec,MAAQgrB,GACtB9rB,EACA,KACA2lC,EACAn/B,GAEF45B,GACEt+B,EACA9B,EACA2lC,EACAn/B,GAENxG,EAAec,MAEnB,KAAK,GACH,OAAOw/B,GACLx+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,EACH,OACE45B,GACEt+B,EACA9B,EACAA,EAAeupB,aACf/iB,GAEFxG,EAAec,MAEnB,KAAK,EAUL,KAAK,GACH,OACEs/B,GACEt+B,EACA9B,EACAA,EAAeupB,aAAahb,SAC5B/H,GAEFxG,EAAec,MAEnB,KAAK,GACH,OACG6kC,EAAgB3lC,EAAeupB,aAChCic,GAAaxlC,EAAgBA,EAAe1D,KAAMqpC,EAAczmC,OAChEkhC,GACEt+B,EACA9B,EACA2lC,EAAcp3B,SACd/H,GAEFxG,EAAec,MAEnB,KAAK,EACH,OACG8nB,EAAO5oB,EAAe1D,KAAKI,SAC3BipC,EAAgB3lC,EAAeupB,aAAahb,SAC7CiyB,GAAqBxgC,GAEpB2lC,EAAgBA,EADhB/c,EAAOiK,GAAYjK,IAEnB5oB,EAAeO,OAAS,EACzB6/B,GAAkBt+B,EAAS9B,EAAgB2lC,EAAen/B,GAC1DxG,EAAec,MAEnB,KAAK,GACH,OAAO4/B,GACL5+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,GACH,OAAOq6B,GACL/+B,EACA9B,EACAA,EAAe1D,KACf0D,EAAeupB,aACf/iB,GAEJ,KAAK,GACH,OAAO8+B,GAA4BxjC,EAAS9B,EAAgBwG,GAC9D,KAAK,GACH,OAAOy6B,GAAyBn/B,EAAS9B,EAAgBwG,GAC3D,KAAK,GACH,OACEg6B,GAAqBxgC,GACpB2lC,EAAgB9S,GAAYlF,IAC7B,OAAS7rB,GAEL,QADE8mB,EAAOqG,QAELrG,EAAOlB,GACRyV,EAAYnP,KACZpF,EAAKuG,YAAcgO,EACpBA,EAAUjP,WACV,OAASiP,IAAcvU,EAAK+d,kBAAoBngC,GAC/CoiB,EAAOuU,GACTn9B,EAAeU,cAAgB,CAC9B4iB,OAAQqiB,EACRvX,MAAOxF,GAETkZ,GAAsB9hC,GACtBwlC,GAAaxlC,EAAgB2tB,GAAc/E,KAC1C,KAAO9mB,EAAQ6D,MAAQa,KACrBi8B,GAAiB3gC,EAAS9B,GAC3BkiC,GAAmBliC,EAAgB,KAAM,KAAMwG,GAC/C27B,MACDvZ,EAAO9mB,EAAQpB,cACfy8B,EAAYn9B,EAAeU,cAC5BkoB,EAAKtF,SAAWqiB,GACV/c,EAAO,CAAEtF,OAAQqiB,EAAevX,MAAOuX,GACxC3lC,EAAeU,cAAgBkoB,EAChC,IAAM5oB,EAAe2F,QAClB3F,EAAeU,cACdV,EAAe2wB,YAAY2B,UACzB1J,GACN4c,GAAaxlC,EAAgB2tB,GAAcgY,KACzCA,EAAgBxI,EAAU/O,MAC5BoX,GAAaxlC,EAAgB2tB,GAAcgY,GAC3CA,IAAkB/c,EAAKwF,OACrBwX,GACE5lC,EACA,CAAC2tB,IACDnnB,GACA,KAEZ45B,GACEt+B,EACA9B,EACAA,EAAeupB,aAAahb,SAC5B/H,GAEFxG,EAAec,MAEnB,KAAK,GACH,MAAMd,EAAeupB,aAEzB,MAAMhsB,MAAMnD,EAAuB,IAAK4F,EAAeF,KACzD,CACA,IAAI8mC,GAAchlC,EAAa,MAC7BilC,GAA0B,KAC1BC,GAAwB,KAC1B,SAAStB,GAAauB,EAAe/jC,EAASuyB,GAC5CtzB,EAAK2kC,GAAa5jC,EAAQI,eAC1BJ,EAAQI,cAAgBmyB,CAC1B,CACA,SAASyR,GAAYhkC,GACnBA,EAAQI,cAAgBwjC,GAAY9kC,QACpCC,EAAI6kC,GACN,CACA,SAAS/B,GAAgCvhB,EAAQ9c,EAAao+B,GAC5D,KAAO,OAASthB,GAAU,CACxB,IAAIhjB,EAAYgjB,EAAOhjB,UAOvB,IANCgjB,EAAOC,WAAa/c,KAAiBA,GAChC8c,EAAOC,YAAc/c,EACvB,OAASlG,IAAcA,EAAUijB,YAAc/c,IAC/C,OAASlG,IACRA,EAAUijB,WAAa/c,KAAiBA,IACxClG,EAAUijB,YAAc/c,GACzB8c,IAAWshB,EAAiB,MAChCthB,EAASA,EAAOpjB,MAClB,CACF,CACA,SAAS0lC,GACP5lC,EACAinC,EACAzgC,EACA0gC,GAEA,IAAIrnC,EAAQG,EAAec,MAE3B,IADA,OAASjB,IAAUA,EAAMK,OAASF,GAC3B,OAASH,GAAS,CACvB,IAAIsnC,EAAOtnC,EAAMqK,aACjB,GAAI,OAASi9B,EAAM,CACjB,IAAIC,EAAYvnC,EAAMiB,MACtBqmC,EAAOA,EAAKE,aACZ32B,EAAG,KAAO,OAASy2B,GAAQ,CACzB,IAAIG,EAAaH,EACjBA,EAAOtnC,EACP,IAAK,IAAInF,EAAI,EAAGA,EAAIusC,EAASzsC,OAAQE,IACnC,GAAI4sC,EAAWtkC,UAAYikC,EAASvsC,GAAI,CACtCysC,EAAKxhC,OAASa,EAEd,QADA8gC,EAAaH,EAAK7mC,aACMgnC,EAAW3hC,OAASa,GAC5Cq+B,GACEsC,EAAKjnC,OACLsG,EACAxG,GAEFknC,IAA6BE,EAAY,MACzC,MAAM12B,CACR,CACFy2B,EAAOG,EAAWxkB,IACpB,CACF,MAAO,GAAI,KAAOjjB,EAAMC,IAAK,CAE3B,GAAI,QADJsnC,EAAYvnC,EAAMK,QACM,MAAM3C,MAAMnD,EAAuB,MAC3DgtC,EAAUzhC,OAASa,EAEnB,QADA2gC,EAAOC,EAAU9mC,aACC6mC,EAAKxhC,OAASa,GAChCq+B,GAAgCuC,EAAW5gC,EAAaxG,GACxDonC,EAAY,IACd,MAAOA,EAAYvnC,EAAMiB,MACzB,GAAI,OAASsmC,EAAWA,EAAUlnC,OAASL,OAEzC,IAAKunC,EAAYvnC,EAAO,OAASunC,GAAa,CAC5C,GAAIA,IAAcpnC,EAAgB,CAChConC,EAAY,KACZ,KACF,CAEA,GAAI,QADJvnC,EAAQunC,EAAUrmC,SACE,CAClBlB,EAAMK,OAASknC,EAAUlnC,OACzBknC,EAAYvnC,EACZ,KACF,CACAunC,EAAYA,EAAUlnC,MACxB,CACFL,EAAQunC,CACV,CACF,CACA,SAAS5F,GACP1/B,EACA9B,EACAwG,EACA0gC,GAEAplC,EAAU,KACV,IACE,IAAIwhB,EAAStjB,EAAgBunC,GAA6B,EAC1D,OAASjkB,GAET,CACA,IAAKikB,EACH,GAAI,KAAsB,OAAfjkB,EAAO/iB,OAAiBgnC,GAA6B,OAC3D,GAAI,KAAsB,OAAfjkB,EAAO/iB,OAAiB,MAC1C,GAAI,KAAO+iB,EAAOxjB,IAAK,CACrB,IAAI0nC,EAAgBlkB,EAAOhjB,UAC3B,GAAI,OAASknC,EAAe,MAAMjqC,MAAMnD,EAAuB,MAE/D,GAAI,QADJotC,EAAgBA,EAAc5hB,eACF,CAC1B,IAAI5iB,EAAUsgB,EAAOhnB,KACrB0gB,GAASsG,EAAOiG,aAAarqB,MAAOsoC,EAActoC,SAC/C,OAAS4C,EAAUA,EAAQG,KAAKe,GAAYlB,EAAU,CAACkB,GAC5D,CACF,MAAO,GAAIsgB,IAAWjhB,EAA6BP,QAAS,CAE1D,GAAI,QADJ0lC,EAAgBlkB,EAAOhjB,WACK,MAAM/C,MAAMnD,EAAuB,MAC/DotC,EAAc9mC,cAAcA,gBAC1B4iB,EAAO5iB,cAAcA,gBACpB,OAASoB,EACNA,EAAQG,KAAKkB,IACZrB,EAAU,CAACqB,IACpB,CACAmgB,EAASA,EAAOpjB,MAClB,CACA,OAAS4B,GACP8jC,GACE5lC,EACA8B,EACA0E,EACA0gC,GAEJlnC,EAAeO,OAAS,MAC1B,CACA,SAAS6wB,GAAsBqW,GAC7B,IACEA,EAAsBA,EAAoBJ,aAC1C,OAASI,GAET,CACA,IACGzqB,GACCyqB,EAAoBzkC,QAAQI,cAC5BqkC,EAAoBC,eAGtB,OAAO,EACTD,EAAsBA,EAAoB3kB,IAC5C,CACA,OAAO,CACT,CACA,SAAS0d,GAAqBxgC,GAC5B6mC,GAA0B7mC,EAC1B8mC,GAAwB,KAExB,QADA9mC,EAAiBA,EAAekK,gBACJlK,EAAeqnC,aAAe,KAC5D,CACA,SAASxU,GAAY7vB,GACnB,OAAO2kC,GAAuBd,GAAyB7jC,EACzD,CACA,SAAS4nB,GAAgCgd,EAAU5kC,GAEjD,OADA,OAAS6jC,IAA2BrG,GAAqBoH,GAClDD,GAAuBC,EAAU5kC,EAC1C,CACA,SAAS2kC,GAAuBC,EAAU5kC,GACxC,IAAI9D,EAAQ8D,EAAQI,cAEpB,GADAJ,EAAU,CAAEA,QAASA,EAAS0kC,cAAexoC,EAAO4jB,KAAM,MACtD,OAASgkB,GAAuB,CAClC,GAAI,OAASc,EAAU,MAAMrqC,MAAMnD,EAAuB,MAC1D0sC,GAAwB9jC,EACxB4kC,EAAS19B,aAAe,CAAEvE,MAAO,EAAG0hC,aAAcrkC,GAClD4kC,EAASrnC,OAAS,MACpB,MAAOumC,GAAwBA,GAAsBhkB,KAAO9f,EAC5D,OAAO9D,CACT,CACA,IAAIsjC,IAAiB,EACrB,SAASV,GAAsBjiC,GAC7BA,EAAM8wB,YAAc,CAClB2B,UAAWzyB,EAAMa,cACjBmnC,gBAAiB,KACjBC,eAAgB,KAChBC,OAAQ,CAAEzmC,QAAS,KAAMqE,MAAO,EAAGqiC,gBAAiB,MACpDC,UAAW,KAEf,CACA,SAASxF,GAAiB3gC,EAAS9B,GACjC8B,EAAUA,EAAQ6uB,YAClB3wB,EAAe2wB,cAAgB7uB,IAC5B9B,EAAe2wB,YAAc,CAC5B2B,UAAWxwB,EAAQwwB,UACnBuV,gBAAiB/lC,EAAQ+lC,gBACzBC,eAAgBhmC,EAAQgmC,eACxBC,OAAQjmC,EAAQimC,OAChBE,UAAW,MAEjB,CACA,SAAS9M,GAAaz0B,GACpB,MAAO,CAAEA,KAAMA,EAAM5G,IAAK,EAAGo2B,QAAS,KAAMiD,SAAU,KAAMrW,KAAM,KACpE,CACA,SAASoY,GAAcr7B,EAAOgjB,EAAQnc,GACpC,IAAIiqB,EAAc9wB,EAAM8wB,YACxB,GAAI,OAASA,EAAa,OAAO,KAEjC,GADAA,EAAcA,EAAYoX,OACtB,KAA0B,EAAnBG,IAAuB,CAChC,IAAI5mC,EAAUqvB,EAAYrvB,QAO1B,OANA,OAASA,EACJuhB,EAAOC,KAAOD,GACbA,EAAOC,KAAOxhB,EAAQwhB,KAAQxhB,EAAQwhB,KAAOD,GACnD8N,EAAYrvB,QAAUuhB,EACtBA,EAASK,GAAuBrjB,GAChCkjB,GAA8BljB,EAAO,KAAM6G,GACpCmc,CACT,CAEA,OADAG,GAAgBnjB,EAAO8wB,EAAa9N,EAAQnc,GACrCwc,GAAuBrjB,EAChC,CACA,SAASu7B,GAAoBt1B,EAAMjG,EAAO6G,GAExC,GAAI,QADJ7G,EAAQA,EAAM8wB,eACU9wB,EAAQA,EAAMkoC,OAAS,KAAc,QAAPrhC,IAAkB,CACtE,IAAIg1B,EAAa77B,EAAM8F,MAEvBe,GADAg1B,GAAc51B,EAAKE,aAEnBnG,EAAM8F,MAAQe,EACdc,GAAkB1B,EAAMY,EAC1B,CACF,CACA,SAASyhC,GAAsBnoC,EAAgBooC,GAC7C,IAAIxlB,EAAQ5iB,EAAe2wB,YACzB7uB,EAAU9B,EAAeM,UAC3B,GACE,OAASwB,GACyB8gB,KAAhC9gB,EAAUA,EAAQ6uB,aACpB,CACA,IAAI0X,EAAW,KACbC,EAAU,KAEZ,GAAI,QADJ1lB,EAAQA,EAAMilB,iBACM,CAClB,EAAG,CACD,IAAIU,EAAQ,CACV7hC,KAAMkc,EAAMlc,KACZ5G,IAAK8iB,EAAM9iB,IACXo2B,QAAStT,EAAMsT,QACfiD,SAAU,KACVrW,KAAM,MAER,OAASwlB,EACJD,EAAWC,EAAUC,EACrBD,EAAUA,EAAQxlB,KAAOylB,EAC9B3lB,EAAQA,EAAME,IAChB,OAAS,OAASF,GAClB,OAAS0lB,EACJD,EAAWC,EAAUF,EACrBE,EAAUA,EAAQxlB,KAAOslB,CAChC,MAAOC,EAAWC,EAAUF,EAS5B,OARAxlB,EAAQ,CACN0P,UAAWxwB,EAAQwwB,UACnBuV,gBAAiBQ,EACjBP,eAAgBQ,EAChBP,OAAQjmC,EAAQimC,OAChBE,UAAWnmC,EAAQmmC,gBAErBjoC,EAAe2wB,YAAc/N,EAE/B,CAEA,QADA5iB,EAAiB4iB,EAAMklB,gBAElBllB,EAAMilB,gBAAkBO,EACxBpoC,EAAe8iB,KAAOslB,EAC3BxlB,EAAMklB,eAAiBM,CACzB,CACA,IAAII,IAAkC,EACtC,SAASrG,KACP,GAAIqG,GAAiC,CAEnC,GAAI,OAD0Bha,GACQ,MADRA,EAEhC,CACF,CACA,SAAS0T,GACPuG,EACAh4B,EACAi4B,EACAliC,GAEAgiC,IAAkC,EAClC,IAAI5lB,EAAQ6lB,EAAwB9X,YACpC6R,IAAiB,EACjB,IAAIqF,EAAkBjlB,EAAMilB,gBAC1BC,EAAiBllB,EAAMklB,eACvBvU,EAAe3Q,EAAMmlB,OAAOzmC,QAC9B,GAAI,OAASiyB,EAAc,CACzB3Q,EAAMmlB,OAAOzmC,QAAU,KACvB,IAAIqnC,EAAoBpV,EACtBqV,EAAqBD,EAAkB7lB,KACzC6lB,EAAkB7lB,KAAO,KACzB,OAASglB,EACJD,EAAkBe,EAClBd,EAAehlB,KAAO8lB,EAC3Bd,EAAiBa,EACjB,IAAI7mC,EAAU2mC,EAAwBnoC,UACtC,OAASwB,KAENyxB,GADCzxB,EAAUA,EAAQ6uB,aACImX,kBACPA,IACd,OAASvU,EACLzxB,EAAQ+lC,gBAAkBe,EAC1BrV,EAAazQ,KAAO8lB,EACxB9mC,EAAQgmC,eAAiBa,GAChC,CACA,GAAI,OAASd,EAAiB,CAC5B,IAAI/tB,EAAW8I,EAAM0P,UAIrB,IAHAwV,EAAiB,EACjBhmC,EAAU8mC,EAAqBD,EAAoB,KACnDpV,EAAesU,IACZ,CACD,IAAI3gC,GAAkC,UAArBqsB,EAAa7sB,KAC5BmiC,EAAiB3hC,IAAeqsB,EAAa7sB,KAC/C,GACEmiC,GACKjV,GAAgC1sB,KAAgBA,GAChDV,EAAcU,KAAgBA,EACnC,CACA,IAAMA,GACJA,IAAeqnB,KACdia,IAAkC,GACrC,OAAS1mC,IACNA,EAAUA,EAAQghB,KACjB,CACEpc,KAAM,EACN5G,IAAKyzB,EAAazzB,IAClBo2B,QAAS3C,EAAa2C,QACtBiD,SAAU,KACVrW,KAAM,OAEZpS,EAAG,CACD,IAAI1Q,EAAiByoC,EACnB5lB,EAAS0Q,EACXrsB,EAAauJ,EACb,IAAIkV,EAAW+iB,EACf,OAAQ7lB,EAAO/iB,KACb,KAAK,EAEH,GAAI,oBADJE,EAAiB6iB,EAAOqT,SACkB,CACxCpc,EAAW9Z,EAAetB,KAAKinB,EAAU7L,EAAU5S,GACnD,MAAMwJ,CACR,CACAoJ,EAAW9Z,EACX,MAAM0Q,EACR,KAAK,EACH1Q,EAAeO,OAAiC,MAAxBP,EAAeO,MAAkB,IAC3D,KAAK,EAMH,GAAI,QAJJ2G,EACE,oBAFFlH,EAAiB6iB,EAAOqT,SAGlBl2B,EAAetB,KAAKinB,EAAU7L,EAAU5S,GACxClH,SACqB,IAAWkH,EAAY,MAAMwJ,EACxDoJ,EAAW1c,EAAO,CAAC,EAAG0c,EAAU5S,GAChC,MAAMwJ,EACR,KAAK,EACH8xB,IAAiB,EAEvB,CAEA,QADAt7B,EAAaqsB,EAAa4F,YAEtBsP,EAAwBloC,OAAS,GACnCsoC,IAAmBJ,EAAwBloC,OAAS,MAEpD,QADCsoC,EAAiBjmB,EAAMqlB,WAEnBrlB,EAAMqlB,UAAY,CAAC/gC,GACpB2hC,EAAe5mC,KAAKiF,GAC5B,MACG2hC,EAAiB,CAChBniC,KAAMQ,EACNpH,IAAKyzB,EAAazzB,IAClBo2B,QAAS3C,EAAa2C,QACtBiD,SAAU5F,EAAa4F,SACvBrW,KAAM,MAEN,OAAShhB,GACH8mC,EAAqB9mC,EAAU+mC,EAChCF,EAAoB7uB,GACpBhY,EAAUA,EAAQghB,KAAO+lB,EAC7Bf,GAAkB5gC,EAEvB,GAAI,QADJqsB,EAAeA,EAAazQ,MAE1B,IAA4C,QAAtCyQ,EAAe3Q,EAAMmlB,OAAOzmC,SAChC,MAGGiyB,GADFsV,EAAiBtV,GACezQ,KAC9B+lB,EAAe/lB,KAAO,KACtBF,EAAMklB,eAAiBe,EACvBjmB,EAAMmlB,OAAOzmC,QAAU,IAAK,CACrC,CACA,OAASQ,IAAY6mC,EAAoB7uB,GACzC8I,EAAM0P,UAAYqW,EAClB/lB,EAAMilB,gBAAkBe,EACxBhmB,EAAMklB,eAAiBhmC,EACvB,OAAS+lC,IAAoBjlB,EAAMmlB,OAAOpiC,MAAQ,GAClDquB,IAAkC8T,EAClCW,EAAwB9iC,MAAQmiC,EAChCW,EAAwB/nC,cAAgBoZ,CAC1C,CACF,CACA,SAASgvB,GAAa3P,EAAUn2B,GAC9B,GAAI,oBAAsBm2B,EACxB,MAAM57B,MAAMnD,EAAuB,IAAK++B,IAC1CA,EAASz6B,KAAKsE,EAChB,CACA,SAAS+lC,GAAgBpY,EAAa3tB,GACpC,IAAIilC,EAAYtX,EAAYsX,UAC5B,GAAI,OAASA,EACX,IACEtX,EAAYsX,UAAY,KAAMtX,EAAc,EAC5CA,EAAcsX,EAAUztC,OACxBm2B,IAEAmY,GAAab,EAAUtX,GAAc3tB,EAC3C,CACA,SAASgmC,GAA0BzoC,EAAO0oC,GACxC,IACE,IAAItY,EAAcsY,EAAatY,YAC7BW,EAAa,OAASX,EAAcA,EAAYW,WAAa,KAC/D,GAAI,OAASA,EAAY,CACvB,IAAI4X,EAAc5X,EAAWxO,KAC7B6N,EAAcuY,EACd,EAAG,CACD,IAAKvY,EAAY7wB,IAAMS,KAAWA,EAAO,CACvC+wB,OAAa,EACb,IAAI6G,EAASxH,EAAYwH,OACvB9uB,EAAOsnB,EAAYtnB,KACrBioB,EAAa6G,IACb9uB,EAAK2rB,QAAU1D,CACjB,CACAX,EAAcA,EAAY7N,IAC5B,OAAS6N,IAAgBuY,EAC3B,CACF,CAAE,MAAOpiB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASsiB,GACP7oC,EACA0oC,EACAI,GAEA,IACE,IAAI1Y,EAAcsY,EAAatY,YAC7BW,EAAa,OAASX,EAAcA,EAAYW,WAAa,KAC/D,GAAI,OAASA,EAAY,CACvB,IAAI4X,EAAc5X,EAAWxO,KAC7B6N,EAAcuY,EACd,EAAG,CACD,IAAKvY,EAAY7wB,IAAMS,KAAWA,EAAO,CACvC,IAAI8I,EAAOsnB,EAAYtnB,KACrB2rB,EAAU3rB,EAAK2rB,QACjB,QAAI,IAAWA,EAAS,CACtB3rB,EAAK2rB,aAAU,EACf1D,EAAa2X,EACb,IAAIK,EAAyBD,EAC7B,IACErU,GACF,CAAE,MAAOlO,GACPqiB,GACE7X,EACAgY,EACAxiB,EAEJ,CACF,CACF,CACA6J,EAAcA,EAAY7N,IAC5B,OAAS6N,IAAgBuY,EAC3B,CACF,CAAE,MAAOpiB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASyiB,GAAqBN,GAC5B,IAAItY,EAAcsY,EAAatY,YAC/B,GAAI,OAASA,EAAa,CACxB,IAAIhL,EAAWsjB,EAAa3/B,UAC5B,IACEy/B,GAAgBpY,EAAahL,EAC/B,CAAE,MAAOmB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACF,CACA,SAAS0iB,GACP1nC,EACAwnC,EACA3jB,GAEAA,EAASlV,MAAQ2tB,GACft8B,EAAQxF,KACRwF,EAAQ8jB,eAEVD,EAASsH,MAAQnrB,EAAQpB,cACzB,IACEilB,EAAS8jB,sBACX,CAAE,MAAO3iB,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CACF,CACA,SAAS4iB,GAAgB5nC,EAASwnC,GAChC,IACE,IAAIjhB,EAAMvmB,EAAQumB,IAClB,GAAI,OAASA,EAAK,CAChB,IAAI1C,EAAW7jB,EAAQwH,UACvB,OAAQxH,EAAQhC,KACd,KAAK,GACL,KAAK,GACL,KAAK,EACH,IAAI6pC,EAAgBhkB,EACpB,MACF,QACEgkB,EAAgBhkB,EAEpB,oBAAsB0C,EACjBvmB,EAAQg3B,WAAazQ,EAAIshB,GACzBthB,EAAIvmB,QAAU6nC,CACrB,CACF,CAAE,MAAO7iB,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CACF,CACA,SAAS8iB,GAAgB9nC,EAASwnC,GAChC,IAAIjhB,EAAMvmB,EAAQumB,IAChByQ,EAAah3B,EAAQg3B,WACvB,GAAI,OAASzQ,EACX,GAAI,oBAAsByQ,EACxB,IACEA,GACF,CAAE,MAAOhS,GACPqiB,GAAwBrnC,EAASwnC,EAAwBxiB,EAC3D,CAAE,QACChlB,EAAQg3B,WAAa,KAEpB,OADCh3B,EAAUA,EAAQxB,aACCwB,EAAQg3B,WAAa,KAC7C,MACG,GAAI,oBAAsBzQ,EAC7B,IACEA,EAAI,KACN,CAAE,MAAOwhB,GACPV,GAAwBrnC,EAASwnC,EAAwBO,EAC3D,MACGxhB,EAAIvmB,QAAU,IACvB,CACA,SAASgoC,GAAgBb,GACvB,IAAI3sC,EAAO2sC,EAAa3sC,KACtBmU,EAAQw4B,EAAarjB,cACrBD,EAAWsjB,EAAa3/B,UAC1B,IACEoH,EAAG,OAAQpU,GACT,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,WACHmU,EAAMs5B,WAAapkB,EAASrF,QAC5B,MAAM5P,EACR,IAAK,MACHD,EAAM+1B,IACD7gB,EAAS6gB,IAAM/1B,EAAM+1B,IACtB/1B,EAAMu5B,SAAWrkB,EAASskB,OAASx5B,EAAMu5B,QAEnD,CAAE,MAAOljB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASojB,GAAiBjB,EAAcpL,EAAUD,GAChD,IACE,IAAIuM,EAAalB,EAAa3/B,WA+tKlC,SAA0B6gC,EAAYrqC,EAAKsqC,EAAWjN,GACpD,OAAQr9B,GACN,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACH,MACF,IAAK,QACH,IAAIrD,EAAO,KACTH,EAAO,KACP4C,EAAQ,KACR2C,EAAe,KACf0L,EAAmB,KACnBZ,EAAU,KACVa,EAAiB,KACnB,IAAK68B,KAAWD,EAAW,CACzB,IAAIE,EAAWF,EAAUC,GACzB,GAAID,EAAU/mC,eAAegnC,IAAY,MAAQC,EAC/C,OAAQD,GACN,IAAK,UAEL,IAAK,QACH,MACF,IAAK,eACH98B,EAAmB+8B,EACrB,QACEnN,EAAU95B,eAAegnC,IACvBE,GAAQJ,EAAYrqC,EAAKuqC,EAAS,KAAMlN,EAAWmN,GAE7D,CACA,IAAK,IAAIE,KAAerN,EAAW,CACjC,IAAIkN,EAAUlN,EAAUqN,GAExB,GADAF,EAAWF,EAAUI,GAEnBrN,EAAU95B,eAAemnC,KACxB,MAAQH,GAAW,MAAQC,GAE5B,OAAQE,GACN,IAAK,OACHluC,EAAO+tC,EACP,MACF,IAAK,OACH5tC,EAAO4tC,EACP,MACF,IAAK,UACH19B,EAAU09B,EACV,MACF,IAAK,iBACH78B,EAAiB68B,EACjB,MACF,IAAK,QACHnrC,EAAQmrC,EACR,MACF,IAAK,eACHxoC,EAAewoC,EACf,MACF,IAAK,WACL,IAAK,0BACH,GAAI,MAAQA,EACV,MAAM9sC,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEuqC,IAAYC,GACVC,GACEJ,EACArqC,EACA0qC,EACAH,EACAlN,EACAmN,GAGZ,CAWA,YAVAj9B,GACE88B,EACAjrC,EACA2C,EACA0L,EACAZ,EACAa,EACAlR,EACAG,GAGJ,IAAK,SAEH,IAAKH,KADL+tC,EAAUnrC,EAAQ2C,EAAe2oC,EAAc,KAClCJ,EACX,GACI78B,EAAmB68B,EAAU9tC,GAC/B8tC,EAAU/mC,eAAe/G,IAAS,MAAQiR,EAE1C,OAAQjR,GACN,IAAK,QACH,MACF,IAAK,WACH+tC,EAAU98B,EACZ,QACE4vB,EAAU95B,eAAe/G,IACvBiuC,GACEJ,EACArqC,EACAxD,EACA,KACA6gC,EACA5vB,GAGZ,IAAK9Q,KAAQ0gC,EACX,GACI7gC,EAAO6gC,EAAU1gC,GAClB8Q,EAAmB68B,EAAU3tC,GAC9B0gC,EAAU95B,eAAe5G,KACtB,MAAQH,GAAQ,MAAQiR,GAE3B,OAAQ9Q,GACN,IAAK,QACH+tC,EAAcluC,EACd,MACF,IAAK,eACHuF,EAAevF,EACf,MACF,IAAK,WACH4C,EAAQ5C,EACV,QACEA,IAASiR,GACPg9B,GACEJ,EACArqC,EACArD,EACAH,EACA6gC,EACA5vB,GAYZ,OATAzN,EAAM+B,EACNuoC,EAAYlrC,EACZi+B,EAAYkN,OACZ,MAAQG,EACJ38B,GAAcs8B,IAAcC,EAAWI,GAAa,KAClDrN,MAAgBiN,IACjB,MAAQtqC,EACL+N,GAAcs8B,IAAcC,EAAWtqC,GAAK,GAC5C+N,GAAcs8B,IAAcC,EAAWA,EAAY,GAAK,IAAI,KAEtE,IAAK,WAEH,IAAKvoC,KADLwoC,EAAUG,EAAc,KACHJ,EACnB,GACI3tC,EAAO2tC,EAAUvoC,GACnBuoC,EAAU/mC,eAAexB,IACvB,MAAQpF,IACP0gC,EAAU95B,eAAexB,GAE5B,OAAQA,GACN,IAAK,QAEL,IAAK,WACH,MACF,QACE0oC,GAAQJ,EAAYrqC,EAAK+B,EAAc,KAAMs7B,EAAW1gC,GAEhE,IAAKyC,KAASi+B,EACZ,GACI1gC,EAAO0gC,EAAUj+B,GAClB5C,EAAO8tC,EAAUlrC,GAClBi+B,EAAU95B,eAAenE,KAAW,MAAQzC,GAAQ,MAAQH,GAE5D,OAAQ4C,GACN,IAAK,QACHsrC,EAAc/tC,EACd,MACF,IAAK,eACH4tC,EAAU5tC,EACV,MACF,IAAK,WACH,MACF,IAAK,0BACH,GAAI,MAAQA,EAAM,MAAMc,MAAMnD,EAAuB,KACrD,MACF,QACEqC,IAASH,GACPiuC,GAAQJ,EAAYrqC,EAAKZ,EAAOzC,EAAM0gC,EAAW7gC,GAG3D,YADA+R,GAAe87B,EAAYK,EAAaH,GAE1C,IAAK,SACH,IAAK,IAAII,KAAeL,EACtB,GACII,EAAcJ,EAAUK,GAC1BL,EAAU/mC,eAAeonC,IACvB,MAAQD,IACPrN,EAAU95B,eAAeonC,GAE5B,GACO,aADCA,EAEJN,EAAWj8B,UAAW,OAGtBq8B,GACEJ,EACArqC,EACA2qC,EACA,KACAtN,EACAqN,GAGV,IAAKj9B,KAAoB4vB,EACvB,GACIqN,EAAcrN,EAAU5vB,GACzB88B,EAAUD,EAAU78B,GACrB4vB,EAAU95B,eAAekK,IACvBi9B,IAAgBH,IACf,MAAQG,GAAe,MAAQH,GAElC,GACO,aADC98B,EAEJ48B,EAAWj8B,SACTs8B,GACA,oBAAsBA,GACtB,kBAAoBA,OAGtBD,GACEJ,EACArqC,EACAyN,EACAi9B,EACArN,EACAkN,GAGV,OACF,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,KACL,IAAK,MACL,IAAK,QACL,IAAK,KACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,SACL,IAAK,QACL,IAAK,MACL,IAAK,WACH,IAAK,IAAIK,KAAeN,EACrBI,EAAcJ,EAAUM,GACvBN,EAAU/mC,eAAeqnC,IACvB,MAAQF,IACPrN,EAAU95B,eAAeqnC,IAC1BH,GAAQJ,EAAYrqC,EAAK4qC,EAAa,KAAMvN,EAAWqN,GAC7D,IAAK79B,KAAWwwB,EACd,GACIqN,EAAcrN,EAAUxwB,GACzB09B,EAAUD,EAAUz9B,GACrBwwB,EAAU95B,eAAesJ,IACvB69B,IAAgBH,IACf,MAAQG,GAAe,MAAQH,GAElC,OAAQ19B,GACN,IAAK,WACL,IAAK,0BACH,GAAI,MAAQ69B,EACV,MAAMjtC,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEyqC,GACEJ,EACArqC,EACA6M,EACA69B,EACArN,EACAkN,GAGV,OACF,QACE,GAAI16B,GAAgB7P,GAAM,CACxB,IAAK,IAAI6qC,KAAeP,EACrBI,EAAcJ,EAAUO,GACvBP,EAAU/mC,eAAesnC,SACvB,IAAWH,IACVrN,EAAU95B,eAAesnC,IAC1BC,GACET,EACArqC,EACA6qC,OACA,EACAxN,EACAqN,GAER,IAAKh9B,KAAkB2vB,EACpBqN,EAAcrN,EAAU3vB,GACtB68B,EAAUD,EAAU58B,IACpB2vB,EAAU95B,eAAemK,IACxBg9B,IAAgBH,QACf,IAAWG,QAAe,IAAWH,GACtCO,GACET,EACArqC,EACA0N,EACAg9B,EACArN,EACAkN,GAER,MACF,EAEJ,IAAK,IAAIQ,KAAeT,EACrBI,EAAcJ,EAAUS,GACvBT,EAAU/mC,eAAewnC,IACvB,MAAQL,IACPrN,EAAU95B,eAAewnC,IAC1BN,GAAQJ,EAAYrqC,EAAK+qC,EAAa,KAAM1N,EAAWqN,GAC7D,IAAKF,KAAYnN,EACdqN,EAAcrN,EAAUmN,GACtBD,EAAUD,EAAUE,IACpBnN,EAAU95B,eAAeinC,IACxBE,IAAgBH,GACf,MAAQG,GAAe,MAAQH,GAChCE,GAAQJ,EAAYrqC,EAAKwqC,EAAUE,EAAarN,EAAWkN,EACnE,CAtiLIS,CAAiBX,EAAYlB,EAAa3sC,KAAMshC,EAAUC,GAC1DsM,EAAW5hC,IAAoBs1B,CACjC,CAAE,MAAO/W,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,SAASikB,GAAalrC,GACpB,OACE,IAAMA,EAAMC,KACZ,IAAMD,EAAMC,KACZ,KAAOD,EAAMC,KACb,KAAOD,EAAMC,KACb,IAAMD,EAAMC,GAEhB,CACA,SAASkrC,GAAenrC,GACtB6Q,EAAG,OAAS,CACV,KAAO,OAAS7Q,EAAMkB,SAAW,CAC/B,GAAI,OAASlB,EAAMK,QAAU6qC,GAAalrC,EAAMK,QAAS,OAAO,KAChEL,EAAQA,EAAMK,MAChB,CAEA,IADAL,EAAMkB,QAAQb,OAASL,EAAMK,OAE3BL,EAAQA,EAAMkB,QACd,IAAMlB,EAAMC,KACZ,IAAMD,EAAMC,KACZ,KAAOD,EAAMC,KACb,KAAOD,EAAMC,KAEb,CACA,GAAkB,EAAdD,EAAMU,MAAW,SAASmQ,EAC9B,GAAI,OAAS7Q,EAAMiB,OAAS,IAAMjB,EAAMC,IAAK,SAAS4Q,EAChD7Q,EAAMiB,MAAMZ,OAASL,EAASA,EAAQA,EAAMiB,KACpD,CACA,KAAoB,EAAdjB,EAAMU,OAAY,OAAOV,EAAMyJ,SACvC,CACF,CACA,SAAS2hC,GAAyCrwC,EAAMswC,EAAQ5nB,GAC9D,IAAIxjB,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,IAAMA,EACpBlF,EAAOA,EAAK0O,UACX4hC,EACI,IAAM5nB,EAAOzoB,SACXyoB,EAAO3gB,WAAWwoC,aAAavwC,EAAMswC,GACrC5nB,EAAO6nB,aAAavwC,EAAMswC,IAC3B,IAAM5nB,EAAOzoB,UACRqwC,EAAS5nB,EAAO3gB,YAAoBwoC,aAAavwC,EAAM0oB,IACvD4nB,EAAS5nB,GAAgB8nB,YAAYxwC,GAE1C,QADA0oB,EAASA,EAAO+nB,2BACG,IAAW/nB,GAC7B,OAAS4nB,EAAO7kB,UACf6kB,EAAO7kB,QAAUC,UACvB,GAAI,IAAMxmB,GAAO,KAAOA,GAA6B,QAApBlF,EAAOA,EAAKkG,OAChD,IACEmqC,GAAyCrwC,EAAMswC,EAAQ5nB,GACrD1oB,EAAOA,EAAKmG,QACd,OAASnG,GAGTqwC,GAAyCrwC,EAAMswC,EAAQ5nB,GACpD1oB,EAAOA,EAAKmG,OACrB,CACA,SAASuqC,GAA4B1wC,EAAMswC,EAAQ5nB,GACjD,IAAIxjB,EAAMlF,EAAKkF,IACf,GAAI,IAAMA,GAAO,IAAMA,EACpBlF,EAAOA,EAAK0O,UACX4hC,EAAS5nB,EAAO6nB,aAAavwC,EAAMswC,GAAU5nB,EAAO8nB,YAAYxwC,QAC/D,GAAI,IAAMkF,GAAO,KAAOA,GAA6B,QAApBlF,EAAOA,EAAKkG,OAChD,IACEwqC,GAA4B1wC,EAAMswC,EAAQ5nB,GAAS1oB,EAAOA,EAAKmG,QAC/D,OAASnG,GAGT0wC,GAA4B1wC,EAAMswC,EAAQ5nB,GAAU1oB,EAAOA,EAAKmG,OACtE,CACA,IAAIwqC,IAA2B,EAC7BC,IAA4B,EAC5BC,IAAiB,EACjBC,GAAkB,oBAAsBC,QAAUA,QAAU7hC,IAC5D8hC,GAAa,KACbC,IAAoC,EA8JtC,SAASC,GAA0BC,EAAcjqC,EAASmnC,GACxD,IAAI1oC,EAAQ0oC,EAAa1oC,MACzB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHksC,GAAiCD,EAAc9C,GACvC,EAAR1oC,GAAayoC,GAA0B,EAAGC,GAC1C,MACF,KAAK,EAEH,GADA+C,GAAiCD,EAAc9C,GACnC,EAAR1oC,EACF,GAAMwrC,EAAe9C,EAAa3/B,UAAY,OAASxH,EACrD,IACEiqC,EAAa3J,mBACf,CAAE,MAAOtb,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,KACG,CACH,IAAIia,EAAY3C,GACd6K,EAAa3sC,KACbwF,EAAQ8jB,eAEV9jB,EAAUA,EAAQpB,cAClB,IACEqrC,EAAanJ,mBACX7B,EACAj/B,EACAiqC,EAAaE,oCAEjB,CAAE,MAAOC,GACP/C,GACEF,EACAA,EAAa/oC,OACbgsC,EAEJ,CACF,CACM,GAAR3rC,GAAcgpC,GAAqBN,GAC3B,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,EAEH,GADA8rC,GAAiCD,EAAc9C,GACnC,GAAR1oC,GAAmD,QAAnCA,EAAQ0oC,EAAatY,aAA+B,CAEtE,GADAob,EAAe,KACX,OAAS9C,EAAanoC,MACxB,OAAQmoC,EAAanoC,MAAMhB,KACzB,KAAK,GACL,KAAK,EAGL,KAAK,EACHisC,EAAe9C,EAAanoC,MAAMwI,UAExC,IACEy/B,GAAgBxoC,EAAOwrC,EACzB,CAAE,MAAOjlB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,MACF,KAAK,GACHklB,GAAiCD,EAAc9C,GACvC,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,GACL,KAAK,EACH8rC,GAAiCD,EAAc9C,GAC/C,OAASnnC,GAAmB,EAARvB,GAAaupC,GAAgBb,GACzC,IAAR1oC,GAAempC,GAAgBT,EAAcA,EAAa/oC,QAC1D,MACF,KAAK,GAgCL,QACE8rC,GAAiCD,EAAc9C,SA9BjD,KAAK,GACH+C,GAAiCD,EAAc9C,GACvC,EAAR1oC,GAAa4rC,GAAiCJ,EAAc9C,GAC5D,MACF,KAAK,GAGH,KAFAlI,EACE,OAASkI,EAAavoC,eAAiB6qC,IACzB,CACdzpC,EACG,OAASA,GAAW,OAASA,EAAQpB,eACtC8qC,GACF,IAAIY,EAA+Bb,GACjCc,EAAgCb,GAClCD,GAA2BxK,GAC1ByK,GAA4B1pC,KAAauqC,EACtCC,GACEP,EACA9C,EACA,KAAmC,KAA5BA,EAAa1E,eAEtByH,GAAiCD,EAAc9C,GACnDsC,GAA2Ba,EAC3BZ,GAA4Ba,CAC9B,CACQ,IAAR9rC,IACG,WAAa0oC,EAAarjB,cAAcoE,KACrC0f,GAAgBT,EAAcA,EAAa/oC,QAC3C0pC,GAAgBX,EAAcA,EAAa/oC,SAKvD,CACA,SAASqsC,GAAwB1sC,GAC/B,IAAIS,EAAYT,EAAMS,UACtB,OAASA,IACLT,EAAMS,UAAY,KAAOisC,GAAwBjsC,IACrDT,EAAMiB,MAAQ,KACdjB,EAAMopB,UAAY,KAClBppB,EAAMkB,QAAU,KAChB,IAAMlB,EAAMC,MAEV,QADEQ,EAAYT,EAAMyJ,YACER,GAAsBxI,IAC9CT,EAAMyJ,UAAY,KAClBzJ,EAAMK,OAAS,KACfL,EAAMqK,aAAe,KACrBrK,EAAM+lB,cAAgB,KACtB/lB,EAAMa,cAAgB,KACtBb,EAAM0pB,aAAe,KACrB1pB,EAAMyJ,UAAY,KAClBzJ,EAAM8wB,YAAc,IACtB,CACA,IAAI6b,GAAa,KACfC,IAAwB,EAC1B,SAASC,GACPX,EACAzC,EACAhmB,GAEA,IAAKA,EAASA,EAAOxiB,MAAO,OAASwiB,GACnCqpB,GAA6BZ,EAAczC,EAAwBhmB,GAChEA,EAASA,EAAOviB,OACvB,CACA,SAAS4rC,GACPZ,EACAzC,EACAsD,GAEA,GAAI5nC,IAAgB,oBAAsBA,GAAa6nC,qBACrD,IACE7nC,GAAa6nC,qBAAqB9nC,GAAY6nC,EAChD,CAAE,MAAOxnC,GAAM,CACjB,OAAQwnC,EAAa9sC,KACnB,KAAK,GACH0rC,IACE5B,GAAgBgD,EAActD,GAChCoD,GACEX,EACAzC,EACAsD,GAEFA,EAAalsC,cACTksC,EAAalsC,cAAcosC,QAC3BF,EAAatjC,YACXsjC,EAAeA,EAAatjC,WACjB3G,WAAWoqC,YAAYH,GACxC,MACF,KAAK,GACHpB,IACE5B,GAAgBgD,EAActD,GAChC,IAAI0D,EAAiBR,GACnBS,EAA4BR,GAQ9B,IAPAD,GAAaI,EAAatjC,UAC1BojC,GACEX,EACAzC,EACAsD,GAIAtD,GAFFsD,EAAeA,EAAatjC,WAEY4jC,WACtC5D,EAAuB9uC,QAGvBoyC,EAAaO,oBAAoB7D,EAAuB,IAC1DxgC,GAAsB8jC,GACtBJ,GAAaQ,EACbP,GAAwBQ,EACxB,MACF,KAAK,EACHzB,IACE5B,GAAgBgD,EAActD,GAClC,KAAK,EACH2D,EAA4BT,GAC5B,IAAIY,EAAgCX,GASpC,GARAD,GAAa,KACbE,GACEX,EACAzC,EACAsD,GAGFH,GAAwBW,EACpB,QAFJZ,GAAaS,GAGX,GAAIR,GACF,IACGV,EAAeS,GACbQ,EAAiBJ,EAAatjC,UAC/B,IAAMyiC,EAAalxC,SACfkxC,EAAappC,WAAWoqC,YAAYC,GACpCjB,EAAagB,YAAYC,EACjC,CAAE,MAAOlmB,GACPqiB,GACEyD,EACAtD,EACAxiB,EAEJ,MAEA,IACE0lB,GAAWO,YAAYH,EAAatjC,UACtC,CAAE,MAAOwd,GACPqiB,GACEyD,EACAtD,EACAxiB,EAEJ,CACJ,MACF,KAAK,GACH,OAAS0lB,KACNC,IACKnD,EAAyBkD,GAC1BI,EAAeA,EAAatjC,UAC7B,IAAMggC,EAAuBzuC,SACzBwyC,GACE/D,EAAuB3mC,WACvBiqC,GAEF,IAAMtD,EAAuBzuC,UAC7BwyC,GAAsB/D,EAAwBsD,GAClDU,GAAiBhE,IACjB+D,GAAsBb,GAAYI,EAAatjC,YACrD,MACF,KAAK,EACH0jC,EAAiBR,GACjBS,EAA4BR,GAC5BD,GAAaI,EAAatjC,UAAU+U,cACpCouB,IAAwB,EACxBC,GACEX,EACAzC,EACAsD,GAEFJ,GAAaQ,EACbP,GAAwBQ,EACxB,MACF,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHzB,IACEpC,GAA4B,EAAGwD,EAActD,GAC/CkC,IACEpC,GAA4B,EAAGwD,EAActD,GAC/CoD,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,EACHpB,KACG5B,GAAgBgD,EAActD,GAE/B,oBADC0D,EAAiBJ,EAAatjC,WACMmgC,sBACnCD,GACEoD,EACAtD,EACA0D,IAENN,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,GACHF,GACEX,EACAzC,EACAsD,GAEF,MACF,KAAK,GACHpB,IACE5B,GAAgBgD,EAActD,GAChCkC,IACGwB,EAAiBxB,KAClB,OAASoB,EAAalsC,cACxBgsC,GACEX,EACAzC,EACAsD,GAEFpB,GAA4BwB,EAC5B,MACF,QACEN,GACEX,EACAzC,EACAsD,GAGR,CACA,SAAST,GAAiCJ,EAAc9C,GACtD,GACE,OAASA,EAAavoC,gBAEtB,QADEqrC,EAAe9C,EAAa3oC,aAG5B,QADEyrC,EAAeA,EAAarrC,gBAEe,QAAzCqrC,EAAeA,EAAaprC,cAElC,IACE2sC,GAAiBvB,EACnB,CAAE,MAAOjlB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACJ,CAqBA,SAASymB,GAA6BtE,EAAcuE,GAClD,IAAIC,EArBN,SAAuBxE,GACrB,OAAQA,EAAanpC,KACnB,KAAK,GACL,KAAK,GACH,IAAI2tC,EAAaxE,EAAa3/B,UAG9B,OAFA,OAASmkC,IACNA,EAAaxE,EAAa3/B,UAAY,IAAIoiC,IACtC+B,EACT,KAAK,GACH,OAGE,QADCA,GADAxE,EAAeA,EAAa3/B,WACFokC,eAExBD,EAAaxE,EAAayE,YAAc,IAAIhC,IAC/C+B,EAEJ,QACE,MAAMlwC,MAAMnD,EAAuB,IAAK6uC,EAAanpC,MAE3D,CAEmB6tC,CAAc1E,GAC/BuE,EAAUjiB,SAAQ,SAAUqiB,GAC1B,IAAIC,EAAQC,GAAqBjZ,KAAK,KAAMoU,EAAc2E,GAC1DH,EAAWp+B,IAAIu+B,KACZH,EAAWrjC,IAAIwjC,GAAWA,EAAS1mB,KAAK2mB,EAAOA,GACpD,GACF,CACA,SAASE,GAAmCC,EAAeC,GACzD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,OAASA,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC5BoL,EAAOkoC,EACPzlB,EAAc0lB,EACd3qB,EAASiF,EACX7X,EAAG,KAAO,OAAS4S,GAAU,CAC3B,OAAQA,EAAOxjB,KACb,KAAK,GACL,KAAK,EACH0sC,GAAalpB,EAAOha,UACpBmjC,IAAwB,EACxB,MAAM/7B,EACR,KAAK,EAIL,KAAK,EACH87B,GAAalpB,EAAOha,UAAU+U,cAC9BouB,IAAwB,EACxB,MAAM/7B,EAEV4S,EAASA,EAAOpjB,MAClB,CACA,GAAI,OAASssC,GAAY,MAAMjvC,MAAMnD,EAAuB,MAC5DuyC,GAA6B7mC,EAAMyiB,EAAaS,GAChDwjB,GAAa,KACbC,IAAwB,EAExB,QADA3mC,EAAOkjB,EAAc1oB,aACHwF,EAAK5F,OAAS,MAChC8oB,EAAc9oB,OAAS,IACzB,CACF,GAA+B,MAA3B+tC,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CC,GAA6BD,EAAaD,GACvCC,EAAcA,EAAYltC,OACnC,CACA,IAAIotC,GAAuB,KAC3B,SAASD,GAA6BjF,EAAcnjC,GAClD,IAAIhE,EAAUmnC,EAAa3oC,UACzBC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHiuC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,EAAR1oC,IACG6oC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC3D8oC,GAA0B,EAAGC,GAC7BG,GAA4B,EAAGH,EAAcA,EAAa/oC,SAC5D,MACF,KAAK,EACH6tC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SAC7B,GAARK,GACEgrC,KAEA,QADEtC,EAAeA,EAAatY,eAG5B,QADEpwB,EAAQ0oC,EAAahB,aAEnBnmC,EAAUmnC,EAAalB,OAAOC,gBAC/BiB,EAAalB,OAAOC,gBACnB,OAASlmC,EAAUvB,EAAQuB,EAAQk3B,OAAOz4B,MAClD,MACF,KAAK,GACH,IAAI8tC,EAAgBF,GAOpB,GANAJ,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACzB,EAARK,EAAW,CACb,IAAI+tC,EAAkB,OAASxsC,EAAUA,EAAQpB,cAAgB,KAEjE,GADAH,EAAQ0oC,EAAavoC,cACjB,OAASoB,EACX,GAAI,OAASvB,EACX,GAAI,OAAS0oC,EAAa3/B,UAAW,CACnCoH,EAAG,CACDnQ,EAAQ0oC,EAAa3sC,KACrBwF,EAAUmnC,EAAarjB,cACvByoB,EAAgBA,EAAczgC,eAAiBygC,EAC/Cp9B,EAAG,OAAQ1Q,GACT,IAAK,WACH+tC,EACED,EAAcE,qBAAqB,SAAS,KAG5CD,EAAgBzlC,KAChBylC,EAAgBhmC,KAChB,+BACEgmC,EAAgB7rC,cAClB6rC,EAAgBnI,aAAa,eAE5BmI,EAAkBD,EAAc9jC,cAAchK,GAC7C8tC,EAAcG,KAAKrD,aACjBmD,EACAD,EAAcI,cAAc,kBAElCzI,GAAqBsI,EAAiB/tC,EAAOuB,GAC7CwsC,EAAgBhmC,IAAuB2gC,EACvCr/B,GAAoB0kC,GACpB/tC,EAAQ+tC,EACR,MAAM59B,EACR,IAAK,OACH,IAAIg+B,EAAaC,GACf,OACA,OACAN,GACApiC,IAAI1L,GAASuB,EAAQ2c,MAAQ,KAC/B,GAAIiwB,EACF,IAAK,IAAIh0C,EAAI,EAAGA,EAAIg0C,EAAWl0C,OAAQE,IACrC,IACI4zC,EAAkBI,EAAWh0C,IACf0rC,aAAa,WAC1B,MAAQtkC,EAAQ2c,KAAO,KAAO3c,EAAQ2c,OACvC6vB,EAAgBlI,aAAa,UAC1B,MAAQtkC,EAAQukC,IAAM,KAAOvkC,EAAQukC,MACxCiI,EAAgBlI,aAAa,YAC1B,MAAQtkC,EAAQykC,MAAQ,KAAOzkC,EAAQykC,QAC1C+H,EAAgBlI,aAAa,kBAC1B,MAAQtkC,EAAQwkC,YACb,KACAxkC,EAAQwkC,aAChB,CACAoI,EAAWE,OAAOl0C,EAAG,GACrB,MAAMuW,CACR,CAEJ+0B,GADAsI,EAAkBD,EAAc9jC,cAAchK,GACRA,EAAOuB,GAC7CusC,EAAcG,KAAKpD,YAAYkD,GAC/B,MACF,IAAK,OACH,GACGI,EAAaC,GACZ,OACA,UACAN,GACApiC,IAAI1L,GAASuB,EAAQ+sC,SAAW,KAElC,IAAKn0C,EAAI,EAAGA,EAAIg0C,EAAWl0C,OAAQE,IACjC,IACI4zC,EAAkBI,EAAWh0C,IACf0rC,aAAa,cAC1B,MAAQtkC,EAAQ+sC,QACb,KACA,GAAK/sC,EAAQ+sC,UACjBP,EAAgBlI,aAAa,WAC1B,MAAQtkC,EAAQrF,KAAO,KAAOqF,EAAQrF,OACzC6xC,EAAgBlI,aAAa,eAC1B,MAAQtkC,EAAQgtC,SACb,KACAhtC,EAAQgtC,WACdR,EAAgBlI,aAAa,iBAC1B,MAAQtkC,EAAQitC,UACb,KACAjtC,EAAQitC,YACdT,EAAgBlI,aAAa,cAC1B,MAAQtkC,EAAQktC,QACb,KACAltC,EAAQktC,SAChB,CACAN,EAAWE,OAAOl0C,EAAG,GACrB,MAAMuW,CACR,CAEJ+0B,GADAsI,EAAkBD,EAAc9jC,cAAchK,GACRA,EAAOuB,GAC7CusC,EAAcG,KAAKpD,YAAYkD,GAC/B,MACF,QACE,MAAM/wC,MAAMnD,EAAuB,IAAKmG,IAE5C+tC,EAAgBhmC,IAAuB2gC,EACvCr/B,GAAoB0kC,GACpB/tC,EAAQ+tC,CACV,CACArF,EAAa3/B,UAAY/I,CAC3B,MACE0uC,GACEZ,EACApF,EAAa3sC,KACb2sC,EAAa3/B,gBAGjB2/B,EAAa3/B,UAAY4lC,GACvBb,EACA9tC,EACA0oC,EAAarjB,oBAGjB0oB,IAAoB/tC,GACf,OAAS+tC,EACN,OAASxsC,EAAQwH,YACfxH,EAAUA,EAAQwH,WACZ3G,WAAWoqC,YAAYjrC,GAC/BwsC,EAAgBxB,QACpB,OAASvsC,EACL0uC,GACEZ,EACApF,EAAa3sC,KACb2sC,EAAa3/B,WAEf4lC,GACEb,EACA9tC,EACA0oC,EAAarjB,gBAEnB,OAASrlB,GACT,OAAS0oC,EAAa3/B,WACtB4gC,GACEjB,EACAA,EAAarjB,cACb9jB,EAAQ8jB,cAElB,CACA,MACF,KAAK,GACH,GAAY,EAARrlB,GAAa,OAAS0oC,EAAa3oC,UAAW,CAChD+tC,EAAgBpF,EAAa3/B,UAC7BglC,EAAkBrF,EAAarjB,cAC/B,IACE,IAAK,IAAIhrB,EAAOyzC,EAAc1/B,WAAY/T,GAAQ,CAChD,IAAIu0C,EAAWv0C,EAAKkjB,YAClBpS,EAAW9Q,EAAK8Q,SAClB9Q,EAAKiO,KACH,SAAW6C,GACX,SAAWA,GACX,WAAaA,GACb,UAAYA,GACX,SAAWA,GACV,eAAiB9Q,EAAKyrC,IAAIp7B,eAC5BojC,EAActB,YAAYnyC,GAC5BA,EAAOu0C,CACT,CACA,IACE,IAAI7yC,EAAO2sC,EAAa3sC,KAAM4wC,EAAamB,EAAcnB,WACzDA,EAAW1yC,QAGX6zC,EAAclB,oBAAoBD,EAAW,IAC/ClH,GAAqBqI,EAAe/xC,EAAMgyC,GAC1CD,EAAc/lC,IAAuB2gC,EACrCoF,EAAc9lC,IAAoB+lC,CACpC,CAAE,MAAOxnB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACF,KAAK,EAOH,GANAinB,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,IAAR1oC,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACZ,GAArB+oC,EAAa1oC,MAAY,CAC3B8tC,EAAgBpF,EAAa3/B,UAC7B,IACEmF,GAAe4/B,EAAe,GAChC,CAAE,MAAOvnB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACQ,EAARvmB,GACE,MAAQ0oC,EAAa3/B,WAErB4gC,GACEjB,EAFAoF,EAAgBpF,EAAarjB,cAI7B,OAAS9jB,EAAUA,EAAQ8jB,cAAgByoB,GAEvC,KAAR9tC,IAAiBkrC,IAAiB,GAClC,MACF,KAAK,EAGH,GAFAsC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAChB,EAAR1oC,EAAW,CACb,GAAI,OAAS0oC,EAAa3/B,UACxB,MAAM/L,MAAMnD,EAAuB,MACrCmG,EAAQ0oC,EAAarjB,cACrB9jB,EAAUmnC,EAAa3/B,UACvB,IACExH,EAAQ+M,UAAYtO,CACtB,CAAE,MAAOumB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,CACA,MACF,KAAK,EAOH,GANAsoB,GAAY,KACZf,EAAgBF,GAChBA,GAAuBkB,GAAiBvpC,EAAKuY,eAC7C0vB,GAAmCjoC,EAAMmjC,GACzCkF,GAAuBE,EACvBD,GAA4BnF,GAChB,EAAR1oC,GAAa,OAASuB,GAAWA,EAAQpB,cAAcmlC,aACzD,IACEyH,GAAiBxnC,EAAKuY,cACxB,CAAE,MAAOyI,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF2kB,KACIA,IAAiB,EAAK6D,GAAsBrG,IAChD,MACF,KAAK,EACH1oC,EAAQ4tC,GACRA,GAAuBkB,GACrBpG,EAAa3/B,UAAU+U,eAEzB0vB,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAC5BkF,GAAuB5tC,EACvB,MACF,KAAK,GACHwtC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GAC5B,MACF,KAAK,GACH8E,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACD,KAA3BA,EAAanoC,MAAMP,OAChB,OAAS0oC,EAAavoC,iBACpB,OAASoB,GAAW,OAASA,EAAQpB,iBACvC6uC,GAA+BzrC,MAC1B,EAARvD,IAEE,QADEA,EAAQ0oC,EAAatY,eAEnBsY,EAAatY,YAAc,KAC7B4c,GAA6BtE,EAAc1oC,KAC/C,MACF,KAAK,GAmBH,GAlBQ,IAARA,IACGirC,IACC,OAAS1pC,GACT8nC,GAAgB9nC,EAASA,EAAQ5B,SACrCtF,EAAO,OAASquC,EAAavoC,cAC7ByuC,EAAW,OAASrtC,GAAW,OAASA,EAAQpB,cAGhD6qC,IAFA7/B,EAAW6/B,KAE4B3wC,EACvC4wC,IAFAlvC,EAAOkvC,KAE6B2D,EACpCpB,GAAmCjoC,EAAMmjC,GACzCuC,GAA4BlvC,EAC5BivC,GAA2B7/B,EAC3B0iC,GAA4BnF,IAC5BnjC,EAAOmjC,EAAa3/B,WACfkmC,SAAWvG,EAChBnjC,EAAK0d,cAAgB,EACrB1d,EAAK0d,aAAyC,EAA1B1d,EAAKq7B,mBAEf,KAAR5gC,IACEuF,EAAK0d,YAAc5oB,GACG,EAApBkL,EAAK0d,YACc,EAAnB1d,EAAK0d,YACT5oB,IACIkL,EAAOylC,IAA4BC,GACrC,OAAS1pC,GACPqtC,GACArpC,GACA2pC,GAA0CxG,IAC9C,OAASA,EAAarjB,eACpB,WAAaqjB,EAAarjB,cAAcoE,MAE1CtZ,EAAG,IAAK5O,EAAU,KAAMgE,EAAOmjC,IAAkB,CAC/C,GAAI,IAAMnjC,EAAKhG,KAAO,KAAOgG,EAAKhG,KAAO,KAAOgG,EAAKhG,KACnD,GAAI,OAASgC,EAAS,CACpBqtC,EAAWrtC,EAAUgE,EACrB,IACE,GAAMuoC,EAAgBc,EAAS7lC,UAAY1O,EAEvC,oBADD0zC,EAAkBD,EAAcr/B,OACOG,YAClCm/B,EAAgBn/B,YACd,UACA,OACA,aAEDm/B,EAAgBoB,QAAU,WAC9B,CACHhB,EAAaS,EAAS7lC,UAEtB,IAAIomC,OACF,KAFFh1C,EAAIy0C,EAASvpB,cAAc5W,QAET,OAAStU,GAAKA,EAAE2I,eAAe,WAC3C3I,EAAEg1C,QACF,KACNhB,EAAW1/B,MAAM0gC,QACf,MAAQA,GAAW,mBAAqBA,EACpC,IACC,GAAKA,GAAShyC,MACvB,CACF,CAAE,MAAOopB,GACPqiB,GAAwBgG,EAAUA,EAASjvC,OAAQ4mB,EACrD,CACF,OACK,GAAI,IAAMhhB,EAAKhG,KACpB,GAAI,OAASgC,EAAS,CACpBqtC,EAAWrpC,EACX,IACEqpC,EAAS7lC,UAAUuF,UAAYjU,EAC3B,GACAu0C,EAASvpB,aACf,CAAE,MAAOkB,GACPqiB,GAAwBgG,EAAUA,EAASjvC,OAAQ4mB,EACrD,CACF,OACK,IACH,KAAOhhB,EAAKhG,KAAO,KAAOgG,EAAKhG,KAC/B,OAASgG,EAAKpF,eACdoF,IAASmjC,IACX,OAASnjC,EAAKhF,MACd,CACAgF,EAAKhF,MAAMZ,OAAS4F,EACpBA,EAAOA,EAAKhF,MACZ,QACF,CACA,GAAIgF,IAASmjC,EAAc,MAAMv4B,EACjC,KAAO,OAAS5K,EAAK/E,SAAW,CAC9B,GAAI,OAAS+E,EAAK5F,QAAU4F,EAAK5F,SAAW+oC,EAAc,MAAMv4B,EAChE5O,IAAYgE,IAAShE,EAAU,MAC/BgE,EAAOA,EAAK5F,MACd,CACA4B,IAAYgE,IAAShE,EAAU,MAC/BgE,EAAK/E,QAAQb,OAAS4F,EAAK5F,OAC3B4F,EAAOA,EAAK/E,OACd,CACM,EAARR,IAEE,QADEA,EAAQ0oC,EAAatY,eAGrB,QADE7uB,EAAUvB,EAAMovC,cAEdpvC,EAAMovC,WAAa,KACrBpC,GAA6BtE,EAAcnnC,MACjD,MACF,KAAK,GACHisC,GAAmCjoC,EAAMmjC,GACzCmF,GAA4BnF,GACpB,EAAR1oC,IAEE,QADEA,EAAQ0oC,EAAatY,eAEnBsY,EAAatY,YAAc,KAC7B4c,GAA6BtE,EAAc1oC,KAC/C,MACF,KAAK,GACH,MACF,QACEwtC,GAAmCjoC,EAAMmjC,GACvCmF,GAA4BnF,GAEpC,CACA,SAASmF,GAA4BnF,GACnC,IAAI1oC,EAAQ0oC,EAAa1oC,MACzB,GAAY,EAARA,EAAW,CACb,IACE,GAAI,KAAO0oC,EAAanpC,IAAK,CAC3B4Q,EAAG,CACD,IAAK,IAAI4S,EAAS2lB,EAAa/oC,OAAQ,OAASojB,GAAU,CACxD,GAAIynB,GAAaznB,GAAS,CACxB,IAAIrgB,EAA2BqgB,EAC/B,MAAM5S,CACR,CACA4S,EAASA,EAAOpjB,MAClB,CACA,MAAM3C,MAAMnD,EAAuB,KACrC,CACA,OAAQ6I,EAAyBnD,KAC/B,KAAK,GACH,IAAI8vC,EAAkB3sC,EAAyBqG,UAE/CgiC,GAA4BrC,EADjB+B,GAAe/B,GACwB2G,GAClD,MACF,KAAK,EACH,IAAIC,EAAa5sC,EAAyBqG,UACT,GAAjCrG,EAAyB1C,QACtBkO,GAAeohC,EAAY,IAC3B5sC,EAAyB1C,QAAU,IAEtC+qC,GAA4BrC,EADX+B,GAAe/B,GACsB4G,GACtD,MACF,KAAK,EACL,KAAK,EACH,IAAIC,EAAa7sC,EAAyBqG,UAAU+U,cAEpD4sB,GACEhC,EAFa+B,GAAe/B,GAI5B6G,GAEF,MACF,QACE,MAAMvyC,MAAMnD,EAAuB,MAEzC,CACF,CAAE,MAAO0sB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACAmiB,EAAa1oC,QAAU,CACzB,CACQ,KAARA,IAAiB0oC,EAAa1oC,QAAU,KAC1C,CACA,SAAS+uC,GAAsBrB,GAC7B,GAA+B,KAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIpuC,EAAQouC,EACZqB,GAAsBzvC,GACtB,IAAMA,EAAMC,KAAqB,KAAdD,EAAMU,OAAgBV,EAAMyJ,UAAUymC,QACzD9B,EAAcA,EAAYltC,OAC5B,CACJ,CACA,SAASirC,GAAiClmC,EAAMmoC,GAC9C,GAA+B,KAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CnC,GAA0BhmC,EAAMmoC,EAAY3tC,UAAW2tC,GACpDA,EAAcA,EAAYltC,OACnC,CACA,SAAS0uC,GAA0CxB,GACjD,IAAKA,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIhF,EAAegF,EACnB,OAAQhF,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC1DuvC,GAA0CxG,GAC1C,MACF,KAAK,EACHW,GAAgBX,EAAcA,EAAa/oC,QAC3C,IAAIylB,EAAWsjB,EAAa3/B,UAC5B,oBAAsBqc,EAAS8jB,sBAC7BD,GACEP,EACAA,EAAa/oC,OACbylB,GAEJ8pB,GAA0CxG,GAC1C,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHW,GAAgBX,EAAcA,EAAa/oC,QAC3CuvC,GAA0CxG,GAC1C,MACF,KAAK,GACHW,GAAgBX,EAAcA,EAAa/oC,QAC3C,OAAS+oC,EAAavoC,eACpB+uC,GAA0CxG,GAC5C,MACF,QACEwG,GAA0CxG,GAE9CgF,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAASurC,GACP0D,EACA/B,EACAgC,GAIA,IAFAA,EACEA,GAAgC,KAAkC,KAA3BhC,EAAY1J,cAChD0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAInsC,EAAUmsC,EAAY3tC,UACxByrC,EAAeiE,EACf/G,EAAegF,EACf1tC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHwsC,GACEP,EACA9C,EACAgH,GAEFjH,GAA0B,EAAGC,GAC7B,MACF,KAAK,EAQH,GAPAqD,GACEP,EACA9C,EACAgH,GAIE,oBADJlE,GADAjqC,EAAUmnC,GACa3/B,WACgB84B,kBACrC,IACE2J,EAAa3J,mBACf,CAAE,MAAOtb,GACPqiB,GAAwBrnC,EAASA,EAAQ5B,OAAQ4mB,EACnD,CAGF,GAAI,QADJilB,GADAjqC,EAAUmnC,GACatY,aACI,CACzB,IAAIhL,EAAW7jB,EAAQwH,UACvB,IACE,IAAI0+B,EAAkB+D,EAAahE,OAAOC,gBAC1C,GAAI,OAASA,EACX,IACE+D,EAAahE,OAAOC,gBAAkB,KAAM+D,EAAe,EAC3DA,EAAe/D,EAAgBxtC,OAC/BuxC,IAEAjD,GAAad,EAAgB+D,GAAepmB,EAClD,CAAE,MAAOmB,GACPqiB,GAAwBrnC,EAASA,EAAQ5B,OAAQ4mB,EACnD,CACF,CACAmpB,GACU,GAAR1vC,GACAgpC,GAAqBN,GACvBS,GAAgBT,EAAcA,EAAa/oC,QAC3C,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHosC,GACEP,EACA9C,EACAgH,GAEFA,GACE,OAASnuC,GACD,EAARvB,GACAupC,GAAgBb,GAClBS,GAAgBT,EAAcA,EAAa/oC,QAC3C,MACF,KAAK,GA0BL,QACEosC,GACEP,EACA9C,EACAgH,SAvBJ,KAAK,GACH3D,GACEP,EACA9C,EACAgH,GAEFA,GACU,EAAR1vC,GACA4rC,GAAiCJ,EAAc9C,GACjD,MACF,KAAK,GACH,OAASA,EAAavoC,eACpB4rC,GACEP,EACA9C,EACAgH,GAEJvG,GAAgBT,EAAcA,EAAa/oC,QAS/C+tC,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAASmvC,GAAmCpuC,EAASmnC,GACnD,IAAIkH,EAAgB,KACpB,OAASruC,GACP,OAASA,EAAQpB,eACjB,OAASoB,EAAQpB,cAAc4gC,YAC9B6O,EAAgBruC,EAAQpB,cAAc4gC,UAAU/R,MACnDztB,EAAU,KACV,OAASmnC,EAAavoC,eACpB,OAASuoC,EAAavoC,cAAc4gC,YACnCx/B,EAAUmnC,EAAavoC,cAAc4gC,UAAU/R,MAClDztB,IAAYquC,IACT,MAAQruC,GAAWA,EAAQosB,WAC5B,MAAQiiB,GAAiBhiB,GAAagiB,GAC1C,CACA,SAASC,GAA8BtuC,EAASmnC,GAC9CnnC,EAAU,KACV,OAASmnC,EAAa3oC,YACnBwB,EAAUmnC,EAAa3oC,UAAUI,cAAc0tB,QAClD6a,EAAeA,EAAavoC,cAAc0tB,SACzBtsB,IACdmnC,EAAa/a,WAAY,MAAQpsB,GAAWqsB,GAAarsB,GAC9D,CACA,SAASuuC,GACPvqC,EACAmoC,EACAqC,EACAC,GAEA,GAA+B,MAA3BtC,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CuC,GACE1qC,EACAmoC,EACAqC,EACAC,GAECtC,EAAcA,EAAYltC,OACnC,CACA,SAASyvC,GACPzE,EACA9C,EACAqH,EACAC,GAEA,IAAIhwC,EAAQ0oC,EAAa1oC,MACzB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHuwC,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,GAAgByoC,GAA0B,EAAGC,GAC7C,MACF,KAAK,EACHoH,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,IACIwrC,EAAe,KACjB,OAAS9C,EAAa3oC,YACnByrC,EAAe9C,EAAa3oC,UAAUI,cAAc0tB,QACtD6a,EAAeA,EAAavoC,cAAc0tB,SAC1B2d,IACd9C,EAAa/a,WACd,MAAQ6d,GAAgB5d,GAAa4d,KACzC,MACF,KAAK,GACH,GAAY,KAARxrC,EAAc,CAChB8vC,GACEtE,EACA9C,EACAqH,EACAC,GAEFxE,EAAe9C,EAAa3/B,UAC5B,IACE,IAAImnC,EAAyBxH,EAAarjB,cACxC+d,EAAK8M,EAAuB9M,GAC5B+M,EAAeD,EAAuBC,aACxC,oBAAsBA,GACpBA,EACE/M,EACA,OAASsF,EAAa3oC,UAAY,QAAU,SAC5CyrC,EAAa4E,uBACZ,EAEP,CAAE,MAAO7pB,GACPqiB,GAAwBF,EAAcA,EAAa/oC,OAAQ4mB,EAC7D,CACF,MACEupB,GACEtE,EACA9C,EACAqH,EACAC,GAEJ,MACF,KAAK,GACH,MACF,KAAK,GACHE,EAAyBxH,EAAa3/B,UACtC,OAAS2/B,EAAavoC,cACmB,EAArC+vC,EAAuBjtB,YACrB6sB,GACEtE,EACA9C,EACAqH,EACAC,GAEFK,GAAwC7E,EAAc9C,GACnB,EAArCwH,EAAuBjtB,YACrB6sB,GACEtE,EACA9C,EACAqH,EACAC,IAEAE,EAAuBjtB,aAAe,EACxCqtB,GACE9E,EACA9C,EACAqH,EACAC,EACA,KAAmC,MAA5BtH,EAAa1E,gBAEpB,KAARhkC,GACE2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACHoH,GACEtE,EACA9C,EACAqH,EACAC,GAEM,KAARhwC,GACE6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACEoH,GACEtE,EACA9C,EACAqH,EACAC,GAGR,CACA,SAASM,GACPb,EACA/B,EACA6C,EACAC,EACAd,GAIA,IAFAA,EACEA,GAAgC,KAAkC,MAA3BhC,EAAY1J,cAChD0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIlC,EAAeiE,EACjB/G,EAAegF,EACfqC,EAAiBQ,EACjBP,EAAuBQ,EACvBxwC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACH+wC,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFjH,GAA0B,EAAGC,GAC7B,MACF,KAAK,GACH,MACF,KAAK,GACH,IAAItjB,EAAWsjB,EAAa3/B,UAC5B,OAAS2/B,EAAavoC,cACK,EAAvBilB,EAASnC,YACPqtB,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFW,GACE7E,EACA9C,IAEFtjB,EAASnC,aAAe,EAC1BqtB,GACE9E,EACA9C,EACAqH,EACAC,EACAN,IAENA,GACU,KAAR1vC,GACA2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACH4H,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAEFA,GACU,KAAR1vC,GACA6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACE4H,GACE9E,EACA9C,EACAqH,EACAC,EACAN,GAGNhC,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAAS6vC,GACPZ,EACA/B,GAEA,GAA+B,MAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAC5D,IAAIlC,EAAeiE,EACjB/G,EAAegF,EACf1tC,EAAQ0oC,EAAa1oC,MACvB,OAAQ0oC,EAAanpC,KACnB,KAAK,GACH8wC,GAAwC7E,EAAc9C,GAC9C,KAAR1oC,GACE2vC,GACEjH,EAAa3oC,UACb2oC,GAEJ,MACF,KAAK,GACH2H,GAAwC7E,EAAc9C,GAC9C,KAAR1oC,GACE6vC,GAA8BnH,EAAa3oC,UAAW2oC,GACxD,MACF,QACE2H,GAAwC7E,EAAc9C,GAE1DgF,EAAcA,EAAYltC,OAC5B,CACJ,CACA,IAAIiwC,GAAsB,KAC1B,SAASC,GAAqChD,GAC5C,GAAIA,EAAY1J,aAAeyM,GAC7B,IAAK/C,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7CiD,GAAiCjD,GAC9BA,EAAcA,EAAYltC,OACnC,CACA,SAASmwC,GAAiCrxC,GACxC,OAAQA,EAAMC,KACZ,KAAK,GACHmxC,GAAqCpxC,GACrCA,EAAMU,MAAQywC,IACZ,OAASnxC,EAAMa,eAu4JvB,SAAyB2tC,EAAe8C,EAAU1gC,GAChD,GAAI,OAAS2gC,GAAgB,MAAM7zC,MAAMnD,EAAuB,MAChE,IAAI6yB,EAAQmkB,GACZ,GACE,eAAiBD,EAAS70C,OACzB,kBAAoBmU,EAAM4gC,QACzB,IAAOC,WAAW7gC,EAAM4gC,OAAOE,UACjC,KAAgC,EAAzBJ,EAASlkB,MAAMukB,SACtB,CACA,GAAI,OAASL,EAASxrB,SAAU,CAC9B,IAAI9N,EAAM45B,GAAYhhC,EAAMgO,MAC1BkH,EAAW0oB,EAAcI,cACvBiD,GAA6B75B,IAEjC,GAAI8N,EAWF,OATA,QADA0oB,EAAgB1oB,EAASgsB,KAEvB,kBAAoBtD,GACpB,oBAAsBA,EAAcnnB,OACnC+F,EAAM6f,QACN7f,EAAQ2kB,GAAY/c,KAAK5H,GAC1BohB,EAAcnnB,KAAK+F,EAAOA,IAC5BkkB,EAASlkB,MAAMukB,SAAW,EAC1BL,EAASxrB,SAAWA,OACpB/b,GAAoB+b,GAGtBA,EAAW0oB,EAAczgC,eAAiBygC,EAC1C59B,EAAQohC,GAA4BphC,IACnCoH,EAAMi6B,GAAgB7lC,IAAI4L,KACzBk6B,GAA+BthC,EAAOoH,GAExCjO,GADA+b,EAAWA,EAASpb,cAAc,SAElC,IAAIynC,EAAersB,EACnBqsB,EAAaL,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GAC/CF,EAAaG,OAASrjB,EACtBkjB,EAAaI,QAAUF,CACzB,IACAlM,GAAqBrgB,EAAU,OAAQlV,GACvC0gC,EAASxrB,SAAWA,CACtB,CACA,OAASsH,EAAMolB,cAAgBplB,EAAMolB,YAAc,IAAI3oC,KACvDujB,EAAMolB,YAAY9zC,IAAI4yC,EAAU9C,IAC/BA,EAAgB8C,EAASlkB,MAAMqlB,UAC9B,KAAgC,EAAzBnB,EAASlkB,MAAMukB,WACrBvkB,EAAM6f,QACNqE,EAAWS,GAAY/c,KAAK5H,GAC7BohB,EAAch9B,iBAAiB,OAAQ8/B,GACvC9C,EAAch9B,iBAAiB,QAAS8/B,GAC5C,CACF,CAx7JQoB,CACEpE,GACAtuC,EAAMa,cACNb,EAAM+lB,eAEV,MACF,KAAK,EAqBL,QACEqrB,GAAqCpxC,SAnBvC,KAAK,EACL,KAAK,EACH,IAAI2yC,EAAwBrE,GAC5BA,GAAuBkB,GAAiBxvC,EAAMyJ,UAAU+U,eACxD4yB,GAAqCpxC,GACrCsuC,GAAuBqE,EACvB,MACF,KAAK,GACH,OAAS3yC,EAAMa,gBAEb,QADE8xC,EAAwB3yC,EAAMS,YAEhC,OAASkyC,EAAsB9xC,eACzB8xC,EAAwBxB,GACzBA,GAAsB,SACvBC,GAAqCpxC,GACpCmxC,GAAsBwB,GACvBvB,GAAqCpxC,IAKjD,CACA,SAAS4yC,GAAwBxE,GAC/B,IAAIyE,EAAgBzE,EAAY3tC,UAChC,GACE,OAASoyC,GAC6B,QAApCzE,EAAcyE,EAAc5xC,OAC9B,CACA4xC,EAAc5xC,MAAQ,KACtB,GACG4xC,EAAgBzE,EAAYltC,QAC1BktC,EAAYltC,QAAU,KACtBktC,EAAcyE,QACZ,OAASzE,EAClB,CACF,CACA,SAAS0E,GAAyC1E,GAChD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,KAA2B,GAApBglB,EAAY1tC,OAAa,CAClC,GAAI,OAAS0oB,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC9BkxC,GAAa5iB,EACb4pB,GACE5pB,EACAilB,EAEJ,CACFwE,GAAwBxE,EAC1B,CACA,GAA+B,MAA3BA,EAAY1J,aACd,IAAK0J,EAAcA,EAAYntC,MAAO,OAASmtC,GAC7C4E,GAA4B5E,GACzBA,EAAcA,EAAYltC,OACnC,CACA,SAAS8xC,GAA4B5J,GACnC,OAAQA,EAAanpC,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACH6yC,GAAyC1J,GACpB,KAArBA,EAAa1oC,OACX6oC,GAA4B,EAAGH,EAAcA,EAAa/oC,QAC5D,MACF,KAAK,EAGL,KAAK,GAYL,QACEyyC,GAAyC1J,SAV3C,KAAK,GACH,IAAItjB,EAAWsjB,EAAa3/B,UAC5B,OAAS2/B,EAAavoC,eACC,EAAvBilB,EAASnC,cACR,OAASylB,EAAa/oC,QAAU,KAAO+oC,EAAa/oC,OAAOJ,MACtD6lB,EAASnC,cAAgB,EAC3BsvB,GAA4C7J,IAC5C0J,GAAyC1J,GAKnD,CACA,SAAS6J,GAA4C7E,GACnD,IAAIhlB,EAAYglB,EAAYhlB,UAC5B,GAAI,KAA2B,GAApBglB,EAAY1tC,OAAa,CAClC,GAAI,OAAS0oB,EACX,IAAK,IAAIvuB,EAAI,EAAGA,EAAIuuB,EAAUzuB,OAAQE,IAAK,CACzC,IAAIsuB,EAAgBC,EAAUvuB,GAC9BkxC,GAAa5iB,EACb4pB,GACE5pB,EACAilB,EAEJ,CACFwE,GAAwBxE,EAC1B,CACA,IAAKA,EAAcA,EAAYntC,MAAO,OAASmtC,GAAe,CAE5D,QADAhlB,EAAYglB,GACMnuC,KAChB,KAAK,EACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGngB,EAAWA,EAAU/oB,QACpD4yC,GAA4C7pB,GAC5C,MACF,KAAK,GAEa,GADhBvuB,EAAIuuB,EAAU3f,WACZka,cACE9oB,EAAE8oB,cAAgB,EACpBsvB,GAA4C7pB,IAC9C,MACF,QACE6pB,GAA4C7pB,GAEhDglB,EAAcA,EAAYltC,OAC5B,CACF,CACA,SAAS6xC,GACPG,EACAzJ,GAEA,KAAO,OAASsC,IAAc,CAC5B,IAAI/rC,EAAQ+rC,GACZ,OAAQ/rC,EAAMC,KACZ,KAAK,EACL,KAAK,GACL,KAAK,GACHspC,GAA4B,EAAGvpC,EAAOypC,GACtC,MACF,KAAK,GACL,KAAK,GACH,GACE,OAASzpC,EAAMa,eACf,OAASb,EAAMa,cAAc4gC,UAC7B,CACA,IAAIlT,EAAQvuB,EAAMa,cAAc4gC,UAAU/R,KAC1C,MAAQnB,GAASA,EAAMF,UACzB,CACA,MACF,KAAK,GACHC,GAAatuB,EAAMa,cAAc0tB,OAGrC,GAAI,QADJA,EAAQvuB,EAAMiB,OACOstB,EAAMluB,OAASL,EAAS+rC,GAAaxd,OAExD1d,EAAG,IAAK7Q,EAAQkzC,EAAoB,OAASnH,IAAc,CAEzD,IAAI7qC,GADJqtB,EAAQwd,IACY7qC,QAClBwnB,EAAc6F,EAAMluB,OAEtB,GADAqsC,GAAwBne,GACpBA,IAAUvuB,EAAO,CACnB+rC,GAAa,KACb,MAAMl7B,CACR,CACA,GAAI,OAAS3P,EAAS,CACpBA,EAAQb,OAASqoB,EACjBqjB,GAAa7qC,EACb,MAAM2P,CACR,CACAk7B,GAAarjB,CACf,CACJ,CACF,CACA,SAASyqB,GAAUlzC,EAAKypB,EAAc1R,EAAKmS,GACzC9d,KAAKpM,IAAMA,EACXoM,KAAK2L,IAAMA,EACX3L,KAAKnL,QACHmL,KAAKpL,MACLoL,KAAKhM,OACLgM,KAAK5C,UACL4C,KAAK5P,KACL4P,KAAKge,YACH,KACJhe,KAAKvK,MAAQ,EACbuK,KAAK4sB,WAAa5sB,KAAKmc,IAAM,KAC7Bnc,KAAKqd,aAAeA,EACpBrd,KAAKhC,aACHgC,KAAKxL,cACLwL,KAAKykB,YACLzkB,KAAK0Z,cACH,KACJ1Z,KAAK8d,KAAOA,EACZ9d,KAAKq4B,aAAer4B,KAAK3L,MAAQ,EACjC2L,KAAK+c,UAAY,KACjB/c,KAAKqX,WAAarX,KAAKvG,MAAQ,EAC/BuG,KAAK5L,UAAY,IACnB,CACA,SAASurB,GAAqB/rB,EAAKypB,EAAc1R,EAAKmS,GACpD,OAAO,IAAIgpB,GAAUlzC,EAAKypB,EAAc1R,EAAKmS,EAC/C,CACA,SAAS2W,GAAgBnQ,GAEvB,UADAA,EAAYA,EAAUlyB,aACEkyB,EAAUyiB,iBACpC,CACA,SAASzpB,GAAqB1nB,EAASynB,GACrC,IAAIvpB,EAAiB8B,EAAQxB,UAkC7B,OAjCA,OAASN,IACHA,EAAiB6rB,GACjB/pB,EAAQhC,IACRypB,EACAznB,EAAQ+V,IACR/V,EAAQkoB,OAEME,YAAcpoB,EAAQooB,YACrClqB,EAAe1D,KAAOwF,EAAQxF,KAC9B0D,EAAesJ,UAAYxH,EAAQwH,UACnCtJ,EAAeM,UAAYwB,EAC3BA,EAAQxB,UAAYN,IACnBA,EAAeupB,aAAeA,EAC/BvpB,EAAe1D,KAAOwF,EAAQxF,KAC9B0D,EAAeO,MAAQ,EACvBP,EAAeukC,aAAe,EAC9BvkC,EAAeipB,UAAY,MAChCjpB,EAAeO,MAAwB,SAAhBuB,EAAQvB,MAC/BP,EAAeujB,WAAazhB,EAAQyhB,WACpCvjB,EAAe2F,MAAQ7D,EAAQ6D,MAC/B3F,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAe4lB,cAAgB9jB,EAAQ8jB,cACvC5lB,EAAeU,cAAgBoB,EAAQpB,cACvCV,EAAe2wB,YAAc7uB,EAAQ6uB,YACrCpH,EAAeznB,EAAQoI,aACvBlK,EAAekK,aACb,OAASqf,EACL,KACA,CAAE5jB,MAAO4jB,EAAa5jB,MAAO0hC,aAAc9d,EAAa8d,cAC9DrnC,EAAee,QAAUe,EAAQf,QACjCf,EAAe2B,MAAQG,EAAQH,MAC/B3B,EAAeqoB,IAAMvmB,EAAQumB,IAC7BroB,EAAe84B,WAAah3B,EAAQg3B,WAC7B94B,CACT,CACA,SAASkzC,GAAoBlzC,EAAgBwG,GAC3CxG,EAAeO,OAAS,SACxB,IAAIuB,EAAU9B,EAAeM,UA4B7B,OA3BA,OAASwB,GACH9B,EAAeujB,WAAa,EAC7BvjB,EAAe2F,MAAQa,EACvBxG,EAAec,MAAQ,KACvBd,EAAeukC,aAAe,EAC9BvkC,EAAe4lB,cAAgB,KAC/B5lB,EAAeU,cAAgB,KAC/BV,EAAe2wB,YAAc,KAC7B3wB,EAAekK,aAAe,KAC9BlK,EAAesJ,UAAY,OAC1BtJ,EAAeujB,WAAazhB,EAAQyhB,WACrCvjB,EAAe2F,MAAQ7D,EAAQ6D,MAC/B3F,EAAec,MAAQgB,EAAQhB,MAC/Bd,EAAeukC,aAAe,EAC9BvkC,EAAeipB,UAAY,KAC3BjpB,EAAe4lB,cAAgB9jB,EAAQ8jB,cACvC5lB,EAAeU,cAAgBoB,EAAQpB,cACvCV,EAAe2wB,YAAc7uB,EAAQ6uB,YACrC3wB,EAAe1D,KAAOwF,EAAQxF,KAC9BkK,EAAc1E,EAAQoI,aACtBlK,EAAekK,aACd,OAAS1D,EACL,KACA,CACEb,MAAOa,EAAYb,MACnB0hC,aAAc7gC,EAAY6gC,eAE/BrnC,CACT,CACA,SAASoqB,GACP9tB,EACAub,EACA0R,EACA4pB,EACAnpB,EACArkB,GAEA,IAAIytC,EAAW,EAEf,GADAD,EAAQ72C,EACJ,oBAAsBA,EAAMqkC,GAAgBrkC,KAAU82C,EAAW,QAChE,GAAI,kBAAoB92C,EAC3B82C,EAojJJ,SAA6B92C,EAAMmU,EAAO4iC,GACxC,GAAI,IAAMA,GAAe,MAAQ5iC,EAAM6iC,SAAU,OAAO,EACxD,OAAQh3C,GACN,IAAK,OACL,IAAK,QACH,OAAO,EACT,IAAK,QACH,GACE,kBAAoBmU,EAAM8iC,YAC1B,kBAAoB9iC,EAAMgO,MAC1B,KAAOhO,EAAMgO,KAEb,MACF,OAAO,EACT,IAAK,OACH,GACE,kBAAoBhO,EAAM41B,KAC1B,kBAAoB51B,EAAMgO,MAC1B,KAAOhO,EAAMgO,MACbhO,EAAM+iC,QACN/iC,EAAMgjC,QAEN,MACF,MACO,eADChjC,EAAM41B,MAGP/pC,EAAOmU,EAAMrC,SACd,kBAAoBqC,EAAM8iC,YAAc,MAAQj3C,GAKxD,IAAK,SACH,GACEmU,EAAMijC,OACN,oBAAsBjjC,EAAMijC,OAC5B,kBAAoBjjC,EAAMijC,QACzBjjC,EAAM+iC,SACN/iC,EAAMgjC,SACPhjC,EAAM+1B,KACN,kBAAoB/1B,EAAM+1B,IAE1B,OAAO,EAEb,OAAO,CACT,CAjmJemN,CACTr3C,EACAitB,EACArnB,EAAmBJ,SAEjB,GACA,SAAWxF,GAAQ,SAAWA,GAAQ,SAAWA,EAC/C,GACA,OAENoU,EAAG,OAAQpU,GACT,KAAKnB,EACH,OAAOuvB,GAAwBnB,EAAahb,SAAUyb,EAAMrkB,EAAOkS,GACrE,KAAKzc,EACHg4C,EAAW,EACXppB,GAAQ,GACR,MACF,KAAK3uB,EACH,OACGiB,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAY,EAAPmS,IAC9CE,YAAc7uB,EACnBiB,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKZ,EACH,OACGY,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcxuB,EACnBY,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKX,EACH,OACGW,EAAOuvB,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcvuB,EACnBW,EAAKqJ,MAAQA,EACdrJ,EAEJ,KAAKR,EACH,OAAO4oC,GAAyBnb,EAAcS,EAAMrkB,EAAOkS,GAC7D,QACE,GAAI,kBAAoBvb,GAAQ,OAASA,EACvC,OAAQA,EAAKC,UACX,KAAKjB,EACL,KAAKE,EACH43C,EAAW,GACX,MAAM1iC,EACR,KAAKnV,EACH63C,EAAW,EACX,MAAM1iC,EACR,KAAKjV,EACH23C,EAAW,GACX,MAAM1iC,EACR,KAAK9U,EACHw3C,EAAW,GACX,MAAM1iC,EACR,KAAK7U,EACHu3C,EAAW,GACXD,EAAQ,KACR,MAAMziC,EAEZ0iC,EAAW,GACX7pB,EAAehsB,MACbnD,EAAuB,IAAK,OAASkC,EAAO,cAAgBA,EAAM,KAEpE62C,EAAQ,KAMd,OAJAt7B,EAAMgU,GAAqBunB,EAAU7pB,EAAc1R,EAAKmS,IACpDE,YAAc5tB,EAClBub,EAAIvb,KAAO62C,EACXt7B,EAAIlS,MAAQA,EACLkS,CACT,CACA,SAAS6S,GAAwBkpB,EAAU5pB,EAAMrkB,EAAOkS,GAGtD,OAFA+7B,EAAW/nB,GAAqB,EAAG+nB,EAAU/7B,EAAKmS,IACzCrkB,MAAQA,EACViuC,CACT,CACA,SAASlP,GAAyBnb,EAAcS,EAAMrkB,EAAOkS,IAC3D0R,EAAesC,GAAqB,GAAItC,EAAc1R,EAAKmS,IAC9CE,YAAcpuB,EAC3BytB,EAAa5jB,MAAQA,EACrB,IAAIkuC,EAAuB,CACzBrwB,YAAa,EACb2d,mBAAoB,EACpB2S,gBAAiB,KACjBpG,YAAa,KACbqG,aAAc,KACdvE,SAAU,KACVwE,OAAQ,WACN,IAAIn0C,EAAQg0C,EAAqBrE,SACjC,GAAI,OAAS3vC,EAAO,MAAMtC,MAAMnD,EAAuB,MACvD,GAAI,KAAiD,EAA1Cy5C,EAAqB1S,oBAAyB,CACvD,IAAIr7B,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,IACL+tC,EAAqB1S,oBAAsB,EAC7C3L,GAAsB1vB,EAAMjG,EAAO,GACvC,CACF,EACAo0C,OAAQ,WACN,IAAIp0C,EAAQg0C,EAAqBrE,SACjC,GAAI,OAAS3vC,EAAO,MAAMtC,MAAMnD,EAAuB,MACvD,GAAI,KAAiD,EAA1Cy5C,EAAqB1S,oBAAyB,CACvD,IAAIr7B,EAAOqd,GAA+BtjB,EAAO,GACjD,OAASiG,IACL+tC,EAAqB1S,qBAAuB,EAC9C3L,GAAsB1vB,EAAMjG,EAAO,GACvC,CACF,GAGF,OADA0pB,EAAajgB,UAAYuqC,EAClBtqB,CACT,CACA,SAASQ,GAAoB8kB,EAAS7kB,EAAMrkB,GAG1C,OAFAkpC,EAAUhjB,GAAqB,EAAGgjB,EAAS,KAAM7kB,IACzCrkB,MAAQA,EACTkpC,CACT,CACA,SAASrkB,GAAsBF,EAAQN,EAAMrkB,GAa3C,OAZAqkB,EAAO6B,GACL,EACA,OAASvB,EAAO/b,SAAW+b,EAAO/b,SAAW,GAC7C+b,EAAOzS,IACPmS,IAEGrkB,MAAQA,EACbqkB,EAAK1gB,UAAY,CACf+U,cAAeiM,EAAOjM,cACtB61B,gBAAiB,KACjB3pB,eAAgBD,EAAOC,gBAElBP,CACT,CACA,SAASmqB,GAAWn0C,GAClBA,EAAeO,OAAS,CAC1B,CACA,SAAS6zC,GAAkCp0C,EAAgBmxC,GACzD,GAAI,eAAiBA,EAAS70C,MAAQ,KAAgC,EAAzB60C,EAASlkB,MAAMukB,SAC1DxxC,EAAeO,QAAU,cACtB,GAAMP,EAAeO,OAAS,UAAY8zC,GAAgBlD,GAAY,CAEzE,GACE,QAFFA,EAAW5kB,GAA2BzqB,YAGF,QAAhC8xB,MACFA,GACI,OAASpH,IACyB,SAAhCoH,MACAA,IACA,KAAuC,UAAhCA,KACTud,IAAa3kB,IAEjB,MACIzE,GAAoBd,GACtBD,GAEJhnB,EAAeO,OAAS,IAC1B,CACF,CACA,SAAS+zC,GAAoBt0C,EAAgB2vC,GAC3C,OAASA,IAAe3vC,EAAeO,OAAS,GACzB,MAAvBP,EAAeO,QACXovC,EACA,KAAO3vC,EAAeF,IAAM+G,KAAuB,UACpD7G,EAAe2F,OAASgqC,EACxB4E,IAAqC5E,EAC1C,CACA,SAAS6E,GAAmBrP,EAAasP,GACvC,IAAK9mC,GACH,OAAQw3B,EAAYD,UAClB,IAAK,SACHuP,EAA2BtP,EAAYH,KACvC,IAAK,IAAI0P,EAAe,KAAM,OAASD,GACrC,OAASA,EAAyBn0C,YAC/Bo0C,EAAeD,GACfA,EAA2BA,EAAyB1zC,QACzD,OAAS2zC,EACJvP,EAAYH,KAAO,KACnB0P,EAAa3zC,QAAU,KAC5B,MACF,IAAK,YACH2zC,EAAevP,EAAYH,KAC3B,IAAK,IAAI2P,EAAmB,KAAM,OAASD,GACzC,OAASA,EAAap0C,YAAcq0C,EAAmBD,GACpDA,EAAeA,EAAa3zC,QACjC,OAAS4zC,EACLF,GAA4B,OAAStP,EAAYH,KAC9CG,EAAYH,KAAO,KACnBG,EAAYH,KAAKjkC,QAAU,KAC7B4zC,EAAiB5zC,QAAU,KAExC,CACA,SAAS6zC,GAAiBC,GACxB,IAAIC,EACA,OAASD,EAAcv0C,WACvBu0C,EAAcv0C,UAAUQ,QAAU+zC,EAAc/zC,MAClDi0C,EAAgB,EAChBxQ,EAAe,EACjB,GAAIuQ,EACF,IAAK,IAAIE,EAAYH,EAAc/zC,MAAO,OAASk0C,GAChDD,GAAiBC,EAAUrvC,MAAQqvC,EAAUzxB,WAC3CghB,GAAyC,SAAzByQ,EAAUzQ,aAC1BA,GAAkC,SAAlByQ,EAAUz0C,MAC1By0C,EAAU90C,OAAS20C,EACnBG,EAAYA,EAAUj0C,aAE3B,IAAKi0C,EAAYH,EAAc/zC,MAAO,OAASk0C,GAC5CD,GAAiBC,EAAUrvC,MAAQqvC,EAAUzxB,WAC3CghB,GAAgByQ,EAAUzQ,aAC1BA,GAAgByQ,EAAUz0C,MAC1By0C,EAAU90C,OAAS20C,EACnBG,EAAYA,EAAUj0C,QAG7B,OAFA8zC,EAActQ,cAAgBA,EAC9BsQ,EAActxB,WAAawxB,EACpBD,CACT,CACA,SAASG,GAAanzC,EAAS9B,EAAgBwG,GAC7C,IAAIq3B,EAAW79B,EAAeupB,aAE9B,OADArE,GAAellB,GACPA,EAAeF,KACrB,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,GACL,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,EACL,KAAK,GAEL,KAAK,EACH,OAAO80C,GAAiB50C,GAAiB,KAC3C,KAAK,EAsBH,OArBAwG,EAAcxG,EAAesJ,UAC7Bu0B,EAAW,KACX,OAAS/7B,IAAY+7B,EAAW/7B,EAAQpB,cAAc0tB,OACtDpuB,EAAeU,cAAc0tB,QAAUyP,IACpC79B,EAAeO,OAAS,MAC3BymC,GAAYrZ,IACZ7qB,KACA0D,EAAY0uC,iBACR1uC,EAAYxD,QAAUwD,EAAY0uC,eACnC1uC,EAAY0uC,eAAiB,MAC5B,OAASpzC,GAAW,OAASA,EAAQhB,QACvC0lB,GAAkBxmB,GACdm0C,GAAWn0C,GACX,OAAS8B,GACRA,EAAQpB,cAAcmlC,cACrB,KAA8B,IAAvB7lC,EAAeO,SACtBP,EAAeO,OAAS,KAC1B,OAAS8kB,KACN8vB,GAAuB9vB,IACvBA,GAAkB,QAC3BuvB,GAAiB50C,GACV,KACT,KAAK,GACH,OACGwG,EAAcxG,EAAeU,cAC9B,OAASoB,GACJqyC,GAAWn0C,GACZ,OAASwG,GACJouC,GAAiB50C,GAClBo0C,GAAkCp0C,EAAgBwG,KACjDouC,GAAiB50C,GACjBA,EAAeO,QAAU,WAC9BiG,EACEA,IAAgB1E,EAAQpB,eACrByzC,GAAWn0C,GACZ40C,GAAiB50C,GACjBo0C,GAAkCp0C,EAAgBwG,KACjDouC,GAAiB50C,GACjBA,EAAeO,QAAU,WAC3BuB,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,GAClD40C,GAAiB50C,GAChBA,EAAeO,QAAU,UAChC,KAEJ,KAAK,GACH2C,GAAelD,GACfwG,EAAcpE,EAAwBN,QACtC,IAAIxF,EAAO0D,EAAe1D,KAC1B,GAAI,OAASwF,GAAW,MAAQ9B,EAAesJ,UAC7CxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,IAAK69B,EAAU,CACb,GAAI,OAAS79B,EAAesJ,UAC1B,MAAM/L,MAAMnD,EAAuB,MAErC,OADAw6C,GAAiB50C,GACV,IACT,CACA8B,EAAUI,EAAmBJ,QAC7B0kB,GAAkBxmB,GACd0lB,GAA6B1lB,IAC3B8B,EAAUmkC,GAAyB3pC,EAAMuhC,EAAUr3B,GACpDxG,EAAesJ,UAAYxH,EAC5BqyC,GAAWn0C,GACjB,CAEA,OADA40C,GAAiB50C,GACV,KACT,KAAK,EAGH,GAFAkD,GAAelD,GACfwG,EAAcxG,EAAe1D,KACzB,OAASwF,GAAW,MAAQ9B,EAAesJ,UAC7CxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,IAAK69B,EAAU,CACb,GAAI,OAAS79B,EAAesJ,UAC1B,MAAM/L,MAAMnD,EAAuB,MAErC,OADAw6C,GAAiB50C,GACV,IACT,CAEA,GADA8B,EAAUI,EAAmBJ,QACzB0kB,GAAkBxmB,GACpB0lB,GAA6B1lB,OAC1B,CAIH,OAHA1D,EAAOypC,GACL3jC,EAAwBN,SAElBA,GACN,KAAK,EACHA,EAAUxF,EAAK84C,gBACb,6BACA5uC,GAEF,MACF,KAAK,EACH1E,EAAUxF,EAAK84C,gBACb,qCACA5uC,GAEF,MACF,QACE,OAAQA,GACN,IAAK,MACH1E,EAAUxF,EAAK84C,gBACb,6BACA5uC,GAEF,MACF,IAAK,OACH1E,EAAUxF,EAAK84C,gBACb,qCACA5uC,GAEF,MACF,IAAK,UACH1E,EAAUxF,EAAKiO,cAAc,QACrB8qC,UAAY,qBACpBvzC,EAAUA,EAAQirC,YAAYjrC,EAAQ6M,YACtC,MACF,IAAK,SACH7M,EACE,kBAAoB+7B,EAAS5gB,GACzB3gB,EAAKiO,cAAc,SAAU,CAAE0S,GAAI4gB,EAAS5gB,KAC5C3gB,EAAKiO,cAAc,UACzBszB,EAAS/vB,SACJhM,EAAQgM,UAAW,EACpB+vB,EAAS9K,OAASjxB,EAAQixB,KAAO8K,EAAS9K,MAC9C,MACF,QACEjxB,EACE,kBAAoB+7B,EAAS5gB,GACzB3gB,EAAKiO,cAAc/D,EAAa,CAAEyW,GAAI4gB,EAAS5gB,KAC/C3gB,EAAKiO,cAAc/D,IAGjC1E,EAAQwG,IAAuBtI,EAC/B8B,EAAQyG,IAAoBs1B,EAC5BntB,EAAG,IAAKpU,EAAO0D,EAAec,MAAO,OAASxE,GAAQ,CACpD,GAAI,IAAMA,EAAKwD,KAAO,IAAMxD,EAAKwD,IAC/BgC,EAAQspC,YAAY9uC,EAAKgN,gBACtB,GAAI,IAAMhN,EAAKwD,KAAO,KAAOxD,EAAKwD,KAAO,OAASxD,EAAKwE,MAAO,CACjExE,EAAKwE,MAAMZ,OAAS5D,EACpBA,EAAOA,EAAKwE,MACZ,QACF,CACA,GAAIxE,IAAS0D,EAAgB,MAAM0Q,EACnC,KAAO,OAASpU,EAAKyE,SAAW,CAC9B,GAAI,OAASzE,EAAK4D,QAAU5D,EAAK4D,SAAWF,EAC1C,MAAM0Q,EACRpU,EAAOA,EAAK4D,MACd,CACA5D,EAAKyE,QAAQb,OAAS5D,EAAK4D,OAC3B5D,EAAOA,EAAKyE,OACd,CACAf,EAAesJ,UAAYxH,EAC3B4O,EAAG,OACAs1B,GAAqBlkC,EAAS0E,EAAaq3B,GAAWr3B,GAEvD,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,WACH1E,IAAY+7B,EAASkM,UACrB,MAAMr5B,EACR,IAAK,MACH5O,GAAU,EACV,MAAM4O,EACR,QACE5O,GAAU,EAEdA,GAAWqyC,GAAWn0C,EACxB,CACF,CAGA,OAFA40C,GAAiB50C,GACjBA,EAAeO,QAAU,SAClB,KACT,KAAK,EACH,GAAIuB,GAAW,MAAQ9B,EAAesJ,UACpCxH,EAAQ8jB,gBAAkBiY,GAAYsW,GAAWn0C,OAC9C,CACH,GAAI,kBAAoB69B,GAAY,OAAS79B,EAAesJ,UAC1D,MAAM/L,MAAMnD,EAAuB,MAErC,GADA0H,EAAUM,EAAwBN,QAC9B0kB,GAAkBxmB,GAAiB,CAKrC,GAJA8B,EAAU9B,EAAesJ,UACzB9C,EAAcxG,EAAe4lB,cAC7BiY,EAAW,KAEP,QADJvhC,EAAO6oB,IAEL,OAAQ7oB,EAAKwD,KACX,KAAK,GACL,KAAK,EACH+9B,EAAWvhC,EAAKspB,cAEtB9jB,EAAQwG,IAAuBtI,GAC/B8B,KACEA,EAAQ+M,YAAcrI,GACrB,OAASq3B,IAAY,IAAOA,EAAS9X,0BACtCC,GAAsBlkB,EAAQ+M,UAAWrI,MAGhCgf,GAAyBxlB,EACtC,MACG8B,EACCikC,GAAkCjkC,GAASwzC,eACzCzX,IAEOv1B,IAAuBtI,EAC/BA,EAAesJ,UAAYxH,CAClC,CAEA,OADA8yC,GAAiB50C,GACV,KACT,KAAK,GAEH,GADA69B,EAAW79B,EAAeU,cAExB,OAASoB,GACR,OAASA,EAAQpB,eAChB,OAASoB,EAAQpB,cAAcC,WACjC,CAEA,GADArE,EAAOkqB,GAAkBxmB,GACrB,OAAS69B,GAAY,OAASA,EAASl9B,WAAY,CACrD,GAAI,OAASmB,EAAS,CACpB,IAAKxF,EAAM,MAAMiB,MAAMnD,EAAuB,MAG9C,KADAkC,EAAO,QADPA,EAAO0D,EAAeU,eACCpE,EAAKqE,WAAa,MAC9B,MAAMpD,MAAMnD,EAAuB,MAC9CkC,EAAKgM,IAAuBtI,CAC9B,MACE6mB,KACE,KAA8B,IAAvB7mB,EAAeO,SACnBP,EAAeU,cAAgB,MACjCV,EAAeO,OAAS,EAC7Bq0C,GAAiB50C,GACjB1D,GAAO,CACT,MACE,OAAS+oB,KACN8vB,GAAuB9vB,IAAmBA,GAAkB,MAC5D/oB,GAAO,EACZ,IAAKA,EACH,OAA2B,IAAvB0D,EAAeO,OACVusB,GAAmB9sB,GAAiBA,IAC7C8sB,GAAmB9sB,GACZ,KAEX,CAEA,GADA8sB,GAAmB9sB,GACf,KAA8B,IAAvBA,EAAeO,OACxB,OAAQP,EAAe2F,MAAQa,EAAcxG,EAG/C,GAFAwG,EAAc,OAASq3B,EACvB/7B,EAAU,OAASA,GAAW,OAASA,EAAQpB,cAC3C8F,EAAa,CAEflK,EAAO,KACP,QAFAuhC,EAAW79B,EAAec,OAERR,WAChB,OAASu9B,EAASv9B,UAAUI,eAC5B,OAASm9B,EAASv9B,UAAUI,cAAc4gC,YACzChlC,EAAOuhC,EAASv9B,UAAUI,cAAc4gC,UAAU/R,MACrD,IAAIgmB,EAAY,KAChB,OAAS1X,EAASn9B,eAChB,OAASm9B,EAASn9B,cAAc4gC,YAC/BiU,EAAY1X,EAASn9B,cAAc4gC,UAAU/R,MAChDgmB,IAAcj5C,IAASuhC,EAASt9B,OAAS,KAC3C,CAMA,OALAiG,IAAgB1E,GACd0E,IACCxG,EAAec,MAAMP,OAAS,MACjC+zC,GAAoBt0C,EAAgBA,EAAe2wB,aACnDikB,GAAiB50C,GACV,KACT,KAAK,EACH,OACE8C,KACA,OAAShB,GACP0zC,GAA2Bx1C,EAAesJ,UAAU+U,eACtDu2B,GAAiB50C,GACjB,KAEJ,KAAK,GACH,OACEgnC,GAAYhnC,EAAe1D,MAAOs4C,GAAiB50C,GAAiB,KAExE,KAAK,GAGH,GAFA+B,EAAI4qB,IAEA,QADJrwB,EAAO0D,EAAeU,eACH,OAAOk0C,GAAiB50C,GAAiB,KAG5D,GAFA69B,EAAW,KAA8B,IAAvB79B,EAAeO,OAE7B,QADJg1C,EAAYj5C,EAAK8oC,WAEf,GAAIvH,EAAU2W,GAAmBl4C,GAAM,OAClC,CACH,GACE,IAAMm5C,IACL,OAAS3zC,GAAW,KAAuB,IAAhBA,EAAQvB,OAEpC,IAAKuB,EAAU9B,EAAec,MAAO,OAASgB,GAAW,CAEvD,GAAI,QADJyzC,EAAYxoB,GAAmBjrB,IACP,CAQtB,IAPA9B,EAAeO,OAAS,IACxBi0C,GAAmBl4C,GAAM,GACzBwF,EAAUyzC,EAAU5kB,YACpB3wB,EAAe2wB,YAAc7uB,EAC7BwyC,GAAoBt0C,EAAgB8B,GACpC9B,EAAeukC,aAAe,EAC9BziC,EAAU0E,EACLA,EAAcxG,EAAec,MAAO,OAAS0F,GAChD0sC,GAAoB1sC,EAAa1E,GAC9B0E,EAAcA,EAAYzF,QAK/B,OAJAkB,EACE0qB,GAC+B,EAA9BA,GAAoB7qB,QAAe,GAE/B9B,EAAec,KACxB,CACAgB,EAAUA,EAAQf,OACpB,CACF,OAASzE,EAAK0oC,MACZlhC,KAAQ4xC,KACN11C,EAAeO,OAAS,IACzBs9B,GAAW,EACZ2W,GAAmBl4C,GAAM,GACxB0D,EAAe2F,MAAQ,QAC5B,KACG,CACH,IAAKk4B,EACH,GAAgD,QAA1C/7B,EAAUirB,GAAmBwoB,KACjC,GACIv1C,EAAeO,OAAS,IACzBs9B,GAAW,EACX/7B,EAAUA,EAAQ6uB,YAClB3wB,EAAe2wB,YAAc7uB,EAC9BwyC,GAAoBt0C,EAAgB8B,GACpC0yC,GAAmBl4C,GAAM,GACzB,OAASA,EAAK0oC,MACZ,WAAa1oC,EAAK4oC,WACjBqQ,EAAUj1C,YACVqN,GAEH,OAAOinC,GAAiB50C,GAAiB,UAE3C,EAAI8D,KAAQxH,EAAK+oC,mBACfqQ,IACA,YAAclvC,IACZxG,EAAeO,OAAS,IACzBs9B,GAAW,EACZ2W,GAAmBl4C,GAAM,GACxB0D,EAAe2F,MAAQ,SAC9BrJ,EAAKyoC,aACCwQ,EAAUx0C,QAAUf,EAAec,MACpCd,EAAec,MAAQy0C,IAExB,QADEzzC,EAAUxF,EAAK46B,MAEZp1B,EAAQf,QAAUw0C,EAClBv1C,EAAec,MAAQy0C,EAC3Bj5C,EAAK46B,KAAOqe,EACnB,CACA,OAAI,OAASj5C,EAAK0oC,MAEbhlC,EAAiB1D,EAAK0oC,KACtB1oC,EAAK8oC,UAAYplC,EACjB1D,EAAK0oC,KAAOhlC,EAAee,QAC3BzE,EAAK+oC,mBAAqBvhC,KAC1B9D,EAAee,QAAU,KACzBe,EAAU6qB,GAAoB7qB,QAC/BG,EAAK0qB,GAAqBkR,EAAsB,EAAV/7B,EAAe,EAAc,EAAVA,GACzD9B,IAEJ40C,GAAiB50C,GACV,MACT,KAAK,GACL,KAAK,GACH,OACE8sB,GAAmB9sB,GACnBssB,KACCuR,EAAW,OAAS79B,EAAeU,cACpC,OAASoB,EACJ,OAASA,EAAQpB,gBAAmBm9B,IACpC79B,EAAeO,OAAS,MACzBs9B,IAAa79B,EAAeO,OAAS,MACzCs9B,EACI,KAAqB,UAAdr3B,IACP,KAA8B,IAAvBxG,EAAeO,SACrBq0C,GAAiB50C,GACY,EAA9BA,EAAeukC,eAAqBvkC,EAAeO,OAAS,OAC5Dq0C,GAAiB50C,GAErB,QADCwG,EAAcxG,EAAe2wB,cAE5B2jB,GAAoBt0C,EAAgBwG,EAAYmpC,YACjDnpC,EAAc,KACf,OAAS1E,GACP,OAASA,EAAQpB,eACjB,OAASoB,EAAQpB,cAAc4gC,YAC9B96B,EAAc1E,EAAQpB,cAAc4gC,UAAU/R,MAChDsO,EAAW,KACZ,OAAS79B,EAAeU,eACtB,OAASV,EAAeU,cAAc4gC,YACrCzD,EAAW79B,EAAeU,cAAc4gC,UAAU/R,MACrDsO,IAAar3B,IAAgBxG,EAAeO,OAAS,MACrD,OAASuB,GAAWC,EAAIitB,IACxB,KAEJ,KAAK,GACH,OACGxoB,EAAc,KACf,OAAS1E,IAAY0E,EAAc1E,EAAQpB,cAAc0tB,OACzDpuB,EAAeU,cAAc0tB,QAAU5nB,IACpCxG,EAAeO,OAAS,MAC3BymC,GAAYrZ,IACZinB,GAAiB50C,GACjB,KAEJ,KAAK,GACH,OAAO,KAEX,MAAMzC,MAAMnD,EAAuB,IAAK4F,EAAeF,KACzD,CACA,SAAS61C,GAAW7zC,EAAS9B,GAE3B,OADAklB,GAAellB,GACPA,EAAeF,KACrB,KAAK,EACH,OAEY,OADTgC,EAAU9B,EAAeO,QAEpBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,EACH,OACEgnC,GAAYrZ,IACZ7qB,KAEA,KAAiB,OADhBhB,EAAU9B,EAAeO,SACC,KAAiB,IAAVuB,IAC5B9B,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,GACL,KAAK,GACL,KAAK,EACH,OAAOkD,GAAelD,GAAiB,KACzC,KAAK,GAGH,GAFA8sB,GAAmB9sB,GAEf,QADJ8B,EAAU9B,EAAeU,gBACD,OAASoB,EAAQnB,WAAY,CACnD,GAAI,OAASX,EAAeM,UAC1B,MAAM/C,MAAMnD,EAAuB,MACrCysB,IACF,CAEA,OAAiB,OADjB/kB,EAAU9B,EAAeO,QAEnBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KACN,KAAK,GACH,OAAO+B,EAAI4qB,IAAsB,KACnC,KAAK,EACH,OAAO7pB,KAAoB,KAC7B,KAAK,GACH,OAAOkkC,GAAYhnC,EAAe1D,MAAO,KAC3C,KAAK,GACL,KAAK,GACH,OACEwwB,GAAmB9sB,GACnBssB,KACA,OAASxqB,GAAWC,EAAIitB,IAEd,OADTltB,EAAU9B,EAAeO,QAEpBP,EAAeO,OAAoB,MAAXuB,EAAoB,IAAM9B,GACpD,KAER,KAAK,GACH,OAAOgnC,GAAYrZ,IAAe,KAGpC,QACE,OAAO,KAEb,CACA,SAASioB,GAAsB9zC,EAAS+zC,GAEtC,OADA3wB,GAAe2wB,GACPA,EAAgB/1C,KACtB,KAAK,EACHknC,GAAYrZ,IACZ7qB,KACA,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACHI,GAAe2yC,GACf,MACF,KAAK,EACH/yC,KACA,MACF,KAAK,GACHgqB,GAAmB+oB,GACnB,MACF,KAAK,GACH9zC,EAAI4qB,IACJ,MACF,KAAK,GACHqa,GAAY6O,EAAgBv5C,MAC5B,MACF,KAAK,GACL,KAAK,GACHwwB,GAAmB+oB,GACnBvpB,KACA,OAASxqB,GAAWC,EAAIitB,IACxB,MACF,KAAK,GACHgY,GAAYrZ,IAElB,CACA,IAAImoB,GAAyB,CACzBC,gBAAiB,SAAUC,GACzB,IAAI5nB,EAAQyE,GAAYlF,IACtBsoB,EAAe7nB,EAAM7sB,KAAK0K,IAAI+pC,GAIhC,YAHA,IAAWC,IACPA,EAAeD,IACjB5nB,EAAM7sB,KAAKhD,IAAIy3C,EAAcC,IACxBA,CACT,GAEFC,GAAkB,oBAAsBpyB,QAAUA,QAAUpa,IAC5Dw+B,GAAmB,EACnBxgB,GAAqB,KACrB1nB,GAAiB,KACjB4zB,GAAgC,EAChCuiB,GAAgC,EAChCC,GAA4B,KAC5BC,IAA6C,EAC7CC,IAAmC,EACnCC,IAA0C,EAC1CpqB,GAAuB,EACvBspB,GAA+B,EAC/BzhB,GAAiC,EACjCwiB,GAA4C,EAC5CC,GAAgC,EAChCrT,GAA6B,EAC7BmR,GAAoC,EACpCmC,GAAqC,KACrCC,GAAsC,KACtCC,IAAoD,EACpDrH,GAA+B,EAC/BmG,GAAqCmB,IACrCC,GAA4B,KAC5B5W,GAAyC,KACzC6W,IAA6B,EAC7BC,GAAgC,KAChCC,GAA6B,EAC7BC,GAAsC,EACtCC,GAA4B,KAC5BzzB,GAAoB,EACpBC,GAAwB,KAC1B,SAASwW,KACP,GAAI,KAA0B,EAAnB+N,KAAyB,IAAMtU,GACxC,OAAOA,IAAiCA,GAC1C,GAAI,OAAS12B,EAAqBo5B,EAAG,CAEnC,OAAO,IADe/H,MAC2BM,IACnD,CACA,OAAOjnB,IACT,CACA,SAAS4xB,KACP,IAAM4J,KACHA,GACC,KAAuC,UAAhCxP,KAA8CjmB,GACjD/G,KACA,WACR,IAAIwwC,EAAkB7qB,GAA2BzqB,QAEjD,OADA,OAASs1C,IAAoBA,EAAgB72C,OAAS,IAC/C6iC,EACT,CACA,SAAS5N,GAAsB1vB,EAAMjG,EAAO6G,IAEvCZ,IAAS4hB,IAAsB,IAAMyuB,IACtC,OAASrwC,EAAKuxC,uBAEdC,GAAkBxxC,EAAM,GACtByxC,GACEzxC,EACA8tB,GACAwP,IACA,IAENn8B,GAAkBnB,EAAMY,GACpB,KAA0B,EAAnBwhC,KAAyBpiC,IAAS4hB,KAC3C5hB,IAAS4hB,KACN,KAA0B,EAAnBwgB,MACLsO,IAA6C9vC,GAChD,IAAM+uC,IACJ8B,GACEzxC,EACA8tB,GACAwP,IACA,IAEJoU,GAAsB1xC,GAC5B,CACA,SAAS2xC,GAAkBzJ,EAAeroC,EAAO+xC,GAC/C,GAAI,KAA0B,EAAnBxP,IAAuB,MAAM3qC,MAAMnD,EAAuB,MAUrE,IATA,IAAIu9C,GACED,GACA,KAAe,GAAR/xC,IACP,KAAOA,EAAQqoC,EAAc4J,eAC/BrxC,GAA0BynC,EAAeroC,GAC3CkyC,EAAaF,EA4cjB,SAA8B7xC,EAAMH,GAClC,IAAImyC,EAAuB5P,GAC3BA,IAAoB,EACpB,IAAI6P,EAAiBC,KACnBC,EAAsBC,KACxBxwB,KAAuB5hB,GAAQ8tB,KAAkCjuB,GAC3DmxC,GAA4B,KAC7BpB,GAAqC5xC,KAAQ,IAC9CwzC,GAAkBxxC,EAAMH,IACvB2wC,GAAmC/vC,GAClCT,EACAH,GAEN+K,EAAG,WAEC,GAAI,IAAMylC,IAAiC,OAASn2C,GAAgB,CAClE2F,EAAQ3F,GACR,IAAIm4C,EAAc/B,GAClBnlC,EAAG,OAAQklC,IACT,KAAK,EACHA,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACH,GAAIhxB,GAAmBgxB,GAAc,CACnChC,GAAgC,EAChCC,GAA4B,KAC5BiC,GAA0B1yC,GAC1B,KACF,CACAA,EAAQ,WACN,IAAMwwC,IACJzuB,KAAuB5hB,IACtBqwC,GAAgC,GACnCqB,GAAsB1xC,EACxB,EACAqyC,EAAYjxB,KAAKvhB,EAAOA,GACxB,MAAM+K,EACR,KAAK,EACHylC,GAAgC,EAChC,MAAMzlC,EACR,KAAK,EACHylC,GAAgC,EAChC,MAAMzlC,EACR,KAAK,EACHyW,GAAmBgxB,IACbhC,GAAgC,EACjCC,GAA4B,KAC7BiC,GAA0B1yC,KACxBwwC,GAAgC,EACjCC,GAA4B,KAC7BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,IACrD,MACF,KAAK,EACH,IAAIhH,EAAW,KACf,OAAQnxC,GAAeF,KACrB,KAAK,GACHqxC,EAAWnxC,GAAeU,cAC5B,KAAK,EACL,KAAK,GACH,IAAI43C,EAAYt4C,GAChB,IAAImxC,GAAWkD,GAAgBlD,GAAe,CAC5CgF,GAAgC,EAChCC,GAA4B,KAC5B,IAAIr1C,EAAUu3C,EAAUv3C,QACxB,GAAI,OAASA,EAASf,GAAiBe,MAClC,CACH,IAAIwnB,EAAc+vB,EAAUp4C,OAC5B,OAASqoB,GACHvoB,GAAiBuoB,EACnBgwB,GAAmBhwB,IAClBvoB,GAAiB,IACxB,CACA,MAAMiR,CACR,EAEJklC,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACHhC,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMH,EAAOwyC,EAAa,GACjD,MACF,KAAK,EACHK,KACA/C,GAA+B,EAC/B,MAAM/kC,EACR,QACE,MAAMnT,MAAMnD,EAAuB,MAEzC,CACAq+C,KACA,KACF,CAAE,MAAOC,GACPC,GAAY7yC,EAAM4yC,EACpB,CAMF,OAJA5R,GAAwBD,GAA0B,KAClD3pC,EAAqB0zB,EAAImnB,EACzB76C,EAAqB07C,EAAIX,EACzB/P,GAAmB4P,EACf,OAAS93C,GAAuB,GACpC0nB,GAAqB,KACrBkM,GAAgC,EAChClR,KACO+yB,GACT,CAxjBQoD,CAAqB7K,EAAeroC,GACpCmzC,GAAe9K,EAAeroC,GAAO,GACzCozC,EAAsBpB,IACrB,CACD,GAAI,IAAME,EAAY,CACpBvB,KACGqB,GACDJ,GAAkBvJ,EAAeroC,EAAO,GAAG,GAC7C,KACF,CAAO,GAAI,IAAMkyC,EACfN,GACEvJ,EACAroC,EACA,GACC0wC,QAEA,CAEH,GADAqB,EAAY1J,EAAclsC,QAAQxB,UAEhCy4C,IACCC,GAAqCtB,GACtC,CACAG,EAAaiB,GAAe9K,EAAeroC,GAAO,GAClDozC,GAAsB,EACtB,QACF,CACA,GAAI,IAAMlB,EAAY,CAEpB,GADAkB,EAAsBpzC,EAClBqoC,EAAciL,2BAA6BF,EAC7C,IAAI91C,EAA2B,OAG5BA,EACC,KAFHA,GAAyD,UAA9B+qC,EAAchoC,cAGlC/C,EAC2B,UAA3BA,EACE,UACA,EACZ,GAAI,IAAMA,EAA0B,CAClC0C,EAAQ1C,EACRyN,EAAG,CACD,IAAI5K,EAAOkoC,EACX6J,EAAanB,GACb,IAAIwC,EAAoBpzC,EAAKhE,QAAQpB,cAAcmlC,aAQnD,GAPAqT,IACG5B,GAAkBxxC,EAAM7C,GAA0B1C,OAAS,KAM1D,KALJ0C,EAA2B61C,GACzBhzC,EACA7C,GACA,IAEkC,CAClC,GACEszC,KACC2C,EACD,CACApzC,EAAKmzC,4BAA8BF,EACnCvC,IACEuC,EACFlB,EAAa,EACb,MAAMnnC,CACR,CACAqoC,EAAsBpC,GACtBA,GAAsCkB,EACtC,OAASkB,GACP5D,GAAuB4D,EAC3B,CACAlB,EAAa50C,CACf,CAEA,GADA81C,GAAsB,EAClB,IAAMlB,EAAY,QACxB,CACF,CACA,GAAI,IAAMA,EAAY,CACpBP,GAAkBtJ,EAAe,GACjCuJ,GAAkBvJ,EAAeroC,EAAO,GAAG,GAC3C,KACF,CACA+K,EAAG,CAED,OADAinC,EAAkB3J,EACV6J,GACN,KAAK,EACL,KAAK,EACH,MAAMt6C,MAAMnD,EAAuB,MACrC,KAAK,EACH,IAAa,QAARuL,KAAqBA,EAAO,CAC/B4xC,GACEI,EACAhyC,EACAy9B,IACCiT,IAEH,MAAM3lC,CACR,CACA,MACF,KAAK,EACHimC,GAAsC,KACtC,MACF,KAAK,EACL,KAAK,EACH,MACF,QACE,MAAMp5C,MAAMnD,EAAuB,MAIvC,GAFAu9C,EAAgB1O,aAAeyO,EAC/BC,EAAgBtxC,cAAgBV,GAErB,SAARA,KAAsBA,GAEvB,IADEozC,EAAsBxJ,GAA+B,IAAMzrC,MAF/D,CAWE,GANAyzC,GACEI,EACAhyC,EACAy9B,IACCiT,IAEC,IAAMxwC,GAAa8xC,EAAiB,GAAI,MAAMjnC,EAClDinC,EAAgBwB,cAAgBC,GAC9BC,GAAoBxkB,KAClB,KACA8iB,EACAD,EACAf,GACAG,GACAF,GACAjxC,EACAy9B,GACAoT,GACAjC,GACA8B,GACA,GACC,EACD,GAEF0C,EAGJ,MACAM,GACE1B,EACAD,EACAf,GACAG,GACAF,GACAjxC,EACAy9B,GACAoT,GACAjC,GACA8B,GACA,GACC,EACD,EAEJ,CACF,CACA,KACF,CACAmB,GAAsBxJ,EACxB,CACA,SAASmH,GAAuBmE,GAC9B,OAAS3C,GACJA,GAAsC2C,EACvC3C,GAAoC10C,KAAKs3C,MACvC5C,GACA2C,EAER,CACA,SAASD,GACPvzC,EACAmjC,EACAuQ,EACAC,EACAC,EACA/zC,EACAyB,EACAuyC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIzV,EAAe0E,EAAa1E,aAChC,IAAmB,KAAfA,GAAuB,YAA6B,SAAfA,MAEnC6M,GAAiB,CAAEiB,YAAa,KAAMvF,MAAO,EAAGmN,UAAWC,IAC7DhJ,GAAiCjI,GAEjC,QADCA,EA+pHP,WACE,GAAI,OAASmI,GAAgB,MAAM7zC,MAAMnD,EAAuB,MAChE,IAAI6yB,EAAQmkB,GAIZ,OAHAnkB,EAAMolB,aACJ,IAAMplB,EAAM6f,OACZqN,GAA2BltB,EAAOA,EAAMolB,aACnC,EAAIplB,EAAM6f,MACb,SAAUsN,GACR,IAAIC,EAAkB9a,YAAW,WAG/B,GAFAtS,EAAMolB,aACJ8H,GAA2BltB,EAAOA,EAAMolB,aACtCplB,EAAMgtB,UAAW,CACnB,IAAIA,EAAYhtB,EAAMgtB,UACtBhtB,EAAMgtB,UAAY,KAClBA,GACF,CACF,GAAG,KAEH,OADAhtB,EAAMgtB,UAAYG,EACX,WACLntB,EAAMgtB,UAAY,KAClBK,aAAaD,EACf,CACF,EACA,IACN,CAvrHsBE,KAmBhB,OAhBAz0C,EAAKuxC,oBAAsBpO,EACzBuR,GAAW3lB,KACT,KACA/uB,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACA,EACAG,EACAC,SAGJzC,GAAkBzxC,EAAMH,EAAOyB,GAAcyyC,GAGjDW,GACE10C,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACAE,EACAC,EACAC,EAEJ,CACA,SAAShB,GAAqC/P,GAC5C,IAAK,IAAIruC,EAAOquC,IAAkB,CAChC,IAAInpC,EAAMlF,EAAKkF,IACf,IACG,IAAMA,GAAO,KAAOA,GAAO,KAAOA,IACtB,MAAblF,EAAK2F,QAEL,QADET,EAAMlF,EAAK+1B,cACwB,QAAnB7wB,EAAMA,EAAI0xB,SAE5B,IAAK,IAAI92B,EAAI,EAAGA,EAAIoF,EAAItF,OAAQE,IAAK,CACnC,IAAI+/C,EAAQ36C,EAAIpF,GACd65B,EAAckmB,EAAMlmB,YACtBkmB,EAAQA,EAAMv7C,MACd,IACE,IAAK8d,GAASuX,IAAekmB,GAAQ,OAAO,CAC9C,CAAE,MAAO3zB,GACP,OAAO,CACT,CACF,CAEF,GADAhnB,EAAMlF,EAAKkG,MACa,MAApBlG,EAAK2pC,cAAwB,OAASzkC,EACvCA,EAAII,OAAStF,EAAQA,EAAOkF,MAC1B,CACH,GAAIlF,IAASquC,EAAc,MAC3B,KAAO,OAASruC,EAAKmG,SAAW,CAC9B,GAAI,OAASnG,EAAKsF,QAAUtF,EAAKsF,SAAW+oC,EAAc,OAAO,EACjEruC,EAAOA,EAAKsF,MACd,CACAtF,EAAKmG,QAAQb,OAAStF,EAAKsF,OAC3BtF,EAAOA,EAAKmG,OACd,CACF,CACA,OAAO,CACT,CACA,SAASw2C,GACPzxC,EACAI,EACAkB,EACAszC,GAEAx0C,IAAmBuwC,GACnBvwC,IAAmBswC,GACnB1wC,EAAKI,gBAAkBA,EACvBJ,EAAKK,cAAgBD,EACrBw0C,IAAyB50C,EAAKM,WAAaF,GAC3Cw0C,EAAuB50C,EAAK60C,gBAC5B,IAAK,IAAIh1C,EAAQO,EAAgB,EAAIP,GAAS,CAC5C,IAAIi1C,EAAU,GAAKv1C,GAAMM,GACvBe,EAAO,GAAKk0C,EACdF,EAAqBE,IAAY,EACjCj1C,IAAUe,CACZ,CACA,IAAMU,GACJD,GAAwBrB,EAAMsB,EAAalB,EAC/C,CACA,SAASgL,KACP,OAAO,KAA0B,EAAnBg3B,MACT2S,GAA8B,GAAG,IAAK,EAE7C,CACA,SAASrC,KACP,GAAI,OAASx4C,GAAgB,CAC3B,GAAI,IAAMm2C,GACR,IAAIN,EAAkB71C,GAAeE,YAGlC4mC,GAAwBD,GAA0B,KACnD1U,GAFD0jB,EAAkB71C,IAGhBioB,GAAkB,KAClBC,GAAyB,EACzB2tB,EAAkB71C,GACvB,KAAO,OAAS61C,GACdD,GAAsBC,EAAgBv1C,UAAWu1C,GAC9CA,EAAkBA,EAAgB31C,OACvCF,GAAiB,IACnB,CACF,CACA,SAASs3C,GAAkBxxC,EAAMH,GAC/BG,EAAKmjC,aAAe,KACpBnjC,EAAKO,cAAgB,EACrB,IAAI8yC,EAAgBrzC,EAAKqzC,eACxB,IAAMA,IACHrzC,EAAKqzC,eAAiB,EAAI2B,GAAc3B,IAE5C,QADAA,EAAgBrzC,EAAKuxC,uBAEjBvxC,EAAKuxC,oBAAsB,KAAO8B,KACtCX,KACA9wB,GAAqB5hB,EACrB9F,GAAiBm5C,EAAgB3vB,GAAqB1jB,EAAKhE,QAAS,MACpE8xB,GAAgCjuB,EAChCwwC,GAAgC,EAChCC,GAA4B,KAC5BC,IAA6C,EAC7CC,GAAmC/vC,GAA0BT,EAAMH,GACnE4wC,IAA0C,EAC1ChC,GACEnR,GACAqT,GACAD,GACAxiB,GACAyhB,GACE,EACJkB,GAAsCD,GACpC,KACFE,IAAoD,EACpD,KAAe,EAARjxC,KAAeA,GAAiB,GAARA,GAC/B,IAAIo1C,EAAoBj1C,EAAKuB,eAC7B,GAAI,IAAM0zC,EACR,IACEj1C,EAAOA,EAAKyB,cAAewzC,GAAqBp1C,EAChD,EAAIo1C,GAEJ,CACA,IAAIC,EAAU,GAAK31C,GAAM01C,GACvBr0C,EAAO,GAAKs0C,EACdr1C,GAASG,EAAKk1C,GACdD,IAAsBr0C,CACxB,CAGF,OAFAylB,GAAuBxmB,EACvB+c,KACOy2B,CACT,CACA,SAASR,GAAY7yC,EAAMqyC,GACzBzoB,GAA4B,KAC5BxyB,EAAqB0zB,EAAIK,GACzBknB,IAAgBpxB,IACVoxB,EAAcnwB,KACfmuB,GAAgC,GACjCgC,IAAgBnxB,IACZmxB,EAAcnwB,KACfmuB,GAAgC,GAChCA,GACCgC,IAAgBhY,GACZ,EACA,OAASgY,GACP,kBAAoBA,GACpB,oBAAsBA,EAAYjxB,KAClC,EACA,EACdkvB,GAA4B+B,EAC5B,OAASn4C,KACLy1C,GAA+B,EACjCvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,UAEnD,CACA,SAASk2C,KACP,IAAID,EAAiB76C,EAAqB0zB,EAE1C,OADA1zB,EAAqB0zB,EAAIK,GAClB,OAAS8mB,EAAiB9mB,GAAwB8mB,CAC3D,CACA,SAASG,KACP,IAAID,EAAsB/6C,EAAqB07C,EAE/C,OADA17C,EAAqB07C,EAAI9C,GAClBmC,CACT,CACA,SAAS7T,KACPqR,GAA+B,EAC/BY,KACoC,QAAhCziB,MACAA,IACA,OAASrH,GAA2BzqB,UACrCw0C,IAAmC,GACrC,KAAwC,UAAjCtiB,KACN,KAAmD,UAA5CwiB,KACP,OAAS9uB,IACT6vB,GACE7vB,GACAkM,GACAwP,IACA,EAEN,CACA,SAAS0V,GAAehzC,EAAMH,EAAOs1C,GACnC,IAAInD,EAAuB5P,GAC3BA,IAAoB,EACpB,IAAI6P,EAAiBC,KACnBC,EAAsBC,KACpBxwB,KAAuB5hB,GAAQ8tB,KAAkCjuB,IAClEmxC,GAA4B,KAAOQ,GAAkBxxC,EAAMH,IAC9DA,GAAQ,EACR,IAAIkyC,EAAapC,GACjB/kC,EAAG,WAEC,GAAI,IAAMylC,IAAiC,OAASn2C,GAAgB,CAClE,IAAIk7C,EAAal7C,GACfm4C,EAAc/B,GAChB,OAAQD,IACN,KAAK,EACHqC,KACAX,EAAa,EACb,MAAMnnC,EACR,KAAK,EACL,KAAK,EACL,KAAK,EACH,OAAS6b,GAA2BzqB,UAAY6D,GAAQ,GACxD,IAAI8hB,EAAS0uB,GAIb,GAHAA,GAAgC,EAChCC,GAA4B,KAC5BgC,GAAuBtyC,EAAMo1C,EAAY/C,EAAa1wB,GAEpDwzB,GACA3E,GACA,CACAuB,EAAa,EACb,MAAMnnC,CACR,CACA,MACF,QACG+W,EAAS0uB,GACPA,GAAgC,EAChCC,GAA4B,KAC7BgC,GAAuBtyC,EAAMo1C,EAAY/C,EAAa1wB,GAE9D,CACA0zB,KACAtD,EAAapC,GACb,KACF,CAAE,MAAO2F,GACPzC,GAAY7yC,EAAMs1C,EACpB,CAWF,OATAz1C,GAASG,EAAK6hB,sBACdmf,GAAwBD,GAA0B,KAClDqB,GAAmB4P,EACnB56C,EAAqB0zB,EAAImnB,EACzB76C,EAAqB07C,EAAIX,EACzB,OAASj4C,KACL0nB,GAAqB,KACtBkM,GAAgC,EACjClR,MACKm1B,CACT,CACA,SAASsD,KACP,KAAO,OAASn7C,IAAkBq7C,GAAkBr7C,GACtD,CA+GA,SAASy4C,KACP,KAAO,OAASz4C,KAAmB0D,MACjC23C,GAAkBr7C,GACtB,CACA,SAASq7C,GAAkBH,GACzB,IAAIp4B,EAAOyiB,GAAU2V,EAAW56C,UAAW46C,EAAY/uB,IACvD+uB,EAAWt1B,cAAgBs1B,EAAW3xB,aACtC,OAASzG,EAAOy1B,GAAmB2C,GAAel7C,GAAiB8iB,CACrE,CACA,SAASu1B,GAA0B6C,GACjC,IAAIp4B,EAAOo4B,EACPp5C,EAAUghB,EAAKxiB,UACnB,OAAQwiB,EAAKhjB,KACX,KAAK,GACL,KAAK,EACHgjB,EAAO2e,GACL3/B,EACAghB,EACAA,EAAKyG,aACLzG,EAAKxmB,UACL,EACAs3B,IAEF,MACF,KAAK,GACH9Q,EAAO2e,GACL3/B,EACAghB,EACAA,EAAKyG,aACLzG,EAAKxmB,KAAKM,OACVkmB,EAAKuF,IACLuL,IAEF,MACF,KAAK,EACHzB,GAAmBrP,GACrB,QACE8yB,GAAsB9zC,EAASghB,GAG5BA,EAAOyiB,GAAUzjC,EAFjBghB,EAAO9iB,GACNkzC,GAAoBpwB,EAAMqJ,IACKA,IAEvC+uB,EAAWt1B,cAAgBs1B,EAAW3xB,aACtC,OAASzG,EAAOy1B,GAAmB2C,GAAel7C,GAAiB8iB,CACrE,CACA,SAASs1B,GACPtyC,EACAo1C,EACA/C,EACAmD,GAEAxU,GAAwBD,GAA0B,KAClD1U,GAAmB+oB,GACnBjzB,GAAkB,KAClBC,GAAyB,EACzB,IAAIK,EAAc2yB,EAAWh7C,OAC7B,IACE,GA5hLJ,SACE4F,EACAyiB,EACAnF,EACAlkB,EACAq8C,GAGA,GADAn4B,EAAY7iB,OAAS,MAEnB,OAASrB,GACT,kBAAoBA,GACpB,oBAAsBA,EAAMgoB,KAC5B,CAUA,GARA,QADAqB,EAAcnF,EAAY9iB,YAExBkhC,GACEjZ,EACAnF,EACAm4B,GACA,GAGA,QADJn4B,EAAcmJ,GAA2BzqB,SACf,CACxB,OAAQshB,EAAYtjB,KAClB,KAAK,GACH,OACE,OAAS0sB,GACL4X,KACA,OAAShhB,EAAY9iB,WACrB,IAAMm1C,KACLA,GAA+B,GACnCryB,EAAY7iB,QAAU,IACtB6iB,EAAY7iB,OAAS,MACrB6iB,EAAYzd,MAAQ41C,EACrBr8C,IAAU+nB,GACL7D,EAAY7iB,OAAS,OAEtB,QADEgoB,EAAcnF,EAAYuN,aAEvBvN,EAAYuN,YAAc,IAAI7mB,IAAI,CAAC5K,IACpCqpB,EAAYne,IAAIlL,GACpBs8C,GAAmB11C,EAAM5G,EAAOq8C,KACpC,EAEJ,KAAK,GACH,OACGn4B,EAAY7iB,OAAS,MACtBrB,IAAU+nB,GACL7D,EAAY7iB,OAAS,OAEtB,QADEgoB,EAAcnF,EAAYuN,cAEtBpI,EAAc,CACdkxB,YAAa,KACbgC,gBAAiB,KACjB9L,WAAY,IAAI7lC,IAAI,CAAC5K,KAEtBkkB,EAAYuN,YAAcpI,GAE3B,QADEnF,EAAcmF,EAAYonB,YAEvBpnB,EAAYonB,WAAa,IAAI7lC,IAAI,CAAC5K,IACnCkkB,EAAYhZ,IAAIlL,GACxBs8C,GAAmB11C,EAAM5G,EAAOq8C,KACpC,EAGN,MAAMh+C,MAAMnD,EAAuB,IAAKgpB,EAAYtjB,KACtD,CAGA,OAFA07C,GAAmB11C,EAAM5G,EAAOq8C,GAChCnX,MACO,CACT,CACA,GAAIz2B,GACF,OAEE,QADC4a,EAAcgE,GAA2BzqB,UAErC,KAA2B,MAApBymB,EAAYhoB,SAAmBgoB,EAAYhoB,OAAS,KAC3DgoB,EAAYhoB,OAAS,MACrBgoB,EAAY5iB,MAAQ41C,EACrBr8C,IAAUqmB,IAERE,GAAoB1B,GADlBje,EAAOvI,MAAMnD,EAAuB,KAAM,CAAEshD,MAAOx8C,IACAkkB,MACtDlkB,IAAUqmB,IAITE,GACE1B,GAJAwE,EAAchrB,MAAMnD,EAAuB,KAAM,CACjDshD,MAAOx8C,IAGiCkkB,KAE3Ctd,EAAOA,EAAKhE,QAAQxB,WACfC,OAAS,MACdg7C,IAAoBA,EACpBz1C,EAAKH,OAAS41C,EACdr8C,EAAQ6kB,GAA2B7kB,EAAOkkB,GAM3C+kB,GAAsBriC,EALrBy1C,EAAkB1b,GACjB/5B,EAAKwD,UACLpK,EACAq8C,IAGF,IAAM9F,KACHA,GAA+B,KACtC,EAEJ,IAAIkG,EAAep+C,MAAMnD,EAAuB,KAAM,CAAEshD,MAAOx8C,IAM/D,GALAy8C,EAAe53B,GAA2B43B,EAAcv4B,GACxD,OAASszB,GACJA,GAAqC,CAACiF,GACvCjF,GAAmCz0C,KAAK05C,GAC5C,IAAMlG,KAAiCA,GAA+B,GAClE,OAASltB,EAAa,OAAO,EACjCrpB,EAAQ6kB,GAA2B7kB,EAAOkkB,GAC1CA,EAAcmF,EACd,EAAG,CACD,OAAQnF,EAAYtjB,KAClB,KAAK,EACH,OACGsjB,EAAY7iB,OAAS,MACrBuF,EAAOy1C,GAAmBA,EAC1Bn4B,EAAYzd,OAASG,EAEtBqiC,GAAsB/kB,EADrBtd,EAAO+5B,GAAsBzc,EAAY9Z,UAAWpK,EAAO4G,KAE5D,EAEJ,KAAK,EACH,GACIyiB,EAAcnF,EAAY9mB,KAC3Bq/C,EAAev4B,EAAY9Z,UAC5B,KAA2B,IAApB8Z,EAAY7iB,SAChB,oBAAsBgoB,EAAYyX,0BAChC,OAAS2b,GACR,oBAAsBA,EAAa1b,oBAClC,OAASC,KACPA,GAAuC7wB,IAAIssC,KAEpD,OACGv4B,EAAY7iB,OAAS,MACrBg7C,IAAoBA,EACpBn4B,EAAYzd,OAAS41C,EAEtBxb,GADCwb,EAAkBzb,GAAuByb,GAGxCz1C,EACAsd,EACAlkB,GAEFipC,GAAsB/kB,EAAam4B,IACnC,EAGRn4B,EAAcA,EAAYljB,MAC5B,OAAS,OAASkjB,GAClB,OAAO,CACT,CAs4KMw4B,CACE91C,EACAyiB,EACA2yB,EACA/C,EACAvkB,IASF,OANA6hB,GAA+B,EAC/BvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,eAE/C9B,GAAiB,KAGrB,CAAE,MAAO8mB,GACP,GAAI,OAASyB,EAAa,MAAQvoB,GAAiBuoB,EAAczB,EAOjE,OANA2uB,GAA+B,EAC/BvW,GACEp5B,EACAie,GAA2Bo0B,EAAaryC,EAAKhE,eAE/C9B,GAAiB,KAEnB,CACuB,MAAnBk7C,EAAW36C,OACToN,IAAe,IAAM2tC,EAAiBx1C,GAAO,EAE/CwwC,IACA,KAAuC,UAAhC1iB,IAEP9tB,GAAO,GAELuwC,GAA6CvwC,GAAO,GACtD,IAAMw1C,GAAmB,IAAMA,GAAmB,IAAMA,KAGtD,QADDA,EAAkB/uB,GAA2BzqB,UAE1C,KAAOw5C,EAAgBx7C,MACtBw7C,EAAgB/6C,OAAS,SAChCs7C,GAAiBX,EAAYp1C,IACxByyC,GAAmB2C,EAC5B,CACA,SAAS3C,GAAmB2C,GAC1B,IAAIrG,EAAgBqG,EACpB,EAAG,CACD,GAAI,KAA6B,MAAtBrG,EAAct0C,OAKvB,YAJAs7C,GACEhH,EACAwB,IAIJ6E,EAAarG,EAAc30C,OAC3B,IAAI4iB,EAAOmyB,GACTJ,EAAcv0C,UACdu0C,EACA1oB,IAEF,GAAI,OAASrJ,EAEX,YADA9iB,GAAiB8iB,GAInB,GAAI,QADJ+xB,EAAgBA,EAAc9zC,SAG5B,YADAf,GAAiB60C,GAGnB70C,GAAiB60C,EAAgBqG,CACnC,OAAS,OAASrG,GAClB,IAAMY,KAAiCA,GAA+B,EACxE,CACA,SAASoG,GAAiBX,EAAYY,GACpC,EAAG,CACD,IAAIh5B,EAAO6yB,GAAWuF,EAAW56C,UAAW46C,GAC5C,GAAI,OAASp4B,EAGX,OAFAA,EAAKviB,OAAS,WACdP,GAAiB8iB,GAMnB,GAFA,QADAA,EAAOo4B,EAAWh7C,UAEd4iB,EAAKviB,OAAS,MAASuiB,EAAKyhB,aAAe,EAAKzhB,EAAKmG,UAAY,OAElE6yB,GACmC,QAAlCZ,EAAaA,EAAWn6C,SAG1B,YADAf,GAAiBk7C,GAGnBl7C,GAAiBk7C,EAAap4B,CAChC,OAAS,OAASo4B,GAClBzF,GAA+B,EAC/Bz1C,GAAiB,IACnB,CACA,SAASw6C,GACP10C,EACA0zC,EACAC,EACAC,EACAtyC,EACAuyC,EACAC,EACAE,EACAC,EACAC,GAEA,IAAIvjB,EAAiBv5B,EAAqBo5B,EACxCylB,EAA6B56C,EAAwB2G,EACvD,IACG3G,EAAwB2G,EAAI,EAC1B5K,EAAqBo5B,EAAI,KAmBhC,SACExwB,EACA0zC,EACAC,EACAC,EACAsC,EACA50C,EACAuyC,EACAC,GAEA,GAAGqC,WACI,OAASjF,IAChB,GAAI,KAA0B,EAAnB9O,IAAuB,MAAM3qC,MAAMnD,EAAuB,MACrE,IAAI6uC,EAAenjC,EAAKmjC,aAExB,GADAyQ,EAA8B5zC,EAAKO,cAC/B,OAAS4iC,EAAc,OAAO,KAGlC,GAFAnjC,EAAKmjC,aAAe,KACpBnjC,EAAKO,cAAgB,EACjB4iC,IAAiBnjC,EAAKhE,QAAS,MAAMvE,MAAMnD,EAAuB,MACtE0L,EAAKo2C,aAAe,KACpBp2C,EAAKq2C,iBAAmB,EACxBr2C,EAAKuxC,oBAAsB,KAC3B,IAAI+E,EAAiBnT,EAAatjC,MAAQsjC,EAAa1lB,WAoDvD,GA3qUF,SACEzd,EACAO,EACA+1C,EACAh1C,EACAuyC,EACAC,GAEA,IAAIyC,EAAyBv2C,EAAKE,aAClCF,EAAKE,aAAeo2C,EACpBt2C,EAAKI,eAAiB,EACtBJ,EAAKK,YAAc,EACnBL,EAAKM,UAAY,EACjBN,EAAK8xC,cAAgBwE,EACrBt2C,EAAKuB,gBAAkB+0C,EACvBt2C,EAAKmzC,4BAA8BmD,EACnCt2C,EAAK6hB,oBAAsB,EAC3B,IAAIpgB,EAAgBzB,EAAKyB,cACvBozC,EAAkB70C,EAAK60C,gBACvBl3B,EAAgB3d,EAAK2d,cACvB,IACE24B,EAAiBC,GAA0BD,EAC3C,EAAIA,GAEJ,CACA,IAAIE,EAAU,GAAKj3C,GAAM+2C,GACvB11C,EAAO,GAAK41C,EACd/0C,EAAc+0C,GAAW,EACzB3B,EAAgB2B,IAAY,EAC5B,IAAIC,EAAuB94B,EAAc64B,GACzC,GAAI,OAASC,EACX,IACE94B,EAAc64B,GAAW,KAAMA,EAAU,EACzCA,EAAUC,EAAqB/hD,OAC/B8hD,IACA,CACA,IAAIz5B,EAAS05B,EAAqBD,GAClC,OAASz5B,IAAWA,EAAOnc,OAAS,UACtC,CACF01C,IAAmB11C,CACrB,CACA,IAAMU,GAAeD,GAAwBrB,EAAMsB,EAAa,GAChE,IAAMwyC,GACJ,IAAMD,GACN,IAAM7zC,EAAKhG,MACVgG,EAAKI,gBACJ0zC,IAAwByC,GAA0Bh2C,GACxD,CA0kUEm2C,CACE12C,EACA4zC,EAHF0C,GAAkB35B,GAKhBrb,EACAuyC,EACAC,GAEF9zC,IAAS4hB,KACL1nB,GAAiB0nB,GAAqB,KACvCkM,GAAgC,GAClC,KAAmC,MAA5BqV,EAAa1E,eACnB,KAA4B,MAArB0E,EAAa1oC,QACpBw2C,KACEA,IAA6B,EAC9BG,GAAsCkF,EACtCjF,GAA4BsC,EA2NjC,SAA4BgD,EAAetjB,GAClC71B,GAAmBm5C,EAAetjB,EAC3C,CA5NIujB,CAAmBp4C,IAAkB,WAEnC,OADA23C,KACO,IACT,KACFxC,EAAc,KAA4B,MAArBxQ,EAAa1oC,OAClC,KAAmC,MAA5B0oC,EAAa1E,eAAyBkV,GACvCA,EAAcv8C,EAAqBo5B,EACpCp5B,EAAqBo5B,EAAI,KACzBlvB,EAAcjG,EAAwB2G,EACtC3G,EAAwB2G,EAAI,EAC5B6xC,EAAezR,GACfA,IAAoB,EA5zG3B,SAAqCpiC,EAAM6I,GAIzC,GAHA7I,EAAOA,EAAKuY,cACZs+B,GAAgBC,GAEZl+B,GADJ5Y,EAAOsY,GAAqBtY,IACQ,CAClC,GAAI,mBAAoBA,EACtB,IAAI2gB,EAAkB,CACpB/U,MAAO5L,EAAKoZ,eACZvN,IAAK7L,EAAKqZ,mBAGZzO,EAAG,CAKD,IAAImsC,GAJJp2B,GACIA,EAAkB3gB,EAAK8H,gBACvB6Y,EAAgBnI,aAClBvW,QAEgBsX,cAAgBoH,EAAgBpH,eAClD,GAAIw9B,GAAa,IAAMA,EAAUr9B,WAAY,CAC3CiH,EAAkBo2B,EAAUp9B,WAC5B,IAAIC,EAAem9B,EAAUn9B,aAC3BC,EAAYk9B,EAAUl9B,UACxBk9B,EAAYA,EAAUj9B,YACtB,IACE6G,EAAgB5rB,SAAU8kB,EAAU9kB,QACtC,CAAE,MAAOiiD,GACPr2B,EAAkB,KAClB,MAAM/V,CACR,CACA,IAAIlW,EAAS,EACXkX,GAAS,EACTC,GAAO,EACPorC,EAAoB,EACpBC,EAAmB,EACnBpiD,EAAOkL,EACPnD,EAAa,KACfsO,EAAG,OAAS,CACV,IAAK,IAAI6R,EACPloB,IAAS6rB,GACN,IAAM/G,GAAgB,IAAM9kB,EAAKC,WACjC6W,EAAQlX,EAASklB,GACpB9kB,IAAS+kB,GACN,IAAMk9B,GAAa,IAAMjiD,EAAKC,WAC9B8W,EAAMnX,EAASqiD,GAClB,IAAMjiD,EAAKC,WAAaL,GAAUI,EAAKiU,UAAUrU,QAC7C,QAAUsoB,EAAOloB,EAAK+T,aAC1BhM,EAAa/H,EACbA,EAAOkoB,EAET,OAAS,CACP,GAAIloB,IAASkL,EAAM,MAAMmL,EAOzB,GANAtO,IAAe8jB,KACXs2B,IAAsBr9B,IACvBhO,EAAQlX,GACXmI,IAAegd,KACXq9B,IAAqBH,IACtBlrC,EAAMnX,GACL,QAAUsoB,EAAOloB,EAAKkjB,aAAc,MAExCnb,GADA/H,EAAO+H,GACWA,UACpB,CACA/H,EAAOkoB,CACT,CACA2D,GACG,IAAM/U,IAAU,IAAMC,EAAM,KAAO,CAAED,MAAOA,EAAOC,IAAKA,EAC7D,MAAO8U,EAAkB,IAC3B,CACFA,EAAkBA,GAAmB,CAAE/U,MAAO,EAAGC,IAAK,EACxD,MAAO8U,EAAkB,KAGzB,IAFAw2B,GAAuB,CAAEl+B,YAAajZ,EAAMmZ,eAAgBwH,GAC5Dm2B,IAAW,EACNhR,GAAaj9B,EAAY,OAASi9B,IACrC,GAEG9lC,GADC6I,EAAai9B,IACI9qC,MACnB,KAAiC,KAA1B6N,EAAW41B,eAAwB,OAASz+B,EAElDA,EAAK5F,OAASyO,EAAci9B,GAAa9lC,OAE1C,KAAO,OAAS8lC,IAAc,CAI5B,OAFAjsB,GADAhR,EAAai9B,IACUtrC,UACvBwF,EAAO6I,EAAWpO,MACVoO,EAAW7O,KACjB,KAAK,EAEL,KAAK,GACL,KAAK,GAgDL,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,EACL,KAAK,GACH,MApDF,KAAK,EACH,GAAI,KAAc,KAAPgG,IAAgB,OAAS6Z,EAAW,CAC7C7Z,OAAO,EACP2gB,EAAkB9X,EAClB+Q,EAAeC,EAAUiG,cACzBjG,EAAYA,EAAUjf,cACtBm8C,EAAYp2B,EAAgBnd,UAC5B,IACE,IAAI4zC,EAAoB9e,GACtB3X,EAAgBnqB,KAChBojB,GACA+G,EAAgByD,YAAgBzD,EAAgBnqB,OAElDwJ,EAAO+2C,EAAU9a,wBACfmb,EACAv9B,GAEFk9B,EAAU5Q,oCAAsCnmC,CAClD,CAAE,MAAOghB,GACPqiB,GACE1iB,EACAA,EAAgBvmB,OAChB4mB,EAEJ,CACF,CACA,MACF,KAAK,EACH,GAAI,KAAc,KAAPhhB,GACT,GAGE,KADC2gB,GADC3gB,EAAO6I,EAAWrF,UAAU+U,eACNxjB,UAGxBsiD,GAAwBr3C,QACrB,GAAI,IAAM2gB,EACb,OAAQ3gB,EAAK4F,UACX,IAAK,OACL,IAAK,OACL,IAAK,OACHyxC,GAAwBr3C,GACxB,MACF,QACEA,EAAK0I,YAAc,GAE3B,MAQF,QACE,GAAI,KAAc,KAAP1I,GAAc,MAAMvI,MAAMnD,EAAuB,MAGhE,GAAI,QADJ0L,EAAO6I,EAAW5N,SACC,CACjB+E,EAAK5F,OAASyO,EAAWzO,OACzB0rC,GAAa9lC,EACb,KACF,CACA8lC,GAAaj9B,EAAWzO,MAC1B,CACJg9C,EAAoBrR,GACpBA,IAAoC,CAEtC,CAiqGMuR,CAA4Bt3C,EAAMmjC,GAClCiF,GAA6BjF,EAAcnjC,GAC3C8Y,GAAiBq+B,GAAsBn3C,EAAKuY,eAC3Cu+B,KAAaD,GACbM,GAAuBN,GAAgB,KACvC72C,EAAKhE,QAAUmnC,EAChB6C,GAA0BhmC,EAAMmjC,EAAa3oC,UAAW2oC,GACxDrlC,KACCskC,GAAmByR,EACnBx4C,EAAwB2G,EAAIV,EAC5BlK,EAAqBo5B,EAAImjB,GACzB3zC,EAAKhE,QAAUmnC,EACpB8N,IACMA,IAA6B,EAC9BC,GAAgClxC,EAChCmxC,GAA6ByC,GAC9B2D,GAAuBv3C,EAAMs2C,GACjCA,EAAiBt2C,EAAKE,aACtB,IAAMo2C,IAAmBlc,GAAyC,MAv2UpE,SAAsBp6B,GACpB,GAAId,IAAgB,oBAAsBA,GAAas4C,kBACrD,IACEt4C,GAAas4C,kBACXv4C,GACAe,OACA,EACA,OAA8B,IAArBA,EAAKhE,QAAQvB,OAE1B,CAAE,MAAO6E,GAAM,CACnB,CA81UEm4C,CAAatU,EAAa3/B,WAC1BkuC,GAAsB1xC,GAClB,OAAS0zC,EACX,IACEwC,EAAsBl2C,EAAK03C,mBAAoBvU,EAAe,EAC9DA,EAAeuQ,EAAkBh/C,OACjCyuC,IAECmT,EAAiB5C,EAAkBvQ,GAClC+S,EAAoBI,EAAel9C,MAAO,CACxCmgC,eAAgB+c,EAAe3+C,QAEvC,KAAoC,EAA7Bw5C,KAAmCgF,KAC1CG,EAAiBt2C,EAAKE,aACtB,KAAqC,QAA9B0zC,IAA0C,KAAwB,GAAjB0C,GACpDt2C,IAAS6d,GACPD,MACEA,GAAoB,EAAKC,GAAwB7d,GACpD4d,GAAoB,EACzBm3B,GAA8B,GAAG,EAEnC,CA/GM4C,CACE33C,EACA0zC,EACAC,EACAC,EACAqC,EACA30C,EACAuyC,EACAC,EAKN,CAAE,QACC18C,EAAqBo5B,EAAIG,EACvBt1B,EAAwB2G,EAAIi0C,CACjC,CACF,CA+FA,SAASsB,GAAuBv3C,EAAMs2C,GACpC,KAAOt2C,EAAK6gC,kBAAoByV,KAE9B,OADEA,EAAiBt2C,EAAKqpB,eAEpBrpB,EAAKqpB,YAAc,KAAOhB,GAAaiuB,IAC/C,CACA,SAASH,KACP,GAAI,OAASjF,GAA+B,CAC1C,IAAI0G,EAAW1G,GACboF,EAAiBlF,GACnBA,GAAsC,EACtC,IAAIyG,EAAiBh2C,GAAqBsvC,IACxCxgB,EAAiBv5B,EAAqBo5B,EACtCwD,EAAmB34B,EAAwB2G,EAC7C,IAGE,GAFA3G,EAAwB2G,EAAI,GAAK61C,EAAiB,GAAKA,EACvDzgD,EAAqBo5B,EAAI,KACrB,OAAS0gB,GACX,IAAI/zC,GAA2B,MAC5B,CACH06C,EAAiBxG,GACjBA,GAA4B,KAC5B,IAAIrxC,EAAOkxC,GACTrxC,EAAQsxC,GAGV,GAFAD,GAAgC,KAChCC,GAA6B,EACzB,KAA0B,EAAnB/O,IACT,MAAM3qC,MAAMnD,EAAuB,MACrC,IAAI09C,EAAuB5P,GAM3B,GALAA,IAAoB,EACpB2K,GAA4B/sC,EAAKhE,SACjC0uC,GAA0B1qC,EAAMA,EAAKhE,QAAS6D,EAAOg4C,GACrDzV,GAAmB4P,EACnB+C,GAA8B,GAAG,GAE/B71C,IACA,oBAAsBA,GAAa44C,sBAEnC,IACE54C,GAAa44C,sBAAsB74C,GAAYe,EACjD,CAAE,MAAOV,GAAM,CACjBnC,GAA2B,CAC7B,CACA,OAAOA,CACT,CAAE,QACC9B,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,EAC1B4mB,GAAuBK,EAAUtB,EACrC,CACF,CACA,OAAO,CACT,CACA,SAASyB,GAA8BC,EAAW16B,EAAa0D,GAC7D1D,EAAcW,GAA2B+C,EAAO1D,GAGhD,QADA06B,EAAY5iB,GAAc4iB,EAD1B16B,EAAcyc,GAAsBie,EAAUx0C,UAAW8Z,EAAa,GACpB,MAE/Cnc,GAAkB62C,EAAW,GAAItG,GAAsBsG,GAC5D,CACA,SAAS3U,GAAwB/lB,EAAakmB,EAAwBxiB,GACpE,GAAI,IAAM1D,EAAYtjB,IACpB+9C,GAA8Bz6B,EAAaA,EAAa0D,QAExD,KAAO,OAASwiB,GAA0B,CACxC,GAAI,IAAMA,EAAuBxpC,IAAK,CACpC+9C,GACEvU,EACAlmB,EACA0D,GAEF,KACF,CAAO,GAAI,IAAMwiB,EAAuBxpC,IAAK,CAC3C,IAAI6lB,EAAW2jB,EAAuBhgC,UACtC,GACE,oBACSggC,EAAuBhtC,KAAK0jC,0BACpC,oBAAsBra,EAASsa,oBAC7B,OAASC,KACPA,GAAuC7wB,IAAIsW,IAChD,CACAvC,EAAcW,GAA2B+C,EAAO1D,GAGhD,QADAuC,EAAWuV,GAAcoO,EADzBxiB,EAAQgZ,GAAuB,GACyB,MAErDC,GACCjZ,EACAnB,EACA2jB,EACAlmB,GAEFnc,GAAkB0e,EAAU,GAC5B6xB,GAAsB7xB,IACxB,KACF,CACF,CACA2jB,EAAyBA,EAAuBppC,MAClD,CACJ,CACA,SAASs7C,GAAmB11C,EAAM8nC,EAAUjoC,GAC1C,IAAIo4C,EAAYj4C,EAAKi4C,UACrB,GAAI,OAASA,EAAW,CACtBA,EAAYj4C,EAAKi4C,UAAY,IAAI7H,GACjC,IAAI8H,EAAY,IAAIl0C,IACpBi0C,EAAUx/C,IAAIqvC,EAAUoQ,EAC1B,WAEI,KADDA,EAAYD,EAAU9xC,IAAI2hC,MAErBoQ,EAAY,IAAIl0C,IAAQi0C,EAAUx/C,IAAIqvC,EAAUoQ,IACxDA,EAAU3uC,IAAI1J,KACV4wC,IAA0C,EAC5CyH,EAAU5zC,IAAIzE,GACbG,EAAOm4C,GAAkBppB,KAAK,KAAM/uB,EAAM8nC,EAAUjoC,GACrDioC,EAAS1mB,KAAKphB,EAAMA,GACxB,CACA,SAASm4C,GAAkBn4C,EAAM8nC,EAAUznC,GACzC,IAAI43C,EAAYj4C,EAAKi4C,UACrB,OAASA,GAAaA,EAAUzyB,OAAOsiB,GACvC9nC,EAAKK,aAAeL,EAAKI,eAAiBC,EAC1CL,EAAKM,YAAcD,EACnBuhB,KAAuB5hB,IACpB8tB,GAAgCztB,KAAiBA,IACjD,IAAMsvC,IACN,IAAMA,KAC4B,SAAhC7hB,MACCA,IACF,IAAM9vB,KAAQyrC,GACZ,KAA0B,EAAnBrH,KAAyBoP,GAAkBxxC,EAAM,GACvD2wC,IAAiCtwC,EACtCouC,KAAsC3gB,KACnC2gB,GAAoC,IACzCiD,GAAsB1xC,EACxB,CACA,SAASo4C,GAAsBC,EAAenb,GAC5C,IAAMA,IAAcA,EAAYn8B,MAEhC,QADAs3C,EAAgBh7B,GAA+Bg7B,EAAenb,MAE3D/7B,GAAkBk3C,EAAenb,GAClCwU,GAAsB2G,GAC1B,CACA,SAAS9Z,GAAgC8Z,GACvC,IAAI19C,EAAgB09C,EAAcz9C,cAChCsiC,EAAY,EACd,OAASviC,IAAkBuiC,EAAYviC,EAAcuiC,WACrDkb,GAAsBC,EAAenb,EACvC,CACA,SAAS8K,GAAqBqQ,EAAevQ,GAC3C,IAAI5K,EAAY,EAChB,OAAQmb,EAAcr+C,KACpB,KAAK,GACH,IAAI2tC,EAAa0Q,EAAc70C,UAC3B7I,EAAgB09C,EAAcz9C,cAClC,OAASD,IAAkBuiC,EAAYviC,EAAcuiC,WACrD,MACF,KAAK,GACHyK,EAAa0Q,EAAc70C,UAC3B,MACF,KAAK,GACHmkC,EAAa0Q,EAAc70C,UAAUokC,YACrC,MACF,QACE,MAAMnwC,MAAMnD,EAAuB,MAEvC,OAASqzC,GAAcA,EAAWniB,OAAOsiB,GACzCsQ,GAAsBC,EAAenb,EACvC,CAIA,IAAIob,GAAqB,KACvBC,GAAoB,KACpBC,IAAuB,EACvBC,IAA2B,EAC3BC,IAAiB,EACjBC,GAA6B,EAC/B,SAASjH,GAAsB1xC,GAyK/B,IAA+B44C,EAxK7B54C,IAASu4C,IACP,OAASv4C,EAAKgd,OACb,OAASu7B,GACLD,GAAqBC,GAAoBv4C,EACzCu4C,GAAoBA,GAAkBv7B,KAAOhd,GACpDy4C,IAA2B,EAC3BD,KACIA,IAAuB,EAiKEI,EAhKLC,GAiKxBC,IAAkB,WAChB,KAA0B,EAAnB1W,IACH5kC,GAAmBY,GAAmBw6C,GACtCA,GACN,IApKF,CACA,SAAS7D,GAA8BgE,EAAqBC,GAC1D,IAAKN,IAAkBD,GAA0B,CAC/CC,IAAiB,EACjB,GAEE,IADA,IAAIO,GAAqB,EAChBC,EAAWZ,GAAoB,OAASY,GAAY,CAC3D,IAAKF,EACH,GAAI,IAAMD,EAAqB,CAC7B,IAAI74C,EAAeg5C,EAASh5C,aAC5B,GAAI,IAAMA,EAAc,IAAI/C,EAA2B,MAClD,CACH,IAAIiD,EAAiB84C,EAAS94C,eAC5BC,EAAc64C,EAAS74C,YACzBlD,GACG,GAAM,GAAKoC,GAAM,GAAKw5C,GAAuB,GAAM,EAGtD57C,EAC6B,WAH7BA,GACE+C,IAAiBE,GAAkBC,IAGH,UAA3BlD,EAAwC,EACzCA,EAC6B,EAA3BA,EACA,CACV,CACA,IAAMA,IACF87C,GAAqB,EACvBE,GAAsBD,EAAU/7C,GACpC,MACGA,EAA2B2wB,GAK1B,KAAkC,GAJjC3wB,EAA2B4C,GAC1Bm5C,EACAA,IAAat3B,GAAqBzkB,EAA2B,MAG7DsD,GAA0By4C,EAAU/7C,KAClC87C,GAAqB,EACvBE,GAAsBD,EAAU/7C,IACxC+7C,EAAWA,EAASl8B,IACtB,QACOi8B,GACTP,IAAiB,CACnB,CACF,CACA,SAASG,KACPJ,GAA2BD,IAAuB,EAClD,IAAIO,EAAsB,EAC1B,IAAMJ,KAq7DR,WACE,IAAIz2C,EAAQD,OAAOC,MACnB,GAAIA,GAAS,aAAeA,EAAM1L,KAChC,OAAI0L,IAAUk3C,KACdA,GAAiCl3C,GAC1B,GAGT,OADAk3C,GAAiC,MAC1B,CACT,CA77DKC,KACEN,EAAsBJ,IACxBA,GAA6B,GAChC,IACE,IAAI93C,EAAc7C,KAAOs7C,EAAO,KAAMt5C,EAAOs4C,GAC7C,OAASt4C,GAET,CACA,IAAIgd,EAAOhd,EAAKgd,KACd7c,EAAYo5C,GAAmCv5C,EAAMa,GACnD,IAAMV,GACPH,EAAKgd,KAAO,KACX,OAASs8B,EAAQhB,GAAqBt7B,EAASs8B,EAAKt8B,KAAOA,EAC3D,OAASA,IAASu7B,GAAoBe,KAEtCA,EAAOt5C,GAAO,IAAM+4C,GAAuB,KAAmB,EAAZ54C,MAEpDs4C,IAA2B,IAC7Bz4C,EAAOgd,CACT,CACA+3B,GAA8BgE,GAAqB,EACrD,CACA,SAASQ,GAAmCv5C,EAAMa,GAChD,IACE,IAAIT,EAAiBJ,EAAKI,eACxBC,EAAcL,EAAKK,YACnBw0C,EAAkB70C,EAAK60C,gBACvBh1C,GAA6B,SAArBG,EAAKE,aACf,EAAIL,GAEJ,CACA,IAAI25C,EAAU,GAAKj6C,GAAMM,GACvBe,EAAO,GAAK44C,EACZC,EAAiB5E,EAAgB2E,IAC9B,IAAMC,EACL,KAAO74C,EAAOR,IAAmB,KAAOQ,EAAOP,KACjDw0C,EAAgB2E,GAAW74C,GAAsBC,EAAMC,IACpD44C,GAAkB54C,IAAgBb,EAAK8xC,cAAgBlxC,GAC9Df,IAAUe,CACZ,CAQA,GANAR,EAAiB0tB,GACjB1tB,EAAiBL,GACfC,EACAA,KAJFa,EAAc+gB,IAIWxhB,EAAiB,GAE1CC,EAAcL,EAAKo2C,aAEjB,IAAMh2C,GACLJ,IAASa,GAAe,IAAMwvC,IAC/B,OAASrwC,EAAKuxC,oBAEd,OACE,OAASlxC,GACP,OAASA,GACT3C,GAAiB2C,GAClBL,EAAKo2C,aAAe,KACpBp2C,EAAKq2C,iBAAmB,EAE7B,GACE,KAAwB,EAAjBj2C,IACPK,GAA0BT,EAAMI,GAChC,CAEA,IADAS,EAAcT,GAAkBA,KACZJ,EAAKq2C,iBAAkB,OAAOx1C,EAElD,OADA,OAASR,GAAe3C,GAAiB2C,GACjCwB,GAAqBzB,IAC3B,KAAK,EACL,KAAK,EACHA,EAAiB9B,GACjB,MACF,KAAK,GAML,QACE8B,EAAiB5B,SAJnB,KAAK,UACH4B,EAAiBxB,GASrB,OAJAyB,EAAcq5C,GAAkC3qB,KAAK,KAAM/uB,GAC3DI,EAAiB5C,GAAmB4C,EAAgBC,GACpDL,EAAKq2C,iBAAmBx1C,EACxBb,EAAKo2C,aAAeh2C,EACbS,CACT,CAIA,OAHA,OAASR,GAAe,OAASA,GAAe3C,GAAiB2C,GACjEL,EAAKq2C,iBAAmB,EACxBr2C,EAAKo2C,aAAe,KACb,CACT,CACA,SAASsD,GAAkC15C,EAAM25C,GAC/C,IAAIC,EAAuB55C,EAAKo2C,aAChC,GAAID,MAAyBn2C,EAAKo2C,eAAiBwD,EACjD,OAAO,KACT,IAAIC,EAAyC/rB,GAK7C,OAAI,KAJJ+rB,EAAyC95C,GACvCC,EACAA,IAAS4hB,GAAqBi4B,EAAyC,IAEhB,MACzDlI,GAAkB3xC,EAAM65C,EAAwCF,GAChEJ,GAAmCv5C,EAAMhC,MAClC,MAAQgC,EAAKo2C,cAAgBp2C,EAAKo2C,eAAiBwD,EACtDF,GAAkC3qB,KAAK,KAAM/uB,GAC7C,KACN,CACA,SAASm5C,GAAsBn5C,EAAMH,GACnC,GAAIs2C,KAAuB,OAAO,KAClCxE,GAAkB3xC,EAAMH,GAAO,EACjC,CAQA,SAASkpB,KAGP,OAFA,IAAM4vB,KACHA,GAA6B73C,MACzB63C,EACT,CACA,SAASmB,GAAqBC,GAC5B,OAAO,MAAQA,GACb,kBAAoBA,GACpB,mBAAqBA,EACnB,KACA,oBAAsBA,EACpBA,EACA/vC,GAAY,GAAK+vC,EACzB,CACA,SAASC,GAA4BjvC,EAAMkvC,GACzC,IAAIC,EAAOD,EAAUnyC,cAAcrD,cAAc,SAOjD,OANAy1C,EAAKvjD,KAAOsjD,EAAUtjD,KACtBujD,EAAK9gD,MAAQ6gD,EAAU7gD,MACvB2R,EAAK8yB,IAAMqc,EAAK90C,aAAa,OAAQ2F,EAAK8yB,IAC1Coc,EAAUp9C,WAAWwoC,aAAa6U,EAAMD,GACxClvC,EAAO,IAAIovC,SAASpvC,GACpBmvC,EAAKr9C,WAAWoqC,YAAYiT,GACrBnvC,CACT,CA4EA,IACE,IAAIqvC,GAAuB,EAC3BA,GAAuB79B,GAAwB7nB,OAC/C0lD,KACA,CACA,IAAIC,GACA99B,GAAwB69B,IAM5B59B,GAJI69B,GAA6Bl1C,cAM/B,MAJEk1C,GAA6B,GAAGC,cAChCD,GAA6B93C,MAAM,IAKzC,CACAia,GAAoBT,GAAe,kBACnCS,GAAoBR,GAAqB,wBACzCQ,GAAoBP,GAAiB,oBACrCO,GAAoB,WAAY,iBAChCA,GAAoB,UAAW,WAC/BA,GAAoB,WAAY,UAChCA,GAAoBN,GAAgB,mBACpCM,GAAoBL,GAAkB,qBACtCK,GAAoBJ,GAAmB,sBACvCI,GAAoBH,GAAgB,mBACpChY,GAAoB,eAAgB,CAAC,WAAY,cACjDA,GAAoB,eAAgB,CAAC,WAAY,cACjDA,GAAoB,iBAAkB,CAAC,aAAc,gBACrDA,GAAoB,iBAAkB,CAAC,aAAc,gBACrDH,GACE,WACA,oEAAoEzK,MAAM,MAE5EyK,GACE,WACA,uFAAuFzK,MACrF,MAGJyK,GAAsB,gBAAiB,CACrC,iBACA,WACA,YACA,UAEFA,GACE,mBACA,2DAA2DzK,MAAM,MAEnEyK,GACE,qBACA,6DAA6DzK,MAAM,MAErEyK,GACE,sBACA,8DAA8DzK,MAAM,MAEtE,IAAIumB,GACA,6NAA6NvmB,MAC3N,KAEJ8gD,GAAqB,IAAIv2C,IACvB,iEACGvK,MAAM,KACNy5B,OAAOlT,KAEd,SAAS9J,GAAqBN,EAAe4kC,GAC3CA,EAAmB,KAA0B,EAAnBA,GAC1B,IAAK,IAAI5lD,EAAI,EAAGA,EAAIghB,EAAclhB,OAAQE,IAAK,CAC7C,IAAI6lD,EAAmB7kC,EAAchhB,GACnCsN,EAAQu4C,EAAiBv4C,MAC3Bu4C,EAAmBA,EAAiB3kC,UACpClL,EAAG,CACD,IAAI8vC,OAAmB,EACvB,GAAIF,EACF,IACE,IAAIG,EAAaF,EAAiB/lD,OAAS,EAC3C,GAAKimD,EACLA,IACA,CACA,IAAIC,EAAuBH,EAAiBE,GAC1C96B,EAAW+6B,EAAqB/6B,SAChC5S,EAAgB2tC,EAAqB3tC,cAEvC,GADA2tC,EAAuBA,EAAqBnzB,SACxC5H,IAAa66B,GAAoBx4C,EAAMmL,uBACzC,MAAMzC,EACR8vC,EAAmBE,EACnB14C,EAAM+K,cAAgBA,EACtB,IACEytC,EAAiBx4C,EACnB,CAAE,MAAO8e,GACP0X,GAAkB1X,EACpB,CACA9e,EAAM+K,cAAgB,KACtBytC,EAAmB76B,CACrB,MAEA,IACE86B,EAAa,EACbA,EAAaF,EAAiB/lD,OAC9BimD,IACA,CAKA,GAHA96B,GADA+6B,EAAuBH,EAAiBE,IACR96B,SAChC5S,EAAgB2tC,EAAqB3tC,cACrC2tC,EAAuBA,EAAqBnzB,SACxC5H,IAAa66B,GAAoBx4C,EAAMmL,uBACzC,MAAMzC,EACR8vC,EAAmBE,EACnB14C,EAAM+K,cAAgBA,EACtB,IACEytC,EAAiBx4C,EACnB,CAAE,MAAO8e,GACP0X,GAAkB1X,EACpB,CACA9e,EAAM+K,cAAgB,KACtBytC,EAAmB76B,CACrB,CACJ,CACF,CACF,CACA,SAASE,GAA0BrL,EAAcmmC,GAC/C,IAAI19C,EAA2B09C,EAAcl4C,SAC7C,IAAWxF,IACRA,EAA2B09C,EAAcl4C,IACxC,IAAIqB,KACR,IAAI82C,EAAiBpmC,EAAe,WACpCvX,EAAyBoM,IAAIuxC,KAC1BC,GAAwBF,EAAenmC,EAAc,GAAG,GACzDvX,EAAyBmH,IAAIw2C,GACjC,CACA,SAASE,GAAoBtmC,EAAcumC,EAAwB7wC,GACjE,IAAIowC,EAAmB,EACvBS,IAA2BT,GAAoB,GAC/CO,GACE3wC,EACAsK,EACA8lC,EACAS,EAEJ,CACA,IAAIC,GAAkB,kBAAoB17C,KAAK6C,SAASC,SAAS,IAAIC,MAAM,GAC3E,SAASmtC,GAA2ByL,GAClC,IAAKA,EAAqBD,IAAkB,CAC1CC,EAAqBD,KAAmB,EACxCn3C,GAAgB0hB,SAAQ,SAAU/Q,GAChC,oBAAsBA,IACnB6lC,GAAmBhxC,IAAImL,IACtBsmC,GAAoBtmC,GAAc,EAAIymC,GACxCH,GAAoBtmC,GAAc,EAAIymC,GAC1C,IACA,IAAIrzC,EACF,IAAMqzC,EAAqBpmD,SACvBomD,EACAA,EAAqBrzC,cAC3B,OAASA,GACPA,EAAcozC,MACZpzC,EAAcozC,KAAmB,EACnCF,GAAoB,mBAAmB,EAAIlzC,GAC/C,CACF,CACA,SAASizC,GACPK,EACA1mC,EACA8lC,EACAS,GAEA,OAAQ94C,GAAiBuS,IACvB,KAAK,EACH,IAAI2mC,EAAkBC,GACtB,MACF,KAAK,EACHD,EAAkBE,GAClB,MACF,QACEF,EAAkBxiB,GAEtB2hB,EAAmBa,EAAgBtsB,KACjC,KACAra,EACA8lC,EACAY,GAEFC,OAAkB,GACjB/vC,IACE,eAAiBoJ,GAChB,cAAgBA,GAChB,UAAYA,IACb2mC,GAAkB,GACrBJ,OACI,IAAWI,EACTD,EAAgB7vC,iBAAiBmJ,EAAc8lC,EAAkB,CAC/DgB,SAAS,EACTC,QAASJ,IAEXD,EAAgB7vC,iBAAiBmJ,EAAc8lC,GAAkB,QACnE,IAAWa,EACTD,EAAgB7vC,iBAAiBmJ,EAAc8lC,EAAkB,CAC/DiB,QAASJ,IAEXD,EAAgB7vC,iBAAiBmJ,EAAc8lC,GAAkB,EACzE,CACA,SAASkB,GACPhnC,EACA8lC,EACArwC,EACAwxC,EACAP,GAEA,IAAIQ,EAAeD,EACnB,GACE,KAA0B,EAAnBnB,IACP,KAA0B,EAAnBA,IACP,OAASmB,EAET/wC,EAAG,OAAS,CACV,GAAI,OAAS+wC,EAAqB,OAClC,IAAIE,EAAUF,EAAoB3hD,IAClC,GAAI,IAAM6hD,GAAW,IAAMA,EAAS,CAClC,IAAIC,EAAYH,EAAoBn4C,UAAU+U,cAC9C,GACEujC,IAAcV,GACb,IAAMU,EAAU/mD,UAAY+mD,EAAUj/C,aAAeu+C,EAEtD,MACF,GAAI,IAAMS,EACR,IAAKA,EAAUF,EAAoBvhD,OAAQ,OAASyhD,GAAW,CAC7D,IAAIE,EAAWF,EAAQ7hD,IACvB,IAAI,IAAM+hD,GAAY,IAAMA,MAEtBA,EAAWF,EAAQr4C,UAAU+U,iBAClB6iC,GACV,IAAMW,EAAShnD,UACdgnD,EAASl/C,aAAeu+C,GAE5B,OACJS,EAAUA,EAAQzhD,MACpB,CACF,KAAO,OAAS0hD,GAAa,CAE3B,GAAI,QADJD,EAAU54C,GAA2B64C,IACf,OAEtB,GACE,KAFFC,EAAWF,EAAQ7hD,MAGjB,IAAM+hD,GACN,KAAOA,GACP,KAAOA,EACP,CACAJ,EAAsBC,EAAeC,EACrC,SAASjxC,CACX,CACAkxC,EAAYA,EAAUj/C,UACxB,CACF,CACA8+C,EAAsBA,EAAoBvhD,MAC5C,CACF8Q,IAAiB,WACf,IAAI/H,EAAay4C,EACf/uC,EAAoB3C,GAAeC,GACnCyL,EAAgB,GAClBhL,EAAG,CACD,IAAI+B,EAAY2P,GAA2BnW,IAAIuO,GAC/C,QAAI,IAAW/H,EAAW,CACxB,IAAIqvC,EAAqB3tC,GACvBzB,EAAiB8H,EACnB,OAAQA,GACN,IAAK,WACH,GAAI,IAAMvI,GAAiBhC,GAAc,MAAMS,EACjD,IAAK,UACL,IAAK,QACHoxC,EAAqBlqC,GACrB,MACF,IAAK,UACHlF,EAAiB,QACjBovC,EAAqB/rC,GACrB,MACF,IAAK,WACHrD,EAAiB,OACjBovC,EAAqB/rC,GACrB,MACF,IAAK,aACL,IAAK,YACH+rC,EAAqB/rC,GACrB,MACF,IAAK,QACH,GAAI,IAAM9F,EAAYoF,OAAQ,MAAM3E,EACtC,IAAK,WACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,cACHoxC,EAAqBlsC,GACrB,MACF,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,OACHksC,EAAqBjsC,GACrB,MACF,IAAK,cACL,IAAK,WACL,IAAK,YACL,IAAK,aACHisC,EAAqB/oC,GACrB,MACF,KAAK8I,GACL,KAAKC,GACL,KAAKC,GACH+/B,EAAqB9rC,GACrB,MACF,KAAKmM,GACH2/B,EAAqB3oC,GACrB,MACF,IAAK,SACL,IAAK,YACH2oC,EAAqBvtC,GACrB,MACF,IAAK,QACHutC,EAAqBzoC,GACrB,MACF,IAAK,OACL,IAAK,MACL,IAAK,QACHyoC,EAAqB1rC,GACrB,MACF,IAAK,oBACL,IAAK,qBACL,IAAK,gBACL,IAAK,cACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,YACH0rC,EAAqB1pC,GACrB,MACF,IAAK,SACL,IAAK,eACH0pC,EAAqBjoC,GAEzB,IAAIkoC,EAAiB,KAA0B,EAAnBzB,GAC1B0B,GACGD,IACA,WAAavnC,GAAgB,cAAgBA,GAChDynC,EAAiBF,EACb,OAAStvC,EACPA,EAAY,UACZ,KACFA,EACNsvC,EAAiB,GACjB,IACE,IAA2BG,EAAvBv8B,EAAW1c,EACf,OAAS0c,GAET,CACA,IAAIw8B,EAAYx8B,EAWhB,GAVAu8B,EAAoBC,EAAU74C,UAE7B,KADD64C,EAAYA,EAAUriD,MACF,KAAOqiD,GAAa,KAAOA,GAC7C,OAASD,GACT,OAASD,GAET,OADEE,EAAYhxC,GAAYwU,EAAUs8B,KAElCF,EAAe9/C,KACbmgD,GAAuBz8B,EAAUw8B,EAAWD,IAE9CF,EAAsB,MAC1Br8B,EAAWA,EAASzlB,MACtB,CACA,EAAI6hD,EAAevnD,SACfiY,EAAY,IAAIqvC,EAChBrvC,EACAC,EACA,KACAzC,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAOyK,EAAWmJ,UAAWmmC,IACtD,CACF,CACA,GAAI,KAA0B,EAAnBzB,GAAuB,CAM9B,GAFAwB,EACE,aAAetnC,GAAgB,eAAiBA,KAHlD/H,EACE,cAAgB+H,GAAgB,gBAAkBA,IAKlDvK,IAAgBF,MACf2C,EACCzC,EAAYsF,eAAiBtF,EAAYuF,eAC1CzM,GAA2B2J,KAC1BA,EAAelK,OAGfs5C,GAAsBrvC,KACxBA,EACEE,EAAkB5K,SAAW4K,EACzBA,GACCF,EAAYE,EAAkB/E,eAC7B6E,EAAU6L,aAAe7L,EAAU4vC,aACnCt6C,OACJ+5C,GAICA,EAAqB74C,EAItB,QAHCyJ,GAHCA,EACAzC,EAAYsF,eAAiBtF,EAAYwF,WAGvC1M,GAA2B2J,GAC3B,QAEAsvC,EACA5hD,EAAuBsS,GACxBqvC,EAAiBrvC,EAAe5S,IACjC4S,IAAmBsvC,GAChB,IAAMD,GACL,KAAOA,GACP,IAAMA,KAEZrvC,EAAiB,QACbovC,EAAqB,KAAQpvC,EAAiBzJ,GAClD64C,IAAuBpvC,GAAgB,CAwCzC,GAvCAqvC,EAAiBnsC,GACjBusC,EAAY,eACZF,EAAiB,eACjBt8B,EAAW,QACP,eAAiBnL,GAAgB,gBAAkBA,IACpDunC,EAAiB3pC,GACf+pC,EAAY,iBACZF,EAAiB,iBACjBt8B,EAAW,WAChBq8B,EACE,MAAQF,EACJrvC,EACArJ,GAAoB04C,GAC1BI,EACE,MAAQxvC,EACJD,EACArJ,GAAoBsJ,IAC1BD,EAAY,IAAIsvC,EACdI,EACAx8B,EAAW,QACXm8B,EACA7xC,EACA0C,IAEQzC,OAAS8xC,EACnBvvC,EAAU8C,cAAgB2sC,EAC1BC,EAAY,KACZp5C,GAA2B4J,KAAuB1J,KAC9C84C,EAAiB,IAAIA,EACrBE,EACAt8B,EAAW,QACXjT,EACAzC,EACA0C,IAEczC,OAASgyC,EACxBH,EAAexsC,cAAgBysC,EAC/BG,EAAYJ,GACfC,EAAuBG,EACnBL,GAAsBpvC,EACxBzB,EAAG,CAID,IAFAgxC,EAAiBvvC,EACjBiT,EAAW,EAETu8B,EAJFH,EAAiBD,EAKfI,EACAA,EAAoBI,GAAUJ,GAE9Bv8B,IAEF,IADAu8B,EAAoB,EAElBC,EAAYF,EACZE,EACAA,EAAYG,GAAUH,GAEtBD,IACF,KAAO,EAAIv8B,EAAWu8B,GACnBH,EAAiBO,GAAUP,GAAkBp8B,IAChD,KAAO,EAAIu8B,EAAoBv8B,GAC5Bs8B,EAAiBK,GAAUL,GAC1BC,IACJ,KAAOv8B,KAAc,CACnB,GACEo8B,IAAmBE,GAClB,OAASA,GACRF,IAAmBE,EAAe3hD,UAEpC,MAAM2Q,EACR8wC,EAAiBO,GAAUP,GAC3BE,EAAiBK,GAAUL,EAC7B,CACAF,EAAiB,IACnB,MACGA,EAAiB,KACtB,OAASD,GACPS,GACE7mC,EACAjJ,EACAqvC,EACAC,GACA,GAEJ,OAASrvC,GACP,OAASsvC,GACTO,GACE7mC,EACAsmC,EACAtvC,EACAqvC,GACA,EAEN,CAOF,GACE,YAHFD,GADArvC,EAAYxJ,EAAaG,GAAoBH,GAAclB,QAE/C2D,UAAY+G,EAAU/G,SAAST,gBAGxC,UAAY62C,GAAsB,SAAWrvC,EAAUnW,KAExD,IAAIkmD,EAAoBtmC,QACrB,GAAIV,GAAmB/I,GAC1B,GAAI0J,GACFqmC,EAAoBzlC,OACjB,CACHylC,EAAoB3lC,GACpB,IAAI4lC,EAAkB9lC,EACxB,OAECmlC,EAAqBrvC,EAAU/G,WAE9B,UAAYo2C,EAAmB72C,eAC9B,aAAewH,EAAUnW,MAAQ,UAAYmW,EAAUnW,KACpD2M,GACA0G,GAAgB1G,EAAWihB,eAC1Bs4B,EAAoBtmC,IACpBsmC,EAAoB1lC,GAqB/B,OAnBI0lC,IACCA,EAAoBA,EAAkBhoC,EAAcvR,IAErDwS,GACEC,EACA8mC,EACAvyC,EACA0C,IAIJ8vC,GAAmBA,EAAgBjoC,EAAc/H,EAAWxJ,GAC5D,aAAeuR,GACbvR,GACA,WAAawJ,EAAUnW,MACvB,MAAQ2M,EAAW2c,cAAc1mB,OACjCuO,GAAgBgF,EAAW,SAAUA,EAAUvT,QAEnDujD,EAAkBx5C,EAAaG,GAAoBH,GAAclB,OACzDyS,GACN,IAAK,WAEDgB,GAAmBinC,IACnB,SAAWA,EAAgB9jC,mBAE1B7R,GAAgB21C,EACdjiC,GAAoBvX,EACpBwX,GAAgB,MACrB,MACF,IAAK,WACHA,GAAgBD,GAAoB1T,GAAgB,KACpD,MACF,IAAK,YACH4T,IAAY,EACZ,MACF,IAAK,cACL,IAAK,UACL,IAAK,UACHA,IAAY,EACZC,GAAqBjF,EAAezL,EAAa0C,GACjD,MACF,IAAK,kBACH,GAAI4N,GAA0B,MAChC,IAAK,UACL,IAAK,QACHI,GAAqBjF,EAAezL,EAAa0C,GAErD,IAAI+vC,EACJ,GAAIzoC,GACFhJ,EAAG,CACD,OAAQuJ,GACN,IAAK,mBACH,IAAImoC,EAAY,qBAChB,MAAM1xC,EACR,IAAK,iBACH0xC,EAAY,mBACZ,MAAM1xC,EACR,IAAK,oBACH0xC,EAAY,sBACZ,MAAM1xC,EAEV0xC,OAAY,CACd,MAEAjoC,GACIH,GAAyBC,EAAcvK,KACtC0yC,EAAY,oBACb,YAAcnoC,GACd,MAAQvK,EAAYiC,UACnBywC,EAAY,sBACnBA,IACGvoC,IACC,OAASnK,EAAYiI,SACpBwC,IAAe,uBAAyBioC,EACrC,qBAAuBA,GACvBjoC,KACCgoC,EAAejxC,OAEfF,GAAY,UADXzL,GAAO6M,GACsB7M,GAAK5G,MAAQ4G,GAAK0I,YAChDkM,IAAc,IAErB,GADC+nC,EAAkB9mC,GAA4B1S,EAAY05C,IACvCnoD,SAChBmoD,EAAY,IAAIrsC,GAChBqsC,EACAnoC,EACA,KACAvK,EACA0C,GAEF+I,EAAczZ,KAAK,CAAE+F,MAAO26C,EAAW/mC,UAAW6mC,IAClDC,EACKC,EAAUphD,KAAOmhD,EAElB,QADEA,EAAejoC,GAAuBxK,MACd0yC,EAAUphD,KAAOmhD,MAEhDA,EAAevoC,GA9mUxB,SAAmCK,EAAcvK,GAC/C,OAAQuK,GACN,IAAK,iBACH,OAAOC,GAAuBxK,GAChC,IAAK,WACH,OAAI,KAAOA,EAAYkI,MAAc,MACrCmC,IAAmB,EACZD,IACT,IAAK,YACH,OACGG,EAAevK,EAAY1O,QACX8Y,IAAiBC,GAAmB,KAAOE,EAEhE,QACE,OAAO,KAEb,CA+lUYooC,CAA0BpoC,EAAcvK,GA9lUpD,SAAqCuK,EAAcvK,GACjD,GAAIyK,GACF,MAAO,mBAAqBF,IACxBP,IACAM,GAAyBC,EAAcvK,IACrCuK,EAAe/I,KAChBD,GAAeD,GAAYzL,GAAO,KAClC4U,IAAc,EACfF,GACA,KACN,OAAQA,GACN,IAAK,QAgBL,QACE,OAAO,KAfT,IAAK,WACH,KACIvK,EAAY8E,SAAW9E,EAAYgF,QAAUhF,EAAYiF,UAC1DjF,EAAY8E,SAAW9E,EAAYgF,OACpC,CACA,GAAIhF,EAAY4yC,MAAQ,EAAI5yC,EAAY4yC,KAAKroD,OAC3C,OAAOyV,EAAY4yC,KACrB,GAAI5yC,EAAYkI,MAAO,OAAOL,OAAOC,aAAa9H,EAAYkI,MAChE,CACA,OAAO,KACT,IAAK,iBACH,OAAOiC,IAA8B,OAASnK,EAAYiI,OACtD,KACAjI,EAAY1O,KAItB,CAikUYuhD,CAA4BtoC,EAAcvK,MAG5C,GADD0yC,EAAYhnC,GAA4B1S,EAAY,kBACrCzO,SACVioD,EAAkB,IAAInsC,GACtB,gBACA,cACA,KACArG,EACA0C,GAEF+I,EAAczZ,KAAK,CACjB+F,MAAOy6C,EACP7mC,UAAW+mC,IAEZF,EAAgBlhD,KAAOmhD,IAluBpC,SACEhnC,EACAlB,EACAuoC,EACA9yC,EACA0C,GAEA,GACE,WAAa6H,GACbuoC,GACAA,EAAgBz5C,YAAcqJ,EAC9B,CACA,IAAIlR,EAASm+C,IACRjtC,EAAkBpK,KAAqB,MAAM9G,QAEhDs+C,EAAY9vC,EAAY8vC,UAC1BA,GAIE,QAHEvlC,GAAgBA,EAAeulC,EAAUx3C,KAAqB,MAC5Dq3C,GAAqBplC,EAAawoC,YAClCjD,EAAU3Z,aAAa,iBACA3kC,EAAS+Y,EAAgBulC,EAAY,MAClE,IAAI/3C,EAAQ,IAAImM,GACd,SACA,SACA,KACAlE,EACA0C,GAEF+I,EAAczZ,KAAK,CACjB+F,MAAOA,EACP4T,UAAW,CACT,CACE+J,SAAU,KACV4H,SAAU,WACR,GAAItd,EAAYgD,kBACd,GAAI,IAAMwrC,GAA4B,CACpC,IAAIlkB,EAAWwlB,EACXD,GAA4BntC,EAAmBotC,GAC/C,IAAIE,SAASttC,GACjB0nB,GACE0oB,EACA,CACEzhD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQmR,EAAkBnR,OAC1BC,OAAQA,GAEV,KACA84B,EAEJ,MAEA,oBAAsB94B,IACnBuG,EAAMoL,iBACNmnB,EAAWwlB,EACRD,GAA4BntC,EAAmBotC,GAC/C,IAAIE,SAASttC,GACjB0nB,GACE0oB,EACA,CACEzhD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQmR,EAAkBnR,OAC1BC,OAAQA,GAEVA,EACA84B,GAER,EACAxnB,cAAeJ,KAIvB,CACF,CAypBMswC,CACEvnC,EACAlB,EACAvR,EACAgH,EACA0C,EAEJ,CACAqJ,GAAqBN,EAAe4kC,EACtC,GACF,CACA,SAAS8B,GAAuBz8B,EAAU4H,EAAUxa,GAClD,MAAO,CACL4S,SAAUA,EACV4H,SAAUA,EACVxa,cAAeA,EAEnB,CACA,SAAS4I,GAA4BunC,EAAazwC,GAChD,IACE,IAAI0wC,EAAc1wC,EAAY,UAAWmJ,EAAY,GACrD,OAASsnC,GAET,CACA,IAAIE,EAAaF,EACf55C,EAAY85C,EAAW95C,UAExB,KADD85C,EAAaA,EAAWtjD,MACH,KAAOsjD,GAAc,KAAOA,GAC/C,OAAS95C,IAET,OADE85C,EAAajyC,GAAY+xC,EAAaC,KAEtCvnC,EAAUynC,QACRjB,GAAuBc,EAAaE,EAAY95C,IAGpD,OADC85C,EAAajyC,GAAY+xC,EAAazwC,KAErCmJ,EAAU3Z,KACRmgD,GAAuBc,EAAaE,EAAY95C,KAEtD45C,EAAcA,EAAYhjD,MAC5B,CACA,OAAO0b,CACT,CACA,SAAS0mC,GAAUj5C,GACjB,GAAI,OAASA,EAAM,OAAO,KAC1B,GAAGA,EAAOA,EAAKnJ,aACRmJ,GAAQ,IAAMA,EAAKvJ,KAAO,KAAOuJ,EAAKvJ,KAC7C,OAAOuJ,GAAc,IACvB,CACA,SAASk5C,GACP7mC,EACA1T,EACAkI,EACAozC,EACAvB,GAEA,IACE,IAAI93C,EAAmBjC,EAAM6K,WAAY+I,EAAY,GACrD,OAAS1L,GAAUA,IAAWozC,GAE9B,CACA,IAAIC,EAAarzC,EACf5P,EAAYijD,EAAWjjD,UACvBgJ,EAAYi6C,EAAWj6C,UAEzB,GADAi6C,EAAaA,EAAWzjD,IACpB,OAASQ,GAAaA,IAAcgjD,EAAQ,MAC/C,IAAMC,GAAc,KAAOA,GAAc,KAAOA,GAC/C,OAASj6C,IACPhJ,EAAYgJ,EACdy4C,EAEI,OADEz4C,EAAY6H,GAAYjB,EAAQjG,KAEhC2R,EAAUynC,QACRjB,GAAuBlyC,EAAQ5G,EAAWhJ,IAE9CyhD,GAEA,OADEz4C,EAAY6H,GAAYjB,EAAQjG,KAEhC2R,EAAU3Z,KACRmgD,GAAuBlyC,EAAQ5G,EAAWhJ,KAEpD4P,EAASA,EAAOhQ,MAClB,CACA,IAAM0b,EAAUphB,QACdkhB,EAAczZ,KAAK,CAAE+F,MAAOA,EAAO4T,UAAWA,GAClD,CACA,IAAI4nC,GAA2B,SAC7BC,GAAuC,iBACzC,SAASC,GAAkCC,GACzC,OAAQ,kBAAoBA,EAASA,EAAS,GAAKA,GAChDhkD,QAAQ6jD,GAA0B,MAClC7jD,QAAQ8jD,GAAsC,GACnD,CACA,SAASz9B,GAAsB49B,EAAYC,GAEzC,OADAA,EAAaH,GAAkCG,GACxCH,GAAkCE,KAAgBC,CAC3D,CACA,SAASv9B,KAAU,CACnB,SAASikB,GAAQJ,EAAYrqC,EAAK+X,EAAK3Y,EAAOuR,EAAOipB,GACnD,OAAQ7hB,GACN,IAAK,WACH,kBAAoB3Y,EAChB,SAAWY,GACV,aAAeA,GAAO,KAAOZ,GAC9BuP,GAAe07B,EAAYjrC,IAC1B,kBAAoBA,GAAS,kBAAoBA,IAClD,SAAWY,GACX2O,GAAe07B,EAAY,GAAKjrC,GACpC,MACF,IAAK,YACHiM,GAA0Bg/B,EAAY,QAASjrC,GAC/C,MACF,IAAK,WACHiM,GAA0Bg/B,EAAY,WAAYjrC,GAClD,MACF,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,SACHiM,GAA0Bg/B,EAAYtyB,EAAK3Y,GAC3C,MACF,IAAK,QACHoQ,GAAkB66B,EAAYjrC,EAAOw6B,GACrC,MACF,IAAK,OACH,GAAI,WAAa55B,EAAK,CACpBqL,GAA0Bg/B,EAAY,OAAQjrC,GAC9C,KACF,CACF,IAAK,MACL,IAAK,OACH,GAAI,KAAOA,IAAU,MAAQY,GAAO,SAAW+X,GAAM,CACnDsyB,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA,GACE,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,GACpB,mBAAqBA,EACrB,CACAirC,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA3Y,EAAQ4Q,GAAY,GAAK5Q,GACzBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7B,MACF,IAAK,SACL,IAAK,aACH,GAAI,oBAAsBA,EAAO,CAC/BirC,EAAWj/B,aACT2M,EACA,wRAEF,KACF,CAgCA,GA/BE,oBAAsB6hB,IACnB,eAAiB7hB,GACb,UAAY/X,GACXyqC,GAAQJ,EAAYrqC,EAAK,OAAQ2Q,EAAMhU,KAAMgU,EAAO,MACtD85B,GACEJ,EACArqC,EACA,cACA2Q,EAAMqzC,YACNrzC,EACA,MAEF85B,GACEJ,EACArqC,EACA,aACA2Q,EAAMszC,WACNtzC,EACA,MAEF85B,GACEJ,EACArqC,EACA,aACA2Q,EAAMuzC,WACNvzC,EACA,QAED85B,GAAQJ,EAAYrqC,EAAK,UAAW2Q,EAAMwzC,QAASxzC,EAAO,MAC3D85B,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMjP,OAAQiP,EAAO,MACxD85B,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMP,OAAQO,EAAO,QAE9D,MAAQvR,GACR,kBAAoBA,GACpB,mBAAqBA,EACrB,CACAirC,EAAWp/B,gBAAgB8M,GAC3B,KACF,CACA3Y,EAAQ4Q,GAAY,GAAK5Q,GACzBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7B,MACF,IAAK,UACH,MAAQA,IAAUirC,EAAW9jB,QAAUC,IACvC,MACF,IAAK,WACH,MAAQpnB,GAAS2mB,GAA0B,SAAUskB,GACrD,MACF,IAAK,cACH,MAAQjrC,GAAS2mB,GAA0B,YAAaskB,GACxD,MACF,IAAK,0BACH,GAAI,MAAQjrC,EAAO,CACjB,GAAI,kBAAoBA,KAAW,WAAYA,GAC7C,MAAM3B,MAAMnD,EAAuB,KAErC,GAAI,OADJyd,EAAM3Y,EAAMglD,QACK,CACf,GAAI,MAAQzzC,EAAMlC,SAAU,MAAMhR,MAAMnD,EAAuB,KAC/D+vC,EAAWkL,UAAYx9B,CACzB,CACF,CACA,MACF,IAAK,WACHsyB,EAAWr8B,SACT5O,GAAS,oBAAsBA,GAAS,kBAAoBA,EAC9D,MACF,IAAK,QACHirC,EAAWga,MACTjlD,GAAS,oBAAsBA,GAAS,kBAAoBA,EAC9D,MACF,IAAK,iCACL,IAAK,2BACL,IAAK,eACL,IAAK,iBACL,IAAK,YACL,IAAK,MAEL,IAAK,YACH,MACF,IAAK,YACH,GACE,MAAQA,GACR,oBAAsBA,GACtB,mBAAqBA,GACrB,kBAAoBA,EACpB,CACAirC,EAAWp/B,gBAAgB,cAC3B,KACF,CACA8M,EAAM/H,GAAY,GAAK5Q,GACvBirC,EAAW7+B,eACT,+BACA,aACAuM,GAEF,MACF,IAAK,kBACL,IAAK,aACL,IAAK,YACL,IAAK,QACL,IAAK,cACL,IAAK,4BACL,IAAK,YACL,IAAK,gBACH,MAAQ3Y,GAAS,oBAAsBA,GAAS,kBAAoBA,EAChEirC,EAAWj/B,aAAa2M,EAAK,GAAK3Y,GAClCirC,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,QACL,IAAK,kBACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,QACL,IAAK,WACL,IAAK,0BACL,IAAK,wBACL,IAAK,iBACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,aACL,IAAK,OACL,IAAK,cACL,IAAK,WACL,IAAK,WACL,IAAK,WACL,IAAK,SACL,IAAK,WACL,IAAK,YACH3Y,GAAS,oBAAsBA,GAAS,kBAAoBA,EACxDirC,EAAWj/B,aAAa2M,EAAK,IAC7BsyB,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,UACL,IAAK,YACH,IAAO3Y,EACHirC,EAAWj/B,aAAa2M,EAAK,KAC7B,IAAO3Y,GACL,MAAQA,GACR,oBAAsBA,GACtB,kBAAoBA,EACpBirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7BirC,EAAWp/B,gBAAgB8M,GACjC,MACF,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACH,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,IACnBklD,MAAMllD,IACP,GAAKA,EACDirC,EAAWj/B,aAAa2M,EAAK3Y,GAC7BirC,EAAWp/B,gBAAgB8M,GAC/B,MACF,IAAK,UACL,IAAK,QACH,MAAQ3Y,GACR,oBAAsBA,GACtB,kBAAoBA,GACpBklD,MAAMllD,GACFirC,EAAWp/B,gBAAgB8M,GAC3BsyB,EAAWj/B,aAAa2M,EAAK3Y,GACjC,MACF,IAAK,UACH2mB,GAA0B,eAAgBskB,GAC1CtkB,GAA0B,SAAUskB,GACpCv/B,GAAqBu/B,EAAY,UAAWjrC,GAC5C,MACF,IAAK,eACHkM,GACE++B,EACA,+BACA,gBACAjrC,GAEF,MACF,IAAK,eACHkM,GACE++B,EACA,+BACA,gBACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,aACHkM,GACE++B,EACA,+BACA,cACAjrC,GAEF,MACF,IAAK,YACHkM,GACE++B,EACA,+BACA,aACAjrC,GAEF,MACF,IAAK,UACHkM,GACE++B,EACA,uCACA,WACAjrC,GAEF,MACF,IAAK,UACHkM,GACE++B,EACA,uCACA,WACAjrC,GAEF,MACF,IAAK,WACHkM,GACE++B,EACA,uCACA,YACAjrC,GAEF,MACF,IAAK,KACH0L,GAAqBu/B,EAAY,KAAMjrC,GACvC,MACF,IAAK,YACL,IAAK,cACH,MACF,WAEM,EAAI2Y,EAAIrd,SACT,MAAQqd,EAAI,IAAM,MAAQA,EAAI,IAC9B,MAAQA,EAAI,IAAM,MAAQA,EAAI,KAG7BjN,GAAqBu/B,EADtBtyB,EAAMjI,GAAQ3D,IAAI4L,IAAQA,EACa3Y,GAEhD,CACA,SAAS0rC,GAAuBT,EAAYrqC,EAAK+X,EAAK3Y,EAAOuR,EAAOipB,GAClE,OAAQ7hB,GACN,IAAK,QACHvI,GAAkB66B,EAAYjrC,EAAOw6B,GACrC,MACF,IAAK,0BACH,GAAI,MAAQx6B,EAAO,CACjB,GAAI,kBAAoBA,KAAW,WAAYA,GAC7C,MAAM3B,MAAMnD,EAAuB,KAErC,GAAI,OADJyd,EAAM3Y,EAAMglD,QACK,CACf,GAAI,MAAQzzC,EAAMlC,SAAU,MAAMhR,MAAMnD,EAAuB,KAC/D+vC,EAAWkL,UAAYx9B,CACzB,CACF,CACA,MACF,IAAK,WACH,kBAAoB3Y,EAChBuP,GAAe07B,EAAYjrC,IAC1B,kBAAoBA,GAAS,kBAAoBA,IAClDuP,GAAe07B,EAAY,GAAKjrC,GACpC,MACF,IAAK,WACH,MAAQA,GAAS2mB,GAA0B,SAAUskB,GACrD,MACF,IAAK,cACH,MAAQjrC,GAAS2mB,GAA0B,YAAaskB,GACxD,MACF,IAAK,UACH,MAAQjrC,IAAUirC,EAAW9jB,QAAUC,IACvC,MACF,IAAK,iCACL,IAAK,2BACL,IAAK,YACL,IAAK,MAEL,IAAK,YACL,IAAK,cACH,MACF,QACOvc,GAA6B1G,eAAewU,KAG3C,MAAQA,EAAI,IACZ,MAAQA,EAAI,KACVpH,EAAQoH,EAAIwsC,SAAS,WACtBvkD,EAAM+X,EAAIxP,MAAM,EAAGoI,EAAQoH,EAAIrd,OAAS,OAAI,GAG7C,oBADCk/B,EAAY,OADZA,EAAYyQ,EAAW5hC,KAAqB,MACZmxB,EAAU7hB,GAAO,OAEhDsyB,EAAW74B,oBAAoBxR,EAAK45B,EAAWjpB,GACjD,oBAAsBvR,GAWxB2Y,KAAOsyB,EACFA,EAAWtyB,GAAO3Y,GACnB,IAAOA,EACLirC,EAAWj/B,aAAa2M,EAAK,IAC7BjN,GAAqBu/B,EAAYtyB,EAAK3Y,IAb1C,oBAAsBw6B,GACpB,OAASA,IACR7hB,KAAOsyB,EACHA,EAAWtyB,GAAO,KACnBsyB,EAAWhE,aAAatuB,IACxBsyB,EAAWp/B,gBAAgB8M,IACjCsyB,EAAW94B,iBAAiBvR,EAAKZ,EAAOuR,KAUpD,CACA,SAASu1B,GAAqBmE,EAAYrqC,EAAK2Q,GAC7C,OAAQ3Q,GACN,IAAK,MACL,IAAK,OACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACH,MACF,IAAK,MACH+lB,GAA0B,QAASskB,GACnCtkB,GAA0B,OAAQskB,GAClC,IAEEE,EAFEia,GAAS,EACXC,GAAY,EAEd,IAAKla,KAAW55B,EACd,GAAIA,EAAMpN,eAAegnC,GAAU,CACjC,IAAIt8B,EAAY0C,EAAM45B,GACtB,GAAI,MAAQt8B,EACV,OAAQs8B,GACN,IAAK,MACHia,GAAS,EACT,MACF,IAAK,SACHC,GAAY,EACZ,MACF,IAAK,WACL,IAAK,0BACH,MAAMhnD,MAAMnD,EAAuB,IAAK0F,IAC1C,QACEyqC,GAAQJ,EAAYrqC,EAAKuqC,EAASt8B,EAAW0C,EAAO,MAE5D,CAIF,OAHA8zC,GACEha,GAAQJ,EAAYrqC,EAAK,SAAU2Q,EAAMu5B,OAAQv5B,EAAO,WAC1D6zC,GAAU/Z,GAAQJ,EAAYrqC,EAAK,MAAO2Q,EAAM+1B,IAAK/1B,EAAO,OAE9D,IAAK,QACHoV,GAA0B,UAAWskB,GACrC,IAAItoC,EAAgBwoC,EAAUt8B,EAAYw2C,EAAY,KACpD53C,EAAU,KACVa,EAAiB,KACnB,IAAK82C,KAAU7zC,EACb,GAAIA,EAAMpN,eAAeihD,GAAS,CAChC,IAAIE,EAAgB/zC,EAAM6zC,GAC1B,GAAI,MAAQE,EACV,OAAQF,GACN,IAAK,OACHC,EAAYC,EACZ,MACF,IAAK,OACHz2C,EAAYy2C,EACZ,MACF,IAAK,UACH73C,EAAU63C,EACV,MACF,IAAK,iBACHh3C,EAAiBg3C,EACjB,MACF,IAAK,QACHna,EAAUma,EACV,MACF,IAAK,eACH3iD,EAAe2iD,EACf,MACF,IAAK,WACL,IAAK,0BACH,GAAI,MAAQA,EACV,MAAMjnD,MAAMnD,EAAuB,IAAK0F,IAC1C,MACF,QACEyqC,GAAQJ,EAAYrqC,EAAKwkD,EAAQE,EAAe/zC,EAAO,MAE/D,CAYF,OAXA/C,GACEy8B,EACAE,EACAxoC,EACA8K,EACAa,EACAO,EACAw2C,GACA,QAEF54C,GAAMw+B,GAER,IAAK,SAGH,IAAKoa,KAFL1+B,GAA0B,UAAWskB,GACrCma,EAASv2C,EAAYs8B,EAAU,KACb55B,EAChB,GACEA,EAAMpN,eAAekhD,IACe,OAAlC1iD,EAAe4O,EAAM8zC,IAEvB,OAAQA,GACN,IAAK,QACHla,EAAUxoC,EACV,MACF,IAAK,eACHkM,EAAYlM,EACZ,MACF,IAAK,WACHyiD,EAASziD,EACX,QACE0oC,GAAQJ,EAAYrqC,EAAKykD,EAAW1iD,EAAc4O,EAAO,MAQjE,OANA3Q,EAAMuqC,EACN55B,EAAQ1C,EACRo8B,EAAWr8B,WAAaw2C,OACxB,MAAQxkD,EACJ+N,GAAcs8B,IAAcma,EAAQxkD,GAAK,GACzC,MAAQ2Q,GAAS5C,GAAcs8B,IAAcma,EAAQ7zC,GAAO,IAElE,IAAK,WAGH,IAAK1C,KAFL8X,GAA0B,UAAWskB,GACrCE,EAAUka,EAAYD,EAAS,KACb7zC,EAChB,GACEA,EAAMpN,eAAe0K,IACe,OAAlClM,EAAe4O,EAAM1C,IAEvB,OAAQA,GACN,IAAK,QACHu2C,EAASziD,EACT,MACF,IAAK,eACH0iD,EAAY1iD,EACZ,MACF,IAAK,WACHwoC,EAAUxoC,EACV,MACF,IAAK,0BACH,GAAI,MAAQA,EAAc,MAAMtE,MAAMnD,EAAuB,KAC7D,MACF,QACEmwC,GAAQJ,EAAYrqC,EAAKiO,EAAWlM,EAAc4O,EAAO,MAIjE,OAFAnC,GAAa67B,EAAYma,EAAQC,EAAWla,QAC5C1+B,GAAMw+B,GAER,IAAK,SACH,IAAKx9B,KAAW8D,EACd,GACEA,EAAMpN,eAAesJ,IACO,OAA1B23C,EAAS7zC,EAAM9D,IAEjB,GACO,aADCA,EAEJw9B,EAAWj8B,SACTo2C,GACA,oBAAsBA,GACtB,kBAAoBA,OAGtB/Z,GAAQJ,EAAYrqC,EAAK6M,EAAS23C,EAAQ7zC,EAAO,MAEzD,OACF,IAAK,SACHoV,GAA0B,SAAUskB,GACpCtkB,GAA0B,QAASskB,GACnC,MACF,IAAK,SACL,IAAK,SACHtkB,GAA0B,OAAQskB,GAClC,MACF,IAAK,QACL,IAAK,QACH,IAAKma,EAAS,EAAGA,EAASx+B,GAAgBtrB,OAAQ8pD,IAChDz+B,GAA0BC,GAAgBw+B,GAASna,GACrD,MACF,IAAK,QACHtkB,GAA0B,QAASskB,GACnCtkB,GAA0B,OAAQskB,GAClC,MACF,IAAK,UACHtkB,GAA0B,SAAUskB,GACpC,MACF,IAAK,QACL,IAAK,SACL,IAAK,OACHtkB,GAA0B,QAASskB,GACjCtkB,GAA0B,OAAQskB,GACtC,IAAK,OACL,IAAK,OACL,IAAK,KACL,IAAK,MACL,IAAK,KACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,MACL,IAAK,WACH,IAAK38B,KAAkBiD,EACrB,GACEA,EAAMpN,eAAemK,IACc,OAAjC82C,EAAS7zC,EAAMjD,IAEjB,OAAQA,GACN,IAAK,WACL,IAAK,0BACH,MAAMjQ,MAAMnD,EAAuB,IAAK0F,IAC1C,QACEyqC,GAAQJ,EAAYrqC,EAAK0N,EAAgB82C,EAAQ7zC,EAAO,MAEhE,OACF,QACE,GAAId,GAAgB7P,GAAM,CACxB,IAAK0kD,KAAiB/zC,EACpBA,EAAMpN,eAAemhD,UAEnB,KADEF,EAAS7zC,EAAM+zC,KAEf5Z,GACET,EACArqC,EACA0kD,EACAF,EACA7zC,OACA,IAER,MACF,EAEJ,IAAK5O,KAAgB4O,EACnBA,EAAMpN,eAAexB,KAEnB,OADEyiD,EAAS7zC,EAAM5O,KAEf0oC,GAAQJ,EAAYrqC,EAAK+B,EAAcyiD,EAAQ7zC,EAAO,MAC9D,CA0UA,IAAIksC,GAAgB,KAClBM,GAAuB,KACzB,SAASlX,GAAkCkb,GACzC,OAAO,IAAMA,EAAqBpmD,SAC9BomD,EACAA,EAAqBrzC,aAC3B,CACA,SAASlL,GAAkBD,GACzB,OAAQA,GACN,IAAK,6BACH,OAAO,EACT,IAAK,qCACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASI,GAAwB4hD,EAAiBnoD,GAChD,GAAI,IAAMmoD,EACR,OAAQnoD,GACN,IAAK,MACH,OAAO,EACT,IAAK,OACH,OAAO,EACT,QACE,OAAO,EAEb,OAAO,IAAMmoD,GAAmB,kBAAoBnoD,EAChD,EACAmoD,CACN,CACA,SAAS99B,GAAqBrqB,EAAMmU,GAClC,MACE,aAAenU,GACf,aAAeA,GACf,kBAAoBmU,EAAMlC,UAC1B,kBAAoBkC,EAAMlC,UAC1B,kBAAoBkC,EAAMlC,UACzB,kBAAoBkC,EAAMi0C,yBACzB,OAASj0C,EAAMi0C,yBACf,MAAQj0C,EAAMi0C,wBAAwBR,MAE5C,CACA,IAAIhF,GAAiC,KAWrC,IAAI9F,GAAkB,oBAAsB7Z,WAAaA,gBAAa,EACpEub,GAAgB,oBAAsBR,aAAeA,kBAAe,EACpEqK,GAAe,oBAAsB1S,QAAUA,aAAU,EACzD2M,GACE,oBAAsBgG,eAClBA,eACA,qBAAuBD,GACrB,SAAUxrB,GACR,OAAOwrB,GACJ71B,QAAQ,MACR5H,KAAKiS,GACLt6B,MAAMgmD,GACX,EACAzL,GACV,SAASyL,GAAsB/9B,GAC7ByY,YAAW,WACT,MAAMzY,CACR,GACF,CACA,SAASumB,GAAsByX,EAAgBC,GAC7C,IAAInqD,EAAOmqD,EACTC,EAAQ,EACV,EAAG,CACD,IAAI7V,EAAWv0C,EAAKkjB,YAEpB,GADAgnC,EAAe/X,YAAYnyC,GACvBu0C,GAAY,IAAMA,EAASt0C,SAC7B,GAA6B,QAAvBD,EAAOu0C,EAAS5tC,MAAuB,CAC3C,GAAI,IAAMyjD,EAGR,OAFAF,EAAe/X,YAAYoC,QAC3B7B,GAAiByX,GAGnBC,GACF,KAAQ,MAAQpqD,GAAQ,OAASA,GAAQ,OAASA,GAASoqD,IAC7DpqD,EAAOu0C,CACT,OAASv0C,GACT0yC,GAAiByX,EACnB,CACA,SAAS5H,GAAwByE,GAC/B,IAAIzS,EAAWyS,EAAUjzC,WAEzB,IADAwgC,GAAY,KAAOA,EAASt0C,WAAas0C,EAAWA,EAASrxB,aACtDqxB,GAAY,CACjB,IAAIv0C,EAAOu0C,EAEX,OADAA,EAAWA,EAASrxB,YACZljB,EAAK8Q,UACX,IAAK,OACL,IAAK,OACL,IAAK,OACHyxC,GAAwBviD,GACxBkO,GAAsBlO,GACtB,SACF,IAAK,SACL,IAAK,QACH,SACF,IAAK,OACH,GAAI,eAAiBA,EAAKyrC,IAAIp7B,cAAe,SAEjD22C,EAAU7U,YAAYnyC,EACxB,CACF,CA+EA,SAASgsB,GAAkBhsB,GACzB,KAAO,MAAQA,EAAMA,EAAOA,EAAKkjB,YAAa,CAC5C,IAAIjjB,EAAWD,EAAKC,SACpB,GAAI,IAAMA,GAAY,IAAMA,EAAU,MACtC,GAAI,IAAMA,EAAU,CAElB,GACE,OAFFA,EAAWD,EAAK2G,OAGd,OAAS1G,GACT,OAASA,GACT,OAASA,GACT,MAAQA,EAER,MACF,GAAI,OAASA,EAAU,OAAO,IAChC,CACF,CACA,OAAOD,CACT,CACA,SAASsO,GAA0B+7C,GACjCA,EAAiBA,EAAeC,gBAChC,IAAK,IAAIF,EAAQ,EAAGC,GAAkB,CACpC,GAAI,IAAMA,EAAepqD,SAAU,CACjC,IAAI0G,EAAO0jD,EAAe1jD,KAC1B,GAAI,MAAQA,GAAQ,OAASA,GAAQ,OAASA,EAAM,CAClD,GAAI,IAAMyjD,EAAO,OAAOC,EACxBD,GACF,KAAO,OAASzjD,GAAQyjD,GAC1B,CACAC,EAAiBA,EAAeC,eAClC,CACA,OAAO,IACT,CACA,SAASjf,GAAyB3pC,EAAMmU,EAAO00C,GAE7C,OADA10C,EAAQs1B,GAAkCof,GAClC7oD,GACN,IAAK,OAEH,KADAA,EAAOmU,EAAMjO,iBACF,MAAMjF,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,IAAK,OAEH,KADAA,EAAOmU,EAAM+9B,MACF,MAAMjxC,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,IAAK,OAEH,KADAA,EAAOmU,EAAM1D,MACF,MAAMxP,MAAMnD,EAAuB,MAC9C,OAAOkC,EACT,QACE,MAAMiB,MAAMnD,EAAuB,MAEzC,CACA,IAAI03C,GAAkB,IAAIpoC,IACxB07C,GAAiB,IAAIt7C,IACvB,SAASulC,GAAiBuS,GACxB,MAAO,oBAAsBA,EAAUyD,YACnCzD,EAAUyD,cACVzD,EAAUh0C,aAChB,CACA,IAAI03C,GAAqBnkD,EAAwBokD,EACjDpkD,EAAwBokD,EAAI,CAC1BC,EAUF,WACE,IAAIC,EAAuBH,GAAmBE,IAC5CE,EAAex0C,KACjB,OAAOu0C,GAAwBC,CACjC,EAbEC,EAcF,SAA0B90C,GACxB,IAAI+0C,EAAWz8C,GAAoB0H,GACnC,OAAS+0C,GAAY,IAAMA,EAAS9lD,KAAO,SAAW8lD,EAAStpD,KAC3Dm+B,GAAmBmrB,GACnBN,GAAmBK,EAAE90C,EAC3B,EAlBEg1C,EAuCF,SAAqBpnC,GACnB6mC,GAAmBO,EAAEpnC,GACrBqnC,GAAa,eAAgBrnC,EAAM,KACrC,EAzCEsnC,EA0CF,SAAoBtnC,EAAM6nB,GACxBgf,GAAmBS,EAAEtnC,EAAM6nB,GAC3Bwf,GAAa,aAAcrnC,EAAM6nB,EACnC,EA5CE0f,EA6CF,SAAiBvnC,EAAMwnC,EAAIh4C,GACzBq3C,GAAmBU,EAAEvnC,EAAMwnC,EAAIh4C,GAC/B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,GAAQwnC,EAAI,CAC/B,IAAIE,EACF,2BACAj5C,GAA+C+4C,GAC/C,KACF,UAAYA,GACRh4C,GAAWA,EAAQm4C,aACfD,GACA,iBACAj5C,GACEe,EAAQm4C,aAEV,KACF,kBAAoBn4C,EAAQo4C,aACzBF,GACC,gBACAj5C,GACEe,EAAQo4C,YAEV,OAKLF,GACC,UACAj5C,GAA+CuR,GAC/C,KACN,IAAI5G,EAAMsuC,EACV,OAAQF,GACN,IAAK,QACHpuC,EAAM45B,GAAYhzB,GAClB,MACF,IAAK,SACH5G,EAAMyuC,GAAa7nC,GAEvBqzB,GAAgBziC,IAAIwI,KAChB4G,EAAOrhB,EACP,CACEipC,IAAK,UACL5nB,KACE,UAAYwnC,GAAMh4C,GAAWA,EAAQm4C,iBAAc,EAAS3nC,EAC9DwnC,GAAIA,GAENh4C,GAEF6jC,GAAgBvzC,IAAIsZ,EAAK4G,GACzB,OAAS7Q,EAAc6gC,cAAc0X,IAClC,UAAYF,GACXr4C,EAAc6gC,cAAciD,GAA6B75B,KAC1D,WAAaouC,GACZr4C,EAAc6gC,cAAc8X,GAAyB1uC,MAEvDmuB,GADEigB,EAAKr4C,EAAcrD,cAAc,QACV,OAAQkU,GACjC7U,GAAoBq8C,GACpBr4C,EAAc4gC,KAAKpD,YAAY6a,IACrC,CACF,EAxGEO,EAyGF,SAAuB/nC,EAAMxQ,GAC3Bq3C,GAAmBkB,EAAE/nC,EAAMxQ,GAC3B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,EAAM,CACzB,IAAIwnC,EAAKh4C,GAAW,kBAAoBA,EAAQg4C,GAAKh4C,EAAQg4C,GAAK,SAChEE,EACE,iCACAj5C,GAA+C+4C,GAC/C,YACA/4C,GAA+CuR,GAC/C,KACF5G,EAAMsuC,EACR,OAAQF,GACN,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,eACL,IAAK,SACL,IAAK,SACHpuC,EAAMyuC,GAAa7nC,GAEvB,IACGqzB,GAAgBziC,IAAIwI,KACnB4G,EAAOrhB,EAAO,CAAEipC,IAAK,gBAAiB5nB,KAAMA,GAAQxQ,GACtD6jC,GAAgBvzC,IAAIsZ,EAAK4G,GACzB,OAAS7Q,EAAc6gC,cAAc0X,IACrC,CACA,OAAQF,GACN,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,eACL,IAAK,SACL,IAAK,SACH,GAAIr4C,EAAc6gC,cAAc8X,GAAyB1uC,IACvD,OAGNmuB,GADAigB,EAAKr4C,EAAcrD,cAAc,QACR,OAAQkU,GACjC7U,GAAoBq8C,GACpBr4C,EAAc4gC,KAAKpD,YAAY6a,EACjC,CACF,CACF,EAnJEQ,EAqMF,SAAuBjgB,EAAKv4B,GAC1Bq3C,GAAmBmB,EAAEjgB,EAAKv4B,GAC1B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB44B,EAAK,CACxB,IAAIkgB,EAAUn9C,GAAqBqE,GAAejE,iBAChDkO,EAAMyuC,GAAa9f,GACnB2K,EAAWuV,EAAQz6C,IAAI4L,GACzBs5B,KACIA,EAAWvjC,EAAc6gC,cAAc8X,GAAyB1uC,OAE9D2uB,EAAMppC,EAAO,CAAEopC,IAAKA,EAAKkN,OAAO,GAAMzlC,IACvCA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7B8uC,GAA2BngB,EAAKv4B,GAElCrE,GADCunC,EAAWvjC,EAAcrD,cAAc,WAExCy7B,GAAqBmL,EAAU,OAAQ3K,GACvC54B,EAAc4gC,KAAKpD,YAAY+F,IAChCA,EAAW,CACV70C,KAAM,SACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAO,MAETy5B,EAAQnoD,IAAIsZ,EAAKs5B,GACrB,CACF,EA7NExiB,EAmJF,SAAsBlQ,EAAM80B,EAAYtlC,GACtCq3C,GAAmB32B,EAAElQ,EAAM80B,EAAYtlC,GACvC,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB6Q,EAAM,CACzB,IAAIlP,EAAShG,GAAqBqE,GAAenE,gBAC/CoO,EAAM45B,GAAYhzB,GACpB80B,EAAaA,GAAc,UAC3B,IAAIpC,EAAW5hC,EAAOtD,IAAI4L,GAC1B,IAAKs5B,EAAU,CACb,IAAIlkB,EAAQ,CAAEukB,QAAS,EAAGc,QAAS,MACnC,GACGnB,EAAWvjC,EAAc6gC,cACxBiD,GAA6B75B,IAG/BoV,EAAMukB,QAAU,MACb,CACH/yB,EAAOrhB,EACL,CAAEipC,IAAK,aAAc5nB,KAAMA,EAAM,kBAAmB80B,GACpDtlC,IAEDA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7Bk6B,GAA+BtzB,EAAMxQ,GACvC,IAAI24C,EAAQzV,EAAWvjC,EAAcrD,cAAc,QACnDX,GAAoBg9C,GACpB5gB,GAAqB4gB,EAAM,OAAQnoC,GACnCmoC,EAAKjV,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GACvC0U,EAAKzU,OAASrjB,EACd83B,EAAKxU,QAAUF,CACjB,IACA0U,EAAKv1C,iBAAiB,QAAQ,WAC5B4b,EAAMukB,SAAW,CACnB,IACAoV,EAAKv1C,iBAAiB,SAAS,WAC7B4b,EAAMukB,SAAW,CACnB,IACAvkB,EAAMukB,SAAW,EACjBqV,GAAiB1V,EAAUoC,EAAY3lC,EACzC,CACAujC,EAAW,CACT70C,KAAM,aACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAOA,GAET1d,EAAOhR,IAAIsZ,EAAKs5B,EAClB,CACF,CACF,EAlME2V,EA6NF,SAA6BtgB,EAAKv4B,GAChCq3C,GAAmBwB,EAAEtgB,EAAKv4B,GAC1B,IAAIL,EAAgBs4C,GACpB,GAAIt4C,GAAiB44B,EAAK,CACxB,IAAIkgB,EAAUn9C,GAAqBqE,GAAejE,iBAChDkO,EAAMyuC,GAAa9f,GACnB2K,EAAWuV,EAAQz6C,IAAI4L,GACzBs5B,KACIA,EAAWvjC,EAAc6gC,cAAc8X,GAAyB1uC,OAE9D2uB,EAAMppC,EAAO,CAAEopC,IAAKA,EAAKkN,OAAO,EAAIp3C,KAAM,UAAY2R,IACvDA,EAAU6jC,GAAgB7lC,IAAI4L,KAC7B8uC,GAA2BngB,EAAKv4B,GAElCrE,GADCunC,EAAWvjC,EAAcrD,cAAc,WAExCy7B,GAAqBmL,EAAU,OAAQ3K,GACvC54B,EAAc4gC,KAAKpD,YAAY+F,IAChCA,EAAW,CACV70C,KAAM,SACNqpB,SAAUwrB,EACVrE,MAAO,EACP7f,MAAO,MAETy5B,EAAQnoD,IAAIsZ,EAAKs5B,GACrB,CACF,GAzOA,IAAI+U,GAAiB,qBAAuB57C,SAAW,KAAOA,SAC9D,SAASw7C,GAAazf,EAAK5nB,EAAM6nB,GAC/B,IAAI14B,EAAgBs4C,GACpB,GAAIt4C,GAAiB,kBAAoB6Q,GAAQA,EAAM,CACrD,IAAIsoC,EACF75C,GAA+CuR,GACjDsoC,EACE,aAAe1gB,EAAM,YAAc0gB,EAAqB,KAC1D,kBAAoBzgB,IACjBygB,GAAsB,iBAAmBzgB,EAAc,MAC1D8e,GAAe/1C,IAAI03C,KAChB3B,GAAeh7C,IAAI28C,GACnB1gB,EAAM,CAAEA,IAAKA,EAAKC,YAAaA,EAAa7nB,KAAMA,GACnD,OAAS7Q,EAAc6gC,cAAcsY,KAEnC/gB,GADEvnB,EAAO7Q,EAAcrD,cAAc,QACV,OAAQ87B,GACnCz8B,GAAoB6U,GACpB7Q,EAAc4gC,KAAKpD,YAAY3sB,IACrC,CACF,CAuNA,SAASqnB,GAAYxpC,EAAM0qD,EAAcz9B,EAAc+kB,GACrD,IAAIrrC,GAA4BA,EAC9Bb,EAAwBN,SACtButC,GAAiBpsC,GACjB,KACJ,IAAKA,EAA0B,MAAM1F,MAAMnD,EAAuB,MAClE,OAAQkC,GACN,IAAK,OACL,IAAK,QACH,OAAO,KACT,IAAK,QACH,MAAO,kBAAoBitB,EAAagqB,YACtC,kBAAoBhqB,EAAa9K,MAC7BuoC,EAAevV,GAAYloB,EAAa9K,OAIzC6vB,GAHA/kB,EAAehgB,GACdtG,GACAwG,iBAC8BwC,IAAI+6C,MAEhC1Y,EAAkB,CAClBhyC,KAAM,QACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,MAET1D,EAAahrB,IAAIyoD,EAAc1Y,IACjCA,GACA,CAAEhyC,KAAM,OAAQqpB,SAAU,KAAMmnB,MAAO,EAAG7f,MAAO,MACvD,IAAK,OACH,GACE,eAAiB1D,EAAa8c,KAC9B,kBAAoB9c,EAAa9K,MACjC,kBAAoB8K,EAAagqB,WACjC,CACAj3C,EAAOm1C,GAAYloB,EAAa9K,MAChC,IAAIwoC,EAAa19C,GACbtG,GACAwG,gBACFy9C,EAAeD,EAAWh7C,IAAI3P,GAoChC,GAnCA4qD,IACIjkD,EACAA,EAAyB2K,eAAiB3K,EAC3CikD,EAAe,CACd5qD,KAAM,aACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,CAAEukB,QAAS,EAAGc,QAAS,OAEhC2U,EAAW1oD,IAAIjC,EAAM4qD,IACpBD,EAAahkD,EAAyBwrC,cACrCiD,GAA6Bp1C,OAE5B2qD,EAAWtV,KACVuV,EAAavhC,SAAWshC,EACzBC,EAAaj6B,MAAMukB,QAAU,GAChCM,GAAgBziC,IAAI/S,KAChBitB,EAAe,CACf8c,IAAK,UACL4f,GAAI,QACJxnC,KAAM8K,EAAa9K,KACnB6nB,YAAa/c,EAAa+c,YAC1B6gB,UAAW59B,EAAa49B,UACxB9V,MAAO9nB,EAAa8nB,MACpB+V,SAAU79B,EAAa69B,SACvBC,eAAgB99B,EAAa89B,gBAE/BvV,GAAgBvzC,IAAIjC,EAAMitB,GAC1B09B,GAsDZ,SAA2Br5C,EAAeiK,EAAKyvC,EAAcr6B,GAC3Drf,EAAc6gC,cAAc,mCAAqC52B,EAAM,KAClEoV,EAAMukB,QAAU,GACf35B,EAAMjK,EAAcrD,cAAc,QACnC0iB,EAAMqlB,QAAUz6B,EACjBA,EAAIxG,iBAAiB,QAAQ,WAC3B,OAAQ4b,EAAMukB,SAAW,CAC3B,IACA35B,EAAIxG,iBAAiB,SAAS,WAC5B,OAAQ4b,EAAMukB,SAAW,CAC3B,IACAxL,GAAqBnuB,EAAK,OAAQyvC,GAClC19C,GAAoBiO,GACpBjK,EAAc4gC,KAAKpD,YAAYvzB,GACrC,CAnEc0vC,CACEtkD,EACA3G,EACAitB,EACA29B,EAAaj6B,SAEjB+5B,GAAgB,OAAS1Y,EAC3B,MAAM/wC,MAAMnD,EAAuB,IAAK,KAC1C,OAAO8sD,CACT,CACA,GAAIF,GAAgB,OAAS1Y,EAC3B,MAAM/wC,MAAMnD,EAAuB,IAAK,KAC1C,OAAO,KACT,IAAK,SACH,OACG4sD,EAAez9B,EAAamqB,MAE7B,kBADCnqB,EAAeA,EAAaid,MAE7BwgB,GACA,oBAAsBA,GACtB,kBAAoBA,GACdA,EAAeV,GAAa/8B,IAI7B+kB,GAHA/kB,EAAehgB,GACdtG,GACA0G,kBAC8BsC,IAAI+6C,MAEhC1Y,EAAkB,CAClBhyC,KAAM,SACNqpB,SAAU,KACVmnB,MAAO,EACP7f,MAAO,MAET1D,EAAahrB,IAAIyoD,EAAc1Y,IACjCA,GACA,CAAEhyC,KAAM,OAAQqpB,SAAU,KAAMmnB,MAAO,EAAG7f,MAAO,MAEzD,QACE,MAAM1vB,MAAMnD,EAAuB,IAAKkC,IAE9C,CACA,SAASm1C,GAAYhzB,GACnB,MAAO,SAAWvR,GAA+CuR,GAAQ,GAC3E,CACA,SAASizB,GAA6B75B,GACpC,MAAO,0BAA4BA,EAAM,GAC3C,CACA,SAASg6B,GAA4B2V,GACnC,OAAOpqD,EAAO,CAAC,EAAGoqD,EAAU,CAC1B,kBAAmBA,EAASjU,WAC5BA,WAAY,MAEhB,CAgBA,SAAS+S,GAAa9f,GACpB,MAAO,SAAWt5B,GAA+Cs5B,GAAO,IAC1E,CACA,SAAS+f,GAAyB1uC,GAChC,MAAO,gBAAkBA,CAC3B,CACA,SAASq3B,GAAgBb,EAAe8C,EAAU1gC,GAEhD,GADA0gC,EAASrE,QACL,OAASqE,EAASxrB,SACpB,OAAQwrB,EAAS70C,MACf,IAAK,QACH,IAAIqpB,EAAW0oB,EAAcI,cAC3B,qBACEvhC,GAA+CuD,EAAMgO,MACrD,MAEJ,GAAIkH,EACF,OACGwrB,EAASxrB,SAAWA,EACrB/b,GAAoB+b,GACpBA,EAEJ,IAAI8hC,EAAarqD,EAAO,CAAC,EAAGqT,EAAO,CACjC,YAAaA,EAAMgO,KACnB,kBAAmBhO,EAAM8iC,WACzB90B,KAAM,KACN80B,WAAY,OAQd,OAHA3pC,GAHA+b,GAAY0oB,EAAczgC,eAAiBygC,GAAe9jC,cACxD,UAGFy7B,GAAqBrgB,EAAU,QAAS8hC,GACxCZ,GAAiBlhC,EAAUlV,EAAM8iC,WAAYlF,GACrC8C,EAASxrB,SAAWA,EAC9B,IAAK,aACH8hC,EAAahW,GAAYhhC,EAAMgO,MAC/B,IAAIipC,EAAerZ,EAAcI,cAC/BiD,GAA6B+V,IAE/B,GAAIC,EACF,OACGvW,EAASlkB,MAAMukB,SAAW,EAC1BL,EAASxrB,SAAW+hC,EACrB99C,GAAoB89C,GACpBA,EAEJ/hC,EAAWksB,GAA4BphC,IACtCg3C,EAAa3V,GAAgB7lC,IAAIw7C,KAChC1V,GAA+BpsB,EAAU8hC,GAI3C79C,GAHA89C,GACErZ,EAAczgC,eAAiBygC,GAC/B9jC,cAAc,SAEhB,IAAIynC,EAAe0V,EAQnB,OAPA1V,EAAaL,GAAK,IAAIM,SAAQ,SAAUnjB,EAASojB,GAC/CF,EAAaG,OAASrjB,EACtBkjB,EAAaI,QAAUF,CACzB,IACAlM,GAAqB0hB,EAAc,OAAQ/hC,GAC3CwrB,EAASlkB,MAAMukB,SAAW,EAC1BqV,GAAiBa,EAAcj3C,EAAM8iC,WAAYlF,GACzC8C,EAASxrB,SAAW+hC,EAC9B,IAAK,SAEH,OADAA,EAAepB,GAAa71C,EAAM+1B,MAE/BihB,EAAapZ,EAAcI,cAC1B8X,GAAyBmB,MAIxBvW,EAASxrB,SAAW8hC,EACrB79C,GAAoB69C,GACpBA,IAEJ9hC,EAAWlV,GACNg3C,EAAa3V,GAAgB7lC,IAAIy7C,KAElCf,GADDhhC,EAAWvoB,EAAO,CAAC,EAAGqT,GACgBg3C,GAGzC79C,GADA69C,GADApZ,EAAgBA,EAAczgC,eAAiBygC,GACpB9jC,cAAc,WAEzCy7B,GAAqByhB,EAAY,OAAQ9hC,GACzC0oB,EAAcG,KAAKpD,YAAYqc,GACvBtW,EAASxrB,SAAW8hC,GAC9B,IAAK,OACH,OAAO,KACT,QACE,MAAMlqD,MAAMnD,EAAuB,IAAK+2C,EAAS70C,WAGrD,eAAiB60C,EAAS70C,MACxB,KAAgC,EAAzB60C,EAASlkB,MAAMukB,WACpB7rB,EAAWwrB,EAASxrB,SACrBwrB,EAASlkB,MAAMukB,SAAW,EAC3BqV,GAAiBlhC,EAAUlV,EAAM8iC,WAAYlF,IACjD,OAAO8C,EAASxrB,QAClB,CACA,SAASkhC,GAAiBlhC,EAAU4tB,EAAYztC,GAC9C,IACE,IAAI6hD,EAAQ7hD,EAAK6K,iBACb,kEAEFumB,EAAOywB,EAAMntD,OAASmtD,EAAMA,EAAMntD,OAAS,GAAK,KAChDotD,EAAQ1wB,EACRx8B,EAAI,EACNA,EAAIitD,EAAMntD,OACVE,IACA,CACA,IAAIE,EAAO+sD,EAAMjtD,GACjB,GAAIE,EAAKqpC,QAAQsP,aAAeA,EAAYqU,EAAQhtD,OAC/C,GAAIgtD,IAAU1wB,EAAM,KAC3B,CACA0wB,EACIA,EAAMjlD,WAAWwoC,aAAaxlB,EAAUiiC,EAAM9pC,cAC5Cy1B,EAAa,IAAMztC,EAAKjL,SAAWiL,EAAK0oC,KAAO1oC,GACtCqlC,aAAaxlB,EAAU4tB,EAAW5kC,WACnD,CACA,SAASojC,GAA+B8V,EAAiBP,GACvD,MAAQO,EAAgBvhB,cACrBuhB,EAAgBvhB,YAAcghB,EAAahhB,aAC9C,MAAQuhB,EAAgBR,iBACrBQ,EAAgBR,eAAiBC,EAAaD,gBACjD,MAAQQ,EAAgBthB,QAAUshB,EAAgBthB,MAAQ+gB,EAAa/gB,MACzE,CACA,SAASogB,GAA2BmB,EAAaR,GAC/C,MAAQQ,EAAYxhB,cACjBwhB,EAAYxhB,YAAcghB,EAAahhB,aAC1C,MAAQwhB,EAAYT,iBACjBS,EAAYT,eAAiBC,EAAaD,gBAC7C,MAAQS,EAAYX,YACjBW,EAAYX,UAAYG,EAAaH,UAC1C,CACA,IAAI/X,GAAY,KAChB,SAAST,GAA4BryC,EAAMyrD,EAAcn6C,GACvD,GAAI,OAASwhC,GAAW,CACtB,IAAIhhB,EAAQ,IAAI1kB,IACZs+C,EAAU5Y,GAAY,IAAI1lC,IAC9Bs+C,EAAOzpD,IAAIqP,EAAewgB,EAC5B,MAEKA,GADF45B,EAAS5Y,IACQnjC,IAAI2B,MACTwgB,EAAQ,IAAI1kB,IAAQs+C,EAAOzpD,IAAIqP,EAAewgB,IAC7D,GAAIA,EAAM/e,IAAI/S,GAAO,OAAO8xB,EAG5B,IAFAA,EAAM7vB,IAAIjC,EAAM,MAChBsR,EAAgBA,EAAc2gC,qBAAqBjyC,GAC9C0rD,EAAS,EAAGA,EAASp6C,EAAcpT,OAAQwtD,IAAU,CACxD,IAAIptD,EAAOgT,EAAco6C,GACzB,KAEIptD,EAAKiO,KACLjO,EAAK0N,KACJ,SAAWhM,GAAQ,eAAiB1B,EAAKwrC,aAAa,SAEzD,+BAAiCxrC,EAAK6H,aACtC,CACA,IAAIwlD,EAAUrtD,EAAKwrC,aAAa2hB,IAAiB,GACjDE,EAAU3rD,EAAO2rD,EACjB,IAAIhkC,EAAWmK,EAAMniB,IAAIg8C,GACzBhkC,EAAWA,EAAShiB,KAAKrH,GAAQwzB,EAAM7vB,IAAI0pD,EAAS,CAACrtD,GACvD,CACF,CACA,OAAOwzB,CACT,CACA,SAAS6gB,GAAeZ,EAAe/xC,EAAMqpB,IAC3C0oB,EAAgBA,EAAczgC,eAAiBygC,GACjCG,KAAKrD,aACjBxlB,EACA,UAAYrpB,EAAO+xC,EAAcI,cAAc,gBAAkB,KAErE,CA+CA,SAAS4F,GAAgBlD,GACvB,MAAO,eAAiBA,EAAS70C,MAAQ,KAAgC,EAAzB60C,EAASlkB,MAAMukB,QAGjE,CACA,IAAIJ,GAAiB,KACrB,SAAS8I,KAAQ,CA6EjB,SAAStI,KAEP,GADA1lC,KAAK4gC,QACD,IAAM5gC,KAAK4gC,MACb,GAAI5gC,KAAKmmC,YAAa8H,GAA2BjuC,KAAMA,KAAKmmC,kBACvD,GAAInmC,KAAK+tC,UAAW,CACvB,IAAIA,EAAY/tC,KAAK+tC,UACrB/tC,KAAK+tC,UAAY,KACjBA,GACF,CACJ,CACA,IAAIiO,GAAoB,KACxB,SAAS/N,GAA2BltB,EAAOzjB,GACzCyjB,EAAMolB,YAAc,KACpB,OAASplB,EAAMgtB,YACZhtB,EAAM6f,QACNob,GAAoB,IAAIx+C,IACzBF,EAAU+hB,QAAQ48B,GAA0Bl7B,GAC3Ci7B,GAAoB,KACrBtW,GAAYlzC,KAAKuuB,GACrB,CACA,SAASk7B,GAAyBriD,EAAMqrC,GACtC,KAA+B,EAAzBA,EAASlkB,MAAMukB,SAAc,CACjC,IAAI4W,EAAcF,GAAkBj8C,IAAInG,GACxC,GAAIsiD,EAAa,IAAIlxB,EAAOkxB,EAAYn8C,IAAI,UACvC,CACHm8C,EAAc,IAAI1+C,IAClBw+C,GAAkB3pD,IAAIuH,EAAMsiD,GAC5B,IACE,IAAIT,EAAQ7hD,EAAK6K,iBACb,gDAEFjW,EAAI,EACNA,EAAIitD,EAAMntD,OACVE,IACA,CACA,IAAIE,EAAO+sD,EAAMjtD,GAEf,SAAWE,EAAK8Q,UAChB,YAAc9Q,EAAKwrC,aAAa,WAEhCgiB,EAAY7pD,IAAI3D,EAAKqpC,QAAQsP,WAAY34C,GAAQs8B,EAAOt8B,EAC5D,CACAs8B,GAAQkxB,EAAY7pD,IAAI,KAAM24B,EAChC,CAEAt8B,GADA+sD,EAAQxW,EAASxrB,UACJygB,aAAa,oBAC1B1rC,EAAI0tD,EAAYn8C,IAAIrR,IAASs8B,KACvBA,GAAQkxB,EAAY7pD,IAAI,KAAMopD,GACpCS,EAAY7pD,IAAI3D,EAAM+sD,GACtBz7C,KAAK4gC,QACL5V,EAAO0a,GAAY/c,KAAK3oB,MACxBy7C,EAAMt2C,iBAAiB,OAAQ6lB,GAC/BywB,EAAMt2C,iBAAiB,QAAS6lB,GAChCx8B,EACIA,EAAEiI,WAAWwoC,aAAawc,EAAOjtD,EAAEojB,cACjChY,EAAO,IAAMA,EAAKjL,SAAWiL,EAAK0oC,KAAO1oC,GACtCqlC,aAAawc,EAAO7hD,EAAK6I,YAClCwiC,EAASlkB,MAAMukB,SAAW,CAC5B,CACF,CACA,IAAIruC,GAAwB,CAC1B5G,SAAUf,EACVqyB,SAAU,KACVD,SAAU,KACVxqB,cAAe/B,EACfysB,eAAgBzsB,EAChB0sB,aAAc,GAEhB,SAASs6B,GACPhqC,EACAve,EACAwoD,EACAxrB,EACAsC,EACAM,EACA8d,EACAjmB,GAEArrB,KAAKpM,IAAM,EACXoM,KAAKmS,cAAgBA,EACrBnS,KAAK+8B,aACH/8B,KAAK6xC,UACL7xC,KAAKpK,QACLoK,KAAKgoC,gBACH,KACJhoC,KAAKitC,eAAiB,EACtBjtC,KAAKgwC,aACHhwC,KAAK4W,KACL5W,KAAKgpC,eACLhpC,KAAKlJ,QACLkJ,KAAKmrC,oBACH,KACJnrC,KAAKiwC,iBAAmB,EACxBjwC,KAAKyuC,gBAAkB7zC,IAAe,GACtCoF,KAAK7E,eACH6E,KAAKyb,oBACLzb,KAAK+sC,2BACL/sC,KAAK7F,cACL6F,KAAK0rC,aACL1rC,KAAK9F,UACL8F,KAAK/F,YACL+F,KAAKhG,eACLgG,KAAKlG,aACH,EACJkG,KAAK3E,cAAgBT,GAAc,GACnCoF,KAAKuX,cAAgB3c,GAAc,MACnCoF,KAAK4wB,iBAAmBA,EACxB5wB,KAAKkzB,gBAAkBA,EACvBlzB,KAAKwzB,cAAgBA,EACrBxzB,KAAKsxC,mBAAqBA,EAC1BtxC,KAAKijB,YAAc,KACnBjjB,KAAKy6B,iBAAmB,EACxBz6B,KAAKqrB,UAAYA,EACjBrrB,KAAKq8C,sBAAwB,IAAI7+C,GACnC,CACA,SAAS8+C,GACPnqC,EACAve,EACAwoD,EACAG,EACAC,EACAC,EACA7rB,EACAsC,EACAM,EACA8d,EACAoL,EACArxB,GA2BA,OAzBAlZ,EAAgB,IAAIgqC,GAClBhqC,EACAve,EACAwoD,EACAxrB,EACAsC,EACAM,EACA8d,EACAjmB,GAEFz3B,EAAM,GACN,IAAO6oD,IAAiB7oD,GAAO,IAC/B6oD,EAAe98B,GAAqB,EAAG,KAAM,KAAM/rB,GACnDue,EAAcvc,QAAU6mD,EACxBA,EAAar/C,UAAY+U,GACzBve,EAAMkuB,MACFE,WACJ7P,EAAc8Q,YAAcrvB,EAC5BA,EAAIouB,WACJy6B,EAAajoD,cAAgB,CAC3B4M,QAASm7C,EACT5iB,aAAcyiB,EACdl6B,MAAOtuB,GAETgiC,GAAsB6mB,GACftqC,CACT,CACA,SAASwqC,GAAqBC,GAC5B,OAAKA,EACLA,EAAkBllC,GADWA,EAG/B,CACA,SAASmlC,GACPjL,EACAp3C,EACA4G,EACAs0C,EACAkH,EACA3vB,GAEA2vB,EAAkBD,GAAqBC,GACvC,OAASlH,EAAU5+C,QACd4+C,EAAU5+C,QAAU8lD,EACpBlH,EAAU1M,eAAiB4T,GAChClH,EAAYzmB,GAAaz0B,IACfwvB,QAAU,CAAE5oB,QAASA,GAE/B,QADA6rB,OAAW,IAAWA,EAAW,KAAOA,KAClByoB,EAAUzoB,SAAWA,GAE3C,QADA7rB,EAAU4tB,GAAc4iB,EAAW8D,EAAWl7C,MAE3C8uB,GAAsBloB,EAASwwC,EAAWp3C,GAC3C00B,GAAoB9tB,EAASwwC,EAAWp3C,GAC5C,CACA,SAASsiD,GAAkBnpD,EAAOmjC,GAEhC,GAAI,QADJnjC,EAAQA,EAAMa,gBACQ,OAASb,EAAMc,WAAY,CAC/C,IAAI+P,EAAI7Q,EAAMmjC,UACdnjC,EAAMmjC,UAAY,IAAMtyB,GAAKA,EAAIsyB,EAAYtyB,EAAIsyB,CACnD,CACF,CACA,SAASimB,GAA2BppD,EAAOmjC,GACzCgmB,GAAkBnpD,EAAOmjC,IACxBnjC,EAAQA,EAAMS,YAAc0oD,GAAkBnpD,EAAOmjC,EACxD,CACA,SAASkmB,GAA2BrpD,GAClC,GAAI,KAAOA,EAAMC,IAAK,CACpB,IAAIgG,EAAOqd,GAA+BtjB,EAAO,UACjD,OAASiG,GAAQ0vB,GAAsB1vB,EAAMjG,EAAO,UACpDopD,GAA2BppD,EAAO,SACpC,CACF,CACA,IAAI+8C,IAAW,EACf,SAASwE,GACP5mC,EACA8lC,EACAsB,EACA3xC,GAEA,IAAIwmB,EAAiBv5B,EAAqBo5B,EAC1Cp5B,EAAqBo5B,EAAI,KACzB,IAAIwD,EAAmB34B,EAAwB2G,EAC/C,IACG3G,EAAwB2G,EAAI,EAC3B62B,GAAcnkB,EAAc8lC,EAAkBsB,EAAW3xC,EAC7D,CAAE,QACC9O,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAAS4qB,GACP7mC,EACA8lC,EACAsB,EACA3xC,GAEA,IAAIwmB,EAAiBv5B,EAAqBo5B,EAC1Cp5B,EAAqBo5B,EAAI,KACzB,IAAIwD,EAAmB34B,EAAwB2G,EAC/C,IACG3G,EAAwB2G,EAAI,EAC3B62B,GAAcnkB,EAAc8lC,EAAkBsB,EAAW3xC,EAC7D,CAAE,QACC9O,EAAwB2G,EAAIgyB,EAC1B58B,EAAqBo5B,EAAIG,CAC9B,CACF,CACA,SAASkI,GACPnkB,EACA8lC,EACAY,EACAjxC,GAEA,GAAI2sC,GAAU,CACZ,IAAIuM,EAAYC,GAA0Bn5C,GAC1C,GAAI,OAASk5C,EACX3H,GACEhnC,EACA8lC,EACArwC,EACAo5C,GACAnI,GAEAoI,GAAuB9uC,EAAcvK,QACpC,GA+PT,SACEk5C,EACA3uC,EACA8lC,EACAY,EACAjxC,GAEA,OAAQuK,GACN,IAAK,UACH,OACG+uC,GAAcC,GACbD,GACAJ,EACA3uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,YACH,OACGw5C,GAAaD,GACZC,GACAN,EACA3uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,YACH,OACGy5C,GAAcF,GACbE,GACAP,EACA3uC,EACA8lC,EACAY,EACAjxC,IAEF,EAEJ,IAAK,cACH,IAAIoI,EAAYpI,EAAYoI,UAY5B,OAXAsxC,GAAeprD,IACb8Z,EACAmxC,GACEG,GAAe19C,IAAIoM,IAAc,KACjC8wC,EACA3uC,EACA8lC,EACAY,EACAjxC,KAGG,EACT,IAAK,oBACH,OACGoI,EAAYpI,EAAYoI,UACzBuxC,GAAsBrrD,IACpB8Z,EACAmxC,GACEI,GAAsB39C,IAAIoM,IAAc,KACxC8wC,EACA3uC,EACA8lC,EACAY,EACAjxC,KAGJ,EAGN,OAAO,CACT,CA1UM45C,CACEV,EACA3uC,EACA8lC,EACAY,EACAjxC,GAGFA,EAAYoD,uBACT,GACFi2C,GAAuB9uC,EAAcvK,GACnB,EAAnBqwC,IACG,EAAIwJ,GAAyBnsD,QAAQ6c,GACxC,CACA,KAAO,OAAS2uC,GAAa,CAC3B,IAAItpD,EAAQsJ,GAAoBggD,GAChC,GAAI,OAAStpD,EACX,OAAQA,EAAMC,KACZ,KAAK,EAEH,IADAD,EAAQA,EAAMyJ,WACJxH,QAAQpB,cAAcmlC,aAAc,CAC5C,IAAIlgC,EAAQD,GAAwB7F,EAAMmG,cAC1C,GAAI,IAAML,EAAO,CACf,IAAIG,EAAOjG,EAEX,IADAiG,EAAKE,cAAgB,EAChBF,EAAKuB,gBAAkB,EAAG1B,GAAS,CACtC,IAAIe,EAAO,GAAM,GAAKrB,GAAMM,GAC5BG,EAAKyB,cAAc,IAAMb,EACzBf,IAAUe,CACZ,CACA8wC,GAAsB33C,GACtB,KAA0B,EAAnBqoC,MACHwN,GAAqC5xC,KAAQ,IAC/C+2C,GAA8B,GAAG,GACrC,CACF,CACA,MACF,KAAK,GAED,QADD/0C,EAAOqd,GAA+BtjB,EAAO,KAC3B21B,GAAsB1vB,EAAMjG,EAAO,GACpDqR,KACA+3C,GAA2BppD,EAAO,GAW1C,GARA,QADAA,EAAQupD,GAA0Bn5C,KAEhCuxC,GACEhnC,EACA8lC,EACArwC,EACAo5C,GACAnI,GAEArhD,IAAUspD,EAAW,MACzBA,EAAYtpD,CACd,CACA,OAASspD,GAAal5C,EAAYoD,iBACpC,MACEmuC,GACEhnC,EACA8lC,EACArwC,EACA,KACAixC,EAEN,CACF,CACA,SAASkI,GAA0Bn5C,GAEjC,OAAO85C,GADP95C,EAAcD,GAAeC,GAE/B,CACA,IAAIo5C,GAAoB,KACxB,SAASU,GAA2B/gD,GAGlC,GAFAqgD,GAAoB,KAEhB,QADJrgD,EAAaD,GAA2BC,IACf,CACvB,IAAI3I,EAAiBD,EAAuB4I,GAC5C,GAAI,OAAS3I,EAAgB2I,EAAa,SACrC,CACH,IAAIlJ,EAAMO,EAAeP,IACzB,GAAI,KAAOA,EAAK,CAEd,GAAI,QADJkJ,EAAaxI,EAA6BH,IACjB,OAAO2I,EAChCA,EAAa,IACf,MAAO,GAAI,IAAMlJ,EAAK,CACpB,GAAIO,EAAeiJ,UAAUxH,QAAQpB,cAAcmlC,aACjD,OAAO,IAAMxlC,EAAeP,IACxBO,EAAeiJ,UAAU+U,cACzB,KACNrV,EAAa,IACf,MAAO3I,IAAmB2I,IAAeA,EAAa,KACxD,CACF,CAEA,OADAqgD,GAAoBrgD,EACb,IACT,CACA,SAASf,GAAiBuS,GACxB,OAAQA,GACN,IAAK,eACL,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,cACL,IAAK,OACL,IAAK,MACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,YACL,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,cACL,IAAK,YACL,IAAK,aACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,cACL,IAAK,WACL,IAAK,aACL,IAAK,eACL,IAAK,SACL,IAAK,kBACL,IAAK,YACL,IAAK,mBACL,IAAK,iBACL,IAAK,oBACL,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,OACL,IAAK,mBACL,IAAK,QACL,IAAK,aACL,IAAK,WACL,IAAK,SACL,IAAK,cACH,OAAO,EACT,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,eACH,OAAO,EACT,IAAK,UACH,OAAQxW,MACN,KAAKE,GACH,OAAO,EACT,KAAKE,GACH,OAAO,EACT,KAAKE,GACL,KAAKE,GACH,OAAO,GACT,KAAKE,GACH,OAAO,UACT,QACE,OAAO,GAEb,QACE,OAAO,GAEb,CACA,IAAIslD,IAA4B,EAC9BT,GAAc,KACdE,GAAa,KACbC,GAAc,KACdC,GAAiB,IAAIjgD,IACrBkgD,GAAwB,IAAIlgD,IAC5BugD,GAAiC,GACjCH,GACE,sPAAsPvqD,MACpP,KAEN,SAAS+pD,GAAuB9uC,EAAcvK,GAC5C,OAAQuK,GACN,IAAK,UACL,IAAK,WACH+uC,GAAc,KACd,MACF,IAAK,YACL,IAAK,YACHE,GAAa,KACb,MACF,IAAK,YACL,IAAK,WACHC,GAAc,KACd,MACF,IAAK,cACL,IAAK,aACHC,GAAer+B,OAAOrb,EAAYoI,WAClC,MACF,IAAK,oBACL,IAAK,qBACHuxC,GAAsBt+B,OAAOrb,EAAYoI,WAE/C,CACA,SAASmxC,GACPU,EACAf,EACA3uC,EACA8lC,EACAY,EACAjxC,GAEA,OACE,OAASi6C,GACTA,EAAoBj6C,cAAgBA,GAGjCi6C,EAAsB,CACrBf,UAAWA,EACX3uC,aAAcA,EACd8lC,iBAAkBA,EAClBrwC,YAAaA,EACbk6C,iBAAkB,CAACjJ,IAErB,OAASiI,IAEP,QADEA,EAAYhgD,GAAoBggD,KACZD,GAA2BC,IACnDe,IAEJA,EAAoB5J,kBAAoBA,EACxC6I,EAAYe,EAAoBC,iBAChC,OAASjJ,IACN,IAAMiI,EAAUxrD,QAAQujD,IACzBiI,EAAUlnD,KAAKi/C,GACVgJ,EACT,CA8EA,SAASE,GAA+BC,GACtC,IAAIphD,EAAaF,GAA2BshD,EAAan6C,QACzD,GAAI,OAASjH,EAAY,CACvB,IAAI5I,EAAiBD,EAAuB6I,GAC5C,GAAI,OAAS5I,EACX,GAAwC,MAAlC4I,EAAa5I,EAAeP,MAChC,GAEE,QADEmJ,EAAazI,EAA6BH,IAa5C,OAVAgqD,EAAalB,UAAYlgD,OA7tbnC,SAAyBqhD,EAAUxsD,GACjC,IAAIg8B,EAAmB34B,EAAwB2G,EAC/C,IACE,OAAQ3G,EAAwB2G,EAAIwiD,EAAWxsD,GACjD,CAAE,QACAqD,EAAwB2G,EAAIgyB,CAC9B,CACF,CAutbUywB,CAAgBF,EAAaC,UAAU,WACrC,GAAI,KAAOjqD,EAAeP,IAAK,CAC7B,IAAI4G,EAAOyzB,KACTr0B,EAAOqd,GAA+B9iB,EAAgBqG,GACxD,OAASZ,GACP0vB,GAAsB1vB,EAAMzF,EAAgBqG,GAC9CuiD,GAA2B5oD,EAAgBqG,EAC7C,CACF,SAGG,GACL,IAAMuC,GACN5I,EAAeiJ,UAAUxH,QAAQpB,cAAcmlC,aAM/C,YAJAwkB,EAAalB,UACX,IAAM9oD,EAAeP,IACjBO,EAAeiJ,UAAU+U,cACzB,KAGZ,CACAgsC,EAAalB,UAAY,IAC3B,CACA,SAASqB,GAAmCC,GAC1C,GAAI,OAASA,EAAYtB,UAAW,OAAO,EAC3C,IACE,IAAIgB,EAAmBM,EAAYN,iBACnC,EAAIA,EAAiB3vD,QAErB,CACA,IAAIkwD,EAAgBtB,GAA0BqB,EAAYx6C,aAC1D,GAAI,OAASy6C,EAUX,OAEE,QADCP,EAAmBhhD,GAAoBuhD,KAEtCxB,GAA2BiB,GAC5BM,EAAYtB,UAAYuB,GACzB,EAbF,IAAIC,EAAmB,IADvBD,EAAgBD,EAAYx6C,aACalE,YACvC2+C,EAAcpuD,KACdouD,GAEF36C,GAAwB46C,EACxBD,EAAcx6C,OAAOyuB,cAAcgsB,GACnC56C,GAAwB,KAS1Bo6C,EAAiBS,OACnB,CACA,OAAO,CACT,CACA,SAASC,GAAwCJ,EAAa5yC,EAAKmb,GACjEw3B,GAAmCC,IAAgBz3B,EAAI1H,OAAOzT,EAChE,CACA,SAASizC,KACPd,IAA4B,EAC5B,OAAST,IACPiB,GAAmCjB,MAClCA,GAAc,MACjB,OAASE,IACPe,GAAmCf,MAClCA,GAAa,MAChB,OAASC,IACPc,GAAmCd,MAClCA,GAAc,MACjBC,GAAep+B,QAAQs/B,IACvBjB,GAAsBr+B,QAAQs/B,GAChC,CACA,SAASE,GAA4BN,EAAaO,GAChDP,EAAYtB,YAAc6B,IACtBP,EAAYtB,UAAY,KAC1Ba,KACIA,IAA4B,EAC9BhwD,EAAUuJ,0BACRvJ,EAAUuK,wBACVumD,KAER,CACA,IAAIG,GAA2B,KAC/B,SAASC,GAA4BC,GACnCF,KAA6BE,IACzBF,GAA2BE,EAC7BnxD,EAAUuJ,0BACRvJ,EAAUuK,yBACV,WACE0mD,KAA6BE,IAC1BF,GAA2B,MAC9B,IAAK,IAAIvwD,EAAI,EAAGA,EAAIywD,EAAmB3wD,OAAQE,GAAK,EAAG,CACrD,IAAImW,EAAOs6C,EAAmBzwD,GAC5B0wD,EAAoBD,EAAmBzwD,EAAI,GAC3C6/B,EAAW4wB,EAAmBzwD,EAAI,GACpC,GAAI,oBAAsB0wD,EACxB,IAAI,OAASrB,GAA2BqB,GAAqBv6C,GAC3D,SACG,KAAK,CACZ,IAAI+0C,EAAWz8C,GAAoB0H,GACnC,OAAS+0C,IACNuF,EAAmBvc,OAAOl0C,EAAG,GAC7BA,GAAK,EACN2/B,GACEurB,EACA,CACEtkD,SAAS,EACTC,KAAMg5B,EACN/4B,OAAQqP,EAAKrP,OACbC,OAAQ2pD,GAEVA,EACA7wB,GAEN,CACF,IAEN,CACA,SAAS+S,GAAiB0d,GACxB,SAASK,EAAQZ,GACf,OAAOM,GAA4BN,EAAaO,EAClD,CACA,OAASzB,IAAewB,GAA4BxB,GAAayB,GACjE,OAASvB,IAAcsB,GAA4BtB,GAAYuB,GAC/D,OAAStB,IAAeqB,GAA4BrB,GAAasB,GACjErB,GAAep+B,QAAQ8/B,GACvBzB,GAAsBr+B,QAAQ8/B,GAC9B,IAAK,IAAI3wD,EAAI,EAAGA,EAAIuvD,GAA+BzvD,OAAQE,IAAK,CAC9D,IAAI2vD,EAAeJ,GAA+BvvD,GAClD2vD,EAAalB,YAAc6B,IAAcX,EAAalB,UAAY,KACpE,CACA,KAEE,EAAIc,GAA+BzvD,QACO,QAAxCE,EAAIuvD,GAA+B,IAAgBd,WAGrDiB,GAA+B1vD,GAC7B,OAASA,EAAEyuD,WAAac,GAA+BW,QAE3D,GAAI,OADJlwD,GAAKswD,EAAUp9C,eAAiBo9C,GAAWM,mBAEzC,IAAKjB,EAAe,EAAGA,EAAe3vD,EAAEF,OAAQ6vD,GAAgB,EAAG,CACjE,IAAIx5C,EAAOnW,EAAE2vD,GACXe,EAAoB1wD,EAAE2vD,EAAe,GACrCkB,EAAY16C,EAAKtI,KAAqB,KACxC,GAAI,oBAAsB6iD,EACxBG,GAAaL,GAA4BxwD,QACtC,GAAI6wD,EAAW,CAClB,IAAI9pD,EAAS,KACb,GAAI2pD,GAAqBA,EAAkBjlB,aAAa,eACtD,GACIt1B,EAAOu6C,EACRG,EAAYH,EAAkB7iD,KAAqB,KAEpD9G,EAAS8pD,EAAUvI,gBAEnB,GAAI,OAAS+G,GAA2Bl5C,GAAO,cAE9CpP,EAAS8pD,EAAU9pD,OACxB,oBAAsBA,EACjB/G,EAAE2vD,EAAe,GAAK5oD,GACtB/G,EAAEk0C,OAAOyb,EAAc,GAAKA,GAAgB,GACjDa,GAA4BxwD,EAC9B,CACF,CACJ,CACA,SAAS8wD,GAAaC,GACpBv/C,KAAKw/C,cAAgBD,CACvB,CAqBA,SAASE,GAAsBF,GAC7Bv/C,KAAKw/C,cAAgBD,CACvB,CAtBAE,GAAsBrtD,UAAU1B,OAAS4uD,GAAaltD,UAAU1B,OAC9D,SAAU2R,GACR,IAAIzI,EAAOoG,KAAKw/C,cAChB,GAAI,OAAS5lD,EAAM,MAAMvI,MAAMnD,EAAuB,MAGtD2uD,GAFcjjD,EAAKhE,QACVq4B,KAC0B5rB,EAAUzI,EAAM,KAAM,KAC3D,EACF6lD,GAAsBrtD,UAAUstD,QAAUJ,GAAaltD,UAAUstD,QAC/D,WACE,IAAI9lD,EAAOoG,KAAKw/C,cAChB,GAAI,OAAS5lD,EAAM,CACjBoG,KAAKw/C,cAAgB,KACrB,IAAI9J,EAAY97C,EAAKuY,cACrB,IAAMvY,EAAKhG,KAAOm8C,KAClB8M,GAAoBjjD,EAAKhE,QAAS,EAAG,KAAMgE,EAAM,KAAM,MACvDoL,KACA0wC,EAAUp5C,IAAgC,IAC5C,CACF,EAIFmjD,GAAsBrtD,UAAUutD,2BAA6B,SAAU37C,GACrE,GAAIA,EAAQ,CACV,IAAIrI,EAAiBD,KACrBsI,EAAS,CAAEi5C,UAAW,KAAMj5C,OAAQA,EAAQo6C,SAAUziD,GACtD,IACE,IAAInN,EAAI,EACRA,EAAIuvD,GAA+BzvD,QACnC,IAAMqN,GACNA,EAAiBoiD,GAA+BvvD,GAAG4vD,SACnD5vD,KAEFuvD,GAA+Brb,OAAOl0C,EAAG,EAAGwV,GAC5C,IAAMxV,GAAK0vD,GAA+Bl6C,EAC5C,CACF,EACA,IAAI47C,GAAmD5xD,EAAM6xD,QAC7D,GACE,WACAD,GAEA,MAAMvuD,MACJnD,EACE,IACA0xD,GACA,WAGN3qD,EAAwB6qD,YAAc,SAAUC,GAC9C,IAAIpsD,EAAQosD,EAAmB1uB,gBAC/B,QAAI,IAAW19B,EAAO,CACpB,GAAI,oBAAsBosD,EAAmBrvD,OAC3C,MAAMW,MAAMnD,EAAuB,MAErC,MADA6xD,EAAqB5uD,OAAOkgB,KAAK0uC,GAAoBxjC,KAAK,KACpDlrB,MAAMnD,EAAuB,IAAK6xD,GAC1C,CAQA,OAPAA,EAp4cF,SAAuCpsD,GACrC,IAAIS,EAAYT,EAAMS,UACtB,IAAKA,EAAW,CAEd,GAAI,QADJA,EAAYF,EAAuBP,IACX,MAAMtC,MAAMnD,EAAuB,MAC3D,OAAOkG,IAAcT,EAAQ,KAAOA,CACtC,CACA,IAAK,IAAI6Q,EAAI7Q,EAAOoR,EAAI3Q,IAAe,CACrC,IAAI4rD,EAAUx7C,EAAExQ,OAChB,GAAI,OAASgsD,EAAS,MACtB,IAAIC,EAAUD,EAAQ5rD,UACtB,GAAI,OAAS6rD,EAAS,CAEpB,GAAI,QADJl7C,EAAIi7C,EAAQhsD,QACI,CACdwQ,EAAIO,EACJ,QACF,CACA,KACF,CACA,GAAIi7C,EAAQprD,QAAUqrD,EAAQrrD,MAAO,CACnC,IAAKqrD,EAAUD,EAAQprD,MAAOqrD,GAAW,CACvC,GAAIA,IAAYz7C,EAAG,OAAO9P,EAAgBsrD,GAAUrsD,EACpD,GAAIssD,IAAYl7C,EAAG,OAAOrQ,EAAgBsrD,GAAU5rD,EACpD6rD,EAAUA,EAAQprD,OACpB,CACA,MAAMxD,MAAMnD,EAAuB,KACrC,CACA,GAAIsW,EAAExQ,SAAW+Q,EAAE/Q,OAASwQ,EAAIw7C,EAAWj7C,EAAIk7C,MAC1C,CACH,IAAK,IAAIC,GAAe,EAAIC,EAAUH,EAAQprD,MAAOurD,GAAW,CAC9D,GAAIA,IAAY37C,EAAG,CACjB07C,GAAe,EACf17C,EAAIw7C,EACJj7C,EAAIk7C,EACJ,KACF,CACA,GAAIE,IAAYp7C,EAAG,CACjBm7C,GAAe,EACfn7C,EAAIi7C,EACJx7C,EAAIy7C,EACJ,KACF,CACAE,EAAUA,EAAQtrD,OACpB,CACA,IAAKqrD,EAAc,CACjB,IAAKC,EAAUF,EAAQrrD,MAAOurD,GAAW,CACvC,GAAIA,IAAY37C,EAAG,CACjB07C,GAAe,EACf17C,EAAIy7C,EACJl7C,EAAIi7C,EACJ,KACF,CACA,GAAIG,IAAYp7C,EAAG,CACjBm7C,GAAe,EACfn7C,EAAIk7C,EACJz7C,EAAIw7C,EACJ,KACF,CACAG,EAAUA,EAAQtrD,OACpB,CACA,IAAKqrD,EAAc,MAAM7uD,MAAMnD,EAAuB,KACxD,CACF,CACA,GAAIsW,EAAEpQ,YAAc2Q,EAAG,MAAM1T,MAAMnD,EAAuB,KAC5D,CACA,GAAI,IAAMsW,EAAE5Q,IAAK,MAAMvC,MAAMnD,EAAuB,MACpD,OAAOsW,EAAEpH,UAAUxH,UAAY4O,EAAI7Q,EAAQS,CAC7C,CAi0cuBgsD,CAA8BzsD,GAKnDosD,EACE,QALFA,EACE,OAASA,EACLprD,EAAyBorD,GACzB,MAE0B,KAAOA,EAAmB3iD,SAE5D,EACA,IAAIijD,GAA+B,CACjCC,WAAY,EACZT,QAAS,SACTU,oBAAqB,YACrBC,qBAAsBxvD,EACtByvD,wBAAyB5jD,GACzB6jD,kBAAmB,UAErB,GAAI,qBAAuBC,+BAAgC,CACzD,IAAIC,GAA0BD,+BAC9B,IACGC,GAAwBC,YACzBD,GAAwBE,cAExB,IACGjoD,GAAa+nD,GAAwBG,OACpCV,IAECvnD,GAAe8nD,EACpB,CAAE,MAAO1nD,IAAM,CACnB,CACA8nD,EAAQC,WAAa,SAAUvL,EAAW3zC,GACxC,IAAKtT,EAAiBinD,GAAY,MAAMrkD,MAAMnD,EAAuB,MACrE,IAAIuuD,GAAe,EACjB7rB,EAAmB,GACnBsC,EAAkBL,GAClBW,EAAgBV,GAChBwe,EAAqBve,GAgCvB,OA9BA,OAAShxB,QACP,IAAWA,KACV,IAAOA,EAAQm/C,sBAAwBzE,GAAe,QACvD,IAAW16C,EAAQ6uB,mBAChBA,EAAmB7uB,EAAQ6uB,uBAC9B,IAAW7uB,EAAQmxB,kBAChBA,EAAkBnxB,EAAQmxB,sBAC7B,IAAWnxB,EAAQyxB,gBAAkBA,EAAgBzxB,EAAQyxB,oBAC7D,IAAWzxB,EAAQuvC,qBAChBA,EAAqBvvC,EAAQuvC,yBAChC,IAAWvvC,EAAQo/C,8BACMp/C,EAAQo/C,8BACnCp/C,EAAUu6C,GACR5G,EACA,GACA,EACA,KACA,EACA+G,EACA7rB,EACAsC,EACAM,EACA8d,EACAoL,EACA,MAEFhH,EAAUp5C,IAAgCyF,EAAQnM,QAClD0zC,GACE,IAAMoM,EAAU/mD,SAAW+mD,EAAUj/C,WAAai/C,GAE7C,IAAI4J,GAAav9C,EAC1B,EACAi/C,EAAQI,YAAc,SAAU1L,EAAW6G,EAAiBx6C,GAC1D,IAAKtT,EAAiBinD,GAAY,MAAMrkD,MAAMnD,EAAuB,MACrE,IAAIuuD,GAAe,EACjB7rB,EAAmB,GACnBsC,EAAkBL,GAClBW,EAAgBV,GAChBwe,EAAqBve,GAErB1H,EAAY,KAuCd,OAtCA,OAAStpB,QACP,IAAWA,KACV,IAAOA,EAAQm/C,sBAAwBzE,GAAe,QACvD,IAAW16C,EAAQ6uB,mBAChBA,EAAmB7uB,EAAQ6uB,uBAC9B,IAAW7uB,EAAQmxB,kBAChBA,EAAkBnxB,EAAQmxB,sBAC7B,IAAWnxB,EAAQyxB,gBAAkBA,EAAgBzxB,EAAQyxB,oBAC7D,IAAWzxB,EAAQuvC,qBAChBA,EAAqBvvC,EAAQuvC,yBAChC,IAAWvvC,EAAQo/C,8BACMp/C,EAAQo/C,kCACjC,IAAWp/C,EAAQspB,YAAcA,EAAYtpB,EAAQspB,aACvDkxB,EAAkBD,GAChB5G,EACA,GACA,EACA6G,EACA,EACAE,EACA7rB,EACAsC,EACAM,EACA8d,EACAoL,EACArxB,IAEcv0B,QAAU6lD,GAAqB,MAC/C56C,EAAUw6C,EAAgB3mD,SAE1Bg7B,EAAmB3B,GADnBwtB,EAAexuB,OAEEhB,SAAW,KAC5B+B,GAAcjtB,EAAS6uB,EAAkB6rB,GACzCF,EAAgB3mD,QAAQ6D,MAAQgjD,EAChC1hD,GAAkBwhD,EAAiBE,GACnCnR,GAAsBiR,GACtB7G,EAAUp5C,IAAgCigD,EAAgB3mD,QAC1D0zC,GAA2BoM,GACpB,IAAI+J,GAAsBlD,EACnC,EACAyE,EAAQnB,QAAU,oCCz0dhBwB,EAAOL,QAAU,EAAjBK,qJCQF,SAASC,IACP,MAAOC,EAAWC,IAAgB57B,EAAAA,EAAAA,UAAS,OACpC67B,EAAWC,IAAgB97B,EAAAA,EAAAA,UAAS,OACpC+7B,EAAkBC,IAAuBh8B,EAAAA,EAAAA,UAAS,KAClDi8B,EAAsBC,IAA2Bl8B,EAAAA,EAAAA,WAAS,IAC1Dm8B,EAAaC,IAAkBp8B,EAAAA,EAAAA,UAAS,aACxCq8B,EAASC,IAAct8B,EAAAA,EAAAA,UAAS,KAChCu8B,EAAwBC,IAA6Bx8B,EAAAA,EAAAA,UAAS,OAC9Dy8B,EAAWC,IAAgB18B,EAAAA,EAAAA,WAAS,IACpC28B,EAAmBC,IAAwB58B,EAAAA,EAAAA,WAAS,IACpD68B,EAAaC,IAAkB98B,EAAAA,EAAAA,UAAS,KACxC+8B,EAAYC,IAAiBh9B,EAAAA,EAAAA,WAAS,GAEvCi9B,EAAsBA,KACrBtB,GAAcE,GAAcE,GAIjCmB,EAAAA,eAA4BnB,EAAkBJ,EAAUhxD,KAAMkxD,EAAUlxD,MACxEuyD,EAAAA,aACAZ,EAAWY,EAAAA,uBAAoCb,SAC/CH,GAAwB,GACxBE,EAAe,WAPbe,MAAM,uEAOgB,EAGpBC,EAAuBxb,UAC3B8a,GAAa,GACbI,EAAeD,GACf,IACE,IAAIQ,QAA4BH,EAAAA,cAA2BL,GAC3DL,EAA0Ba,GAC1BrwB,QAAQj6B,IAAIsqD,GAEZT,GAAqB,GACrB,IACE,IAAIU,QAAiBJ,EAAAA,aAGrB,GAFAF,EAAcM,IAETA,EAAU,CACbJ,EAAAA,aACAZ,EAAWY,EAAAA,uBAAoCb,SAC/C,IAAIkB,EAAM5B,EACVC,EAAaC,GACbC,EAAayB,EACf,CACF,CAAC,QACCX,GAAqB,EACvB,CACF,CAAC,QACCF,GAAa,EACf,GAKIc,EAA8BA,KAClCR,GAAc,GACdd,GAAwB,GACxBN,EAAa,MACbE,EAAa,MACbE,EAAoB,IACpBM,EAAW,IACXE,EAA0B,KAAK,EAG3BiB,EAA0BC,MA8ChC,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBnhD,SAzCVohD,MACrB,OAAK5B,EAiBDA,GAEA0B,EAAAA,EAAAA,KAACG,EAAAA,EAAY,CACXnC,UAAWA,EACXE,UAAWA,EACXE,iBAAkBA,EAClBgC,iBAAkBX,EAClBf,QAASA,EACTI,UAAWA,EACXS,aAAcA,EACdc,gBAAiBzB,EACjB5sD,QAA8B,OAAtB4sD,QAAsB,IAAtBA,OAAsB,EAAtBA,EAAwB0B,eAAgBpB,EAChDqB,sBAA0D,QAArCC,EAAEjB,EAAAA,8BAAmC,IAAAiB,OAAA,EAAnCA,EAAqCD,sBAC5DnB,WAAYA,EACZqB,wBAAyBZ,IAKxB,MAlCHG,EAAAA,EAAAA,KAACU,EAAAA,EAAkB,CACjB1C,UAAWA,EACXC,aAAcA,EACdC,UAAWA,EACXC,aAAcA,EACdC,iBAAkBA,EAClBC,oBAAqBA,EACrBiB,oBAAqBA,EACrBqB,QAASpB,EAAAA,IAAiBoB,QAC1BC,aAAcrB,EAAAA,IAAiBqB,aAC/Bd,uBAAwBA,IAKH,IAADU,CAmBf,EAKRN,IAGP,+BAtHAX,gBAwHA,sJC9HA,IAAIsB,EAAQ,CAAC,EAETC,EAAgB,IAChBC,EAAiB,CAAC,EAClBC,EAAuB,GACvBC,EAAoB,GACpBC,EAAqB,GACrBC,EAAmB,WACnB,SAASA,EAAgBC,GACrB3kD,KAAK4kD,QAAUD,CACnB,CAMA,OALAD,EAAgBtyD,UAAUyyD,WAAa,SAAUC,EAAgBC,GAG7D,YAFuB,IAAnBD,IAA6BA,OAAiBE,QAChC,IAAdD,IAAwBA,OAAYC,GACjChlD,KAAK4kD,OAChB,EACOF,CACX,CAVuB,GAWnBO,EAAqB,WACrB,SAASA,EAAkBC,QACJ,IAAfA,IAAyBA,OAAaF,GAC1ChlD,KAAK4kD,QAAkC,qBAAhBM,EACjBC,EAAkBD,EAAYb,GAAe,QAC7CW,CACV,CASA,OARAC,EAAkB7yD,UAAUyyD,WAAa,SAAUC,EAAgBC,GAC/D,IACIx0D,EADgB60D,EAAiBN,EAAgBC,GAC5Bx0D,KAIzB,MAHI,eAAiByP,KAAK4kD,UACtBr0D,GAAuD,MAA/CA,EAAK80D,OAAO90D,EAAKjC,OAAS,GAAGyQ,cAAwB,IAAM,MAEhExO,CACX,EACO00D,CACX,CAhByB,GAiBrBK,EAA0B,WAC1B,SAASA,EAAuBC,GAC5BvlD,KAAK4kD,QAAUW,EACfvlD,KAAKwlD,KAAOL,EAAkBI,EAAelB,GAAe,GAC5DrkD,KAAKylD,cAAgBN,EAAkBI,EAAelB,GAAe,EACzE,CAMA,OALAiB,EAAuBlzD,UAAUyyD,WAAa,SAAUC,EAAgBC,GACpE,IACI/xD,EADgBoyD,EAAiBplD,KAAKwlD,KAAMT,GACtB/kD,KAAKylD,eAC/B,MAA0B,qBAAXzyD,EAAyBA,EAAQ,EACpD,EACOsyD,CACX,CAZ8B,GAa1BI,EAAoB,WACpB,SAASA,EAAiBf,GACtB3kD,KAAK4kD,QAAUD,EACf,IACIgB,EADaR,EAAkBR,EAAcN,GAAe,GAClChxD,MAAM,KACpC2M,KAAK4lD,WAAaD,EAAa,GAC/B3lD,KAAK6lD,aAAeF,EAAa,GACjC3lD,KAAK8lD,gBAA0C,IAAxBH,EAAar3D,OAAeq3D,EAAa,GAAK,EACzE,CASA,OARAD,EAAiBtzD,UAAUyyD,WAAa,SAAUC,EAAgBC,GAC9D,IAAIgB,EAAgBX,EAAiB,IAAKL,GAC1C,MAAwC,SAAjCgB,EAAcC,eACfhmD,KAAK4lD,WAC4B,WAAjCG,EAAcC,eACVhmD,KAAK6lD,aACL7lD,KAAK8lD,eACnB,EACOJ,CACX,CAlBwB,GAmBpBO,EAAkB,WAClB,SAASA,EAAetB,GACpB3kD,KAAKkmD,QAAU,GACflmD,KAAK4kD,QAAUD,EACf3kD,KAAKkmD,QAAUf,EAAkBR,EAAcN,EACnD,CAOA,OANA4B,EAAe7zD,UAAUyyD,WAAa,SAAUC,EAAgBC,QACrC,IAAnBD,IAA6BA,OAAiBE,QAChC,IAAdD,IAAwBA,OAAYC,GACxC,IAAImB,EAAe/sD,KAAKgtD,MAAMhtD,KAAK6C,SAAW+D,KAAKkmD,QAAQ53D,QAC3D,OAAO0R,KAAKkmD,QAAQC,EACxB,EACOF,CACX,CAbsB,GAclBI,EAA2B,WAC3B,SAASA,EAAwB1B,GAC7B3kD,KAAKkmD,QAAU,GACflmD,KAAK4kD,QAAUD,EACf3kD,KAAKkmD,QAAUf,EAAkBR,EAAcN,EACnD,CAWA,OAVAgC,EAAwBj0D,UAAUyyD,WAAa,SAAUC,EAAgBC,QAC9C,IAAnBD,IAA6BA,OAAiBE,QAChC,IAAdD,IAAwBA,OAAYC,GACxC,IAAIsB,EAAcvB,EAAUl0D,EAAI,IAAMk0D,EAAU/zC,EAAI,IAAMuzC,EAAuB,IAAMC,EAAoB,IAAMC,EAC7GhvD,EAAQ,EAIZ,YAHoCuvD,IAAhCV,EAAegC,KACf7wD,EAAQ6uD,EAAegC,GAAetmD,KAAKkmD,QAAQ53D,QAEhD0R,KAAKkmD,QAAQzwD,EACxB,EACO4wD,CACX,CAjB+B,GAkB/B,SAASE,EAAqBD,QACUtB,IAAhCV,EAAegC,GACfhC,EAAegC,GAAe,EAG9BhC,EAAegC,IAAgB,CAEvC,CAEA,SAASE,EAAwBF,QACOtB,IAAhCV,EAAegC,KACXhC,EAAegC,IAAgB,EAC/BhC,EAAegC,QAAetB,EAG9BV,EAAegC,IAAgB,EAG3C,CAEA,SAASG,EAA4BC,EAAQC,EAAQC,GACjDrC,EAAuBmC,EACvBlC,EAAoBmC,EACpBlC,EAAqBmC,CACzB,CAhBAxC,EAAMmC,qBAAuBA,EAW7BnC,EAAMoC,wBAA0BA,EAMhCpC,EAAMqC,4BAA8BA,EACpC,IAAII,EAAuB,WACvB,SAASA,EAAoBC,GACzB9mD,KAAK+mD,gBAAkB5B,EAAkB2B,EAAQzC,GAAe,EACpE,CAMA,OALAwC,EAAoBz0D,UAAUyyD,WAAa,SAAUC,EAAgBC,GACjE,IACIiC,EADgB5B,EAAiBN,EAAgBC,GACrBkC,aAAajnD,KAAK+mD,iBAClD,MAAgC,qBAAjBC,EAA+BA,EAAc,EAChE,EACOH,CACX,CAV2B,GAW3B,SAASzB,EAAiBN,EAAgBC,GAGtC,IAFA,IAAImC,EAAOC,EAAAA,EAAIC,4BACXC,EAAgBtC,EAAUD,GACrBwC,EAAK,EAAGC,EAASL,EAAMI,EAAKC,EAAOj5D,OAAQg5D,IAAM,CACtD,IAAIE,EAAYD,EAAOD,GACvB,GAAIE,EAAUj3D,OAAS82D,EACnB,OAAOG,CAEf,CAEJ,CACA,SAASrC,EAAkBsC,EAAUC,GACjC,IAgBIl5D,EAhBAm5D,EAAY,GAGZC,EAAY,GACZC,GAAe,EACnB,GAAI,KAAOJ,EAASpC,OAAO,IAAM,KAAOoC,EAASpC,OAAOoC,EAASn5D,OAAS,GACtE,IACI,MAAM,IAAI+C,MAAM,iEACSo2D,EAC7B,CACA,MAAO3mD,GAEH,YADA8xB,QAAQj6B,IAAImI,EAAEvQ,KAAO,KAAOuQ,EAAE7M,QAElC,CAIJ,IAFAwzD,EAAWA,EAAStrD,MAAM,EAAGsrD,EAASn5D,OAAS,GAE1CE,EAAI,EAAGA,EAAIi5D,EAASn5D,OAAQE,IAAK,CAClC,IAAIs5D,EAAUL,EAASpC,OAAO72D,GAC1Bs5D,IAAYJ,GACRC,GACAC,EAAU7xD,KAAK4xD,GAEnBA,EAAY,GACZE,GAAe,GAvBN,OAyBJC,GACLH,GAAaF,EAASpC,OAAO72D,EAAI,GACjCA,GAAK,GAEY,MAAZs5D,EACDD,IACAF,GAAaG,GA9BP,MAiCLA,EACLD,GAAgBA,EAGhBF,GAAaG,CAErB,CAIA,OAHIH,GACAC,EAAU7xD,KAAK4xD,GAEZC,CACX,CACA,SAASG,EAAmBpD,GACxB,IAEIqD,EADAC,EAAQ,IAEZ,SAAWD,GACPA,EAAQA,EAAiB,QAAI,GAAK,UAClCA,EAAQA,EAAoB,WAAI,GAAK,YACxC,CAHD,CAGGA,IAAYA,EAAU,CAAC,IAC1B,IAiCIx5D,EAjCA05D,EAAcF,EAAQG,QACtBC,EAAe,GACnB,SAASC,EAAevB,GACpB,SAASwB,EAASC,EAASC,GACvB,OAAOD,EAAQpsD,MAAMqsD,EAAYl6D,OAAQi6D,EAAQj6D,OACrD,CACA,GAAiC,IAA7Bw4D,EAAOr1D,QAAQ,UACf,OAAO,IAAIw0D,EAAeqC,EAASxB,EAAQ,WAE1C,GAA0C,IAAtCA,EAAOr1D,QAAQ,mBACpB,OAAO,IAAI40D,EAAwBiC,EAASxB,EAAQ,oBAEnD,GAAsC,IAAlCA,EAAOr1D,QAAQ,eACpB,OAAO,IAAIo1D,EAAoByB,EAASxB,EAAQ,gBAE/C,GAAmC,IAA/BA,EAAOr1D,QAAQ,YACpB,OAAO,IAAIi0D,EAAiB4C,EAASxB,EAAQ,aAE5C,GAAyC,IAArCA,EAAOr1D,QAAQ,kBACpB,OAAO,IAAI6zD,EAAuBgD,EAASxB,EAAQ,mBAElD,GAAkC,IAA9BA,EAAOr1D,QAAQ,WACpB,OAAO,IAAI6zD,EAAuBgD,EAASxB,EAAQ,YAElD,GAAI,CAAC,IAAK,IAAK,KAAKr1D,QAAQq1D,EAAOzB,OAAO,KAAO,EAAG,CACrD,IAAIoD,EAAW3B,EAAOx4D,OAAS,EAAKg6D,EAASxB,EAAQ,UAAO9B,EAC5D,OAAO,IAAIC,EAAkBwD,EACjC,CAEI71B,QAAQj6B,IAAI,4BAA6BmuD,EAGjD,CAEA,IAAKt4D,EAAI,EAAGA,EAAIm2D,EAAar2D,OAAQE,IACjC,GA1CM,MA0CFm2D,EAAaU,OAAO72D,GAAY,CAChC,GAAI05D,IAAgBF,EAAQG,QACH,IAAjBF,EAAM35D,QACN85D,EAAaryD,KAAK,IAAI2uD,EAAgBuD,IAE1CC,EAAcF,EAAQU,gBAErB,GAAIR,IAAgBF,EAAQU,WAAY,CACzC,GAAoB,GAAhBT,EAAM35D,OAAa,CACnB,IAAIq6D,EAAMN,EAAeJ,GACrBU,GACAP,EAAaryD,KAAK4yD,EAE1B,CACAT,EAAcF,EAAQG,OAC1B,CACAF,EAAQ,EACZ,MAEIA,GAAStD,EAAaU,OAAO72D,GAMrC,OAHIy5D,GACAG,EAAaryD,KAAK,IAAI2uD,EAAgBuD,IAEnCG,CACX,CACAhE,EAAM2D,mBAAqBA,EAC3B,gJCzQA,SAASa,IACP,OACErF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKnhD,UAClBkhD,EAAAA,EAAAA,KAAA,UAAQC,UAAU,aAAYnhD,UAE5BkhD,EAAAA,EAAAA,KAACjC,EAAAA,EAAI,OAKb,6BAEA,6MCVA,MAAMuH,EAAU,0CACVC,EAAoB,SACpBC,EAAc,QAGpB,IAAIC,EAAc,WAElB,MAAMC,EAAsB,GACtBC,EAAoB,GAE1B,IAAIC,EAAe,CACfC,QAAS,CACLC,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,GAEtBC,SAAU,CACNzB,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,GAEtB9pC,MAAO,CACHsoC,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,GAEtBE,aAAc,CACV1B,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,GAEtBG,SAAU,CACN3B,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,GAEtBvB,MAAO,CACHD,WAAW,EACXC,OAAO,EACPC,gBAAgB,EAChBC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,EACVC,sBAAsB,EACtBC,sBAAsB,EACtBC,kCAAkC,EAClCC,kCAAkC,EAClCC,YAAY,EACZC,SAAS,EACTC,uBAAuB,EACvBC,aAAa,EACbC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,OAAO,EACPC,WAAW,EACXC,kBAAkB,EAClBC,OAAO,EACPC,cAAc,EACdC,kBAAkB,IAI1B,MAAMI,EAAe,CACjB5B,UAAW,CACP6B,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,OAAQ,KACRC,QAAQ,EACR13D,IAAK,aAET01D,MAAO,CACH4B,SAAS,EACTC,WAAW,EACXvqB,MAAO,EACP2qB,mBAAmB,EACnBC,WAAW,EACXH,OAAQ,OACRC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,SAUT21D,eAAgB,CACZ2B,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,mBAET41D,mBAAoB,CAChB0B,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,uBAET61D,iBAAkB,CACdyB,SAAS,EACTC,WAAW,EACXC,WAAY,GACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,wBAET81D,iBAAkB,CACdwB,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,kBAET+1D,cAAe,CACXuB,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,iBAETg2D,SAAU,CACNsB,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,aAETi2D,qBAAsB,CAClBqB,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,eAETk2D,qBAAsB,CAClBoB,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,gBAETm2D,iCAAkC,CAC9BmB,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,iCAETo2D,iCAAkC,CAC9BkB,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,kCAETq2D,WAAY,CACRiB,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,GACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,eAETs2D,QAAS,CACLgB,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,iBAETu2D,sBAAuB,CACnBe,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,kBAETw2D,YAAa,CACTc,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,gBAETy2D,iBAAkB,CACda,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,sBAET02D,SAAU,CACNY,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,YAET22D,eAAgB,CACZW,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,mBAET42D,MAAO,CACHU,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,SAET62D,UAAW,CACPS,SAAS,EACTC,WAAW,EACXC,WAAY,EACZC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,sBAET82D,iBAAkB,CACdQ,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,yBAET+2D,MAAO,CACHO,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,SAETg3D,aAAc,CACVM,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,WAETi3D,iBAAkB,CACdK,SAAS,EACTC,WAAW,EACXC,YAAa,EACbC,MAAO,IACPC,QAAQ,EACRG,gBAAgB,EAChB73D,IAAK,cAOb,IAAI83D,EAAe,CACf,CACIC,OAAQ,wmHA2DRC,SAAU,6KAEd,CACID,OAAQ,syGAmERC,SAAU,sHAIlBpkB,eAAeqkB,EAAiBF,GAC5B,GAAyB,UAArB7C,EACA,OAAOgD,EAAcH,GAEzB,GAAyB,UAArB7C,EACA,OAAOiD,EAAcJ,GAEzB,MAAM,IAAIt6D,MAAM,+BAAiCy3D,EACrD,CAGA,MAAMkD,EAAQ,IAAIC,EAAAA,GAAmBpD,GAErCrhB,eAAeskB,EAAcH,GACzB,MAMMO,EAAiB,CACnB,CACIC,SAAUC,EAAAA,GAAaC,yBACvBC,UAAWC,EAAAA,GAAmBC,iBAElC,CACIL,SAAUC,EAAAA,GAAaK,0BACvBH,UAAWC,EAAAA,GAAmBC,iBAElC,CACIL,SAAUC,EAAAA,GAAaM,gCACvBJ,UAAWC,EAAAA,GAAmBC,iBAElC,CACIL,SAAUC,EAAAA,GAAaO,gCACvBL,UAAWC,EAAAA,GAAmBC,kBAIhCI,EAAQZ,EAAMa,mBAClB,CAAED,MAAO,aACPE,iBA3BqB,CACrBC,gBAAiB,KA2BjBb,eAAgBA,IAGpB,IAAI1pD,EAAO,YACPwqD,GAAc,EACdx+D,EAAI,EACR,KAAOA,EAAI,KAAOw+D,GAAa,CAC3B,IACI,MAAMl/B,QAAe8+B,EAAMK,gBAAgBtB,GAE3CnpD,SADuBsrB,EAAO89B,UACdppD,OAChBwqD,GAAc,CAClB,CAAE,MAAMlsD,GACJ8xB,QAAQj6B,IAAI,kCACZi6B,QAAQj6B,IAAI,qBACZi6B,QAAQj6B,IAAImI,EAChB,CACAtS,GACJ,CACA,OAAOgU,CACX,CAEAglC,eAAeukB,EAAcJ,GACzB,MAAMuB,EAAQ,CACVN,MAAO7D,EACP4C,OAAQA,EACRwB,QAAQ,GAENr/B,QAAes/B,MAAM,sCACA,CAAE93D,OAAQ,OACRuL,KAAMwsD,KAAKC,UAAUJ,KAElD,aADuBp/B,EAAOy/B,QACd3B,QACpB,CAMA,GAAyB,UAArB9C,EAA+B,CAC/Bl2B,QAAQj6B,IAAI,wBAA0BowD,EAAc,OAEpD,MAAMmE,EAAQ,CACVN,MAAO7D,EACPoE,QAAQ,SAENC,MAAM,kCACA,CAAE93D,OAAQ,OACRuL,KAAMwsD,KAAKC,UAAUJ,KAEnCnB,EAAc,GAClB,CAEA,IAAIyB,EAAiB,SAASC,GAC1B,IAAIC,EAAgB5K,EAAAA,cAChB6K,EAAgB7K,EAAAA,cA6BhB8K,EAAa,GAEbC,EAA4B/K,EAAAA,IAAiBgL,gBAAgBC,6BAA6BL,EAAeC,GACzGK,EAAWlL,EAAAA,uBAAoCmL,eAAeC,mBAC9D5K,EAAWR,EAAAA,IAAiBgL,gBAAgBK,qBAC5CF,EAAiBnL,EAAAA,uBAAoCmL,eAgBzD,GAdIR,EAAOpE,UAAU6B,SACjB0C,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOpE,UAAUgC,MACxB+C,UAAW,6HAWfX,EAAOnE,MAAM4B,QAAS,CACtB,IAAImD,EAAgBZ,EAAOnE,MAAM1oB,MAAQ8qB,EAAap9D,OAAUm/D,EAAOnE,MAAM1oB,MAAQ8qB,EAAap9D,OAE9Fm/D,EAAOnE,MAAMiC,mBACbqC,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOnE,MAAM+B,MAAQoC,EAAOnE,MAAM1oB,MAAQ,EACjDwtB,UAAW,aAAaC,mIAGhC,IAAK,IAAI7/D,EAAI,EAAGA,EAAI6/D,EAAc7/D,IAC9Bo/D,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOnE,MAAM+B,MAAQoC,EAAOnE,MAAM1oB,MAAQpyC,EAAI,EACrD4/D,UAAWE,EAAwB9/D,EAAGi/D,EAAOnE,QAGzD,CAGA,GAAImE,EAAOlE,eAAe2B,QAAS,CAC/B,IAAIkD,EAAY,GAAGV,SAAqBC,mDACxCS,GAAa,KACbA,GAAa,GAAGV,SAAqBC,uEAAmFrK,EAASiL,WACjIX,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOlE,eAAe8B,MAC7B+C,UAAWI,EAAiBf,EAAOlE,eAAgB6E,IAE3D,CAGA,GAAIX,EAAOjE,mBAAmB0B,SACtB2C,EAA0Bv/D,OAAS,EAAG,CACtC,IAAI8/D,EAAY,qBAAqBV,SAAqBC,oDAC1D,IAAK,IAAIc,KAAWZ,EAChBO,GAAa,KAAKK,EAAQA,YAE9Bb,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOjE,mBAAmB6B,MACjC+C,UAAWI,EAAiBf,EAAOjE,mBAAoB4E,IAE/D,CAIJ,GAAIX,EAAOhE,iBAAiByB,SACpBpI,EAAAA,wBAAqCx0D,OAAS,EAAG,CACjD,IAAI8/D,EAAa,6DACbM,GAAQ,EACZ,IAAK,IAAIC,KAAW7L,EAAAA,wBAAsC,CACtD,IAAI8L,EAAQF,EAAS,qBAAuB,YAC5CA,GAAQ,EACRN,GAAa,KAAOO,EAAQE,QAAU,IAAMD,EAAO,uBAAyBD,EAAQG,OAAS,MAASH,EAAQC,KAAO,OACzH,CACAhB,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOhE,iBAAiB4B,MAC/B+C,UAAWI,EAAiBf,EAAOhE,iBAAkB2E,IAE7D,CAIJ,GAAIX,EAAO/D,iBAAiBwB,QAAS,CACjC,IACIkD,EAAYV,EAAgB,iBADpB5K,EAAAA,wBAAqCx0D,OAAS,EAAK,UAAY,iBAClB,6BAA+B2/D,EAAea,OAAS,MAChHlB,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO/D,iBAAiB2B,MAC/B+C,UAAWI,EAAiBf,EAAO/D,iBAAkB0E,IAE7D,CAEA,GAAIX,EAAO9D,cAAcuB,SACjB+C,EAAetE,cAAcr7D,OAAS,EAAG,CACzC,IAAIygE,EAAajM,EAAAA,IAAiBgL,gBAAgBkB,0BAA0Bf,EAAetE,cAAeqE,GACtGiB,GAAmB,EACnBb,EAAY,GAChB,IAAK,IAAIc,KAAoBH,EACpBE,IACDb,GAAa,+FACba,GAAmB,GAGvBb,GAAa,KAAKtL,EAAAA,IAAiBqM,aAAaD,GAAkB1sD,SAEtEorD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO9D,cAAc0B,MAC5B+C,UAAWI,EAAiBf,EAAO9D,cAAeyE,IAE1D,CAGJ,IAAIgB,EAActM,EAAAA,IAAiBuM,UAAUC,OAAOC,MAAMnuD,GAA8B,WAAlBA,EAAQouD,QAC1EC,EAAU,GACd,IAAK,IAAIX,KAAUM,EAAYM,MAC3BD,EAAQX,GAAUa,GAAiC,EAAMb,GAoB7D,GAlBAW,EAAQG,MAAM,CAACprD,EAAEO,IAAMP,EAAEqrD,MAAQ9qD,EAAE8qD,QAI/BpC,EAAO5D,qBAAqBqB,SAC5B0C,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO5D,qBAAqBwB,MACnC+C,UAAWI,EAAiBf,EAAO5D,qBAAsB4F,EAAQ3M,EAAAA,uBAAoCmL,eAAea,QAAQgB,0BAIhIrC,EAAO3D,qBAAqBoB,SAC5B0C,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO3D,qBAAqBuB,MACnC+C,UAAWI,EAAiBf,EAAO3D,qBAAsB2F,EAAQ3M,EAAAA,uBAAoCmL,eAAea,QAAQiB,0BAIhItC,EAAO1D,iCAAiCmB,QAAS,CACjD,IAAI8E,EAAqB,GACzB,IAAK,IAAIC,KAAaR,EACdQ,IAAcnN,EAAAA,uBAAoCmL,eAAea,SACjEkB,GAAsBP,EAAQQ,GAAWH,wBAE7CE,GAAsB,KAG1BpC,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO1D,iCAAiCsB,MAC/C+C,UAAWI,EAAiBf,EAAO1D,iCAAkCiG,IAE7E,CAEA,GAAIvC,EAAOzD,iCAAiCkB,QAAS,CACjD,IAAI8E,EAAqB,GACzB,IAAK,IAAIC,KAAaR,EACdQ,IAAcnN,EAAAA,uBAAoCmL,eAAea,SACjEkB,GAAsBP,EAAQQ,GAAWF,wBAE7CC,GAAsB,KAG1BpC,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOzD,iCAAiCqB,MAC/C+C,UAAWI,EAAiBf,EAAOzD,iCAAkCgG,IAE7E,CAGA,GAAIvC,EAAOxD,WAAWiB,QAAS,CAC3B,IAAIkD,EAAY,WAAaV,EAAgB,sDAAwDO,EAAeM,MAAQ,+BAAiCN,EAAea,OAAS,OACrLlB,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOxD,WAAWoB,MACzB+C,UAAWI,EAAiBf,EAAOxD,WAAYmE,IAEvD,CAGA,GAAIX,EAAOvD,QAAQgB,SACX+C,EAAe/D,QAAQ57D,OAAS,EAAG,CACnC,IAAIygE,EAAajM,EAAAA,IAAiBgL,gBAAgBkB,0BAA0Bf,EAAe/D,QAAS8D,GAChGkC,GAAqB,EACrB9B,EAAY,GAChB,IAAK,IAAI+B,KAAcpB,EACdmB,IACD9B,GAAa,2EAA4EH,EAAe/D,QAAQ57D,OAAO,EAAG,IAAI,SAC9H4hE,GAAqB,GAEzB9B,GAAa,KAAOtL,EAAAA,IAAiBqM,aAAagB,GAAY3tD,KAAO,KAGzEorD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOvD,QAAQmB,MACtB+C,UAAWI,EAAiBf,EAAOvD,QAASkE,IAEpD,CAIJ,GAAIX,EAAO7C,aAAaM,QAAS,CAC7B,IAAIkD,EAAY,gDAAkDV,EAAgB,gDAClFE,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO7C,aAAaS,MAC3B+C,UAAWI,EAAiBf,EAAO7C,aAAcwD,IAEzD,CAEA,GAAIX,EAAO5C,iBAAiBK,QAAS,CAEjC,IAAIkF,EAAuB,GAC3B,IAAK,IAAIC,KAAa5C,EACdA,EAAO4C,GAAWnF,SAAWuC,EAAO4C,GAAWlF,WAC/CiF,EAAqBr6D,KAAK03D,EAAO4C,IAGzCD,EAAqBR,MAAK,CAACprD,EAAGO,IAAOP,EAAE4mD,WAAarmD,EAAEqmD,YAAc,EAAIrmD,EAAEqmD,WAAa5mD,EAAE4mD,WAAa,EAAI,IAE1G,IAAIgD,EAAY,GACZxtB,EAAQ,EACZ,IAAK,IAAI0vB,KAAuBF,EACd,IAAVxvB,IACAwtB,GAAa,yIAEjBxtB,IACAwtB,GAAa,GAAGxtB,OAAW0vB,EAAoB18D,SAAS08D,EAAoB18D,SAGhFg6D,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO7C,aAAaS,MAC3B+C,UAAWI,EAAiBf,EAAO7C,aAAcwD,IAEzD,CAKA,GAAIX,EAAOjD,MAAMU,QAAS,CACtB,IAAIkD,EAAY,kSAChBR,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOjD,MAAMa,MACpB+C,UAAWI,EAAiBf,EAAOjD,MAAO4D,IAElD,CAGA,GAAIH,EAAexD,WAA0C,KAA7BwD,EAAexD,WAAoBgD,EAAOhD,UAAUS,QAAS,CACzF,IAAIkD,EAAY,qFAAqFH,EAAexD,cACpHmD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOhD,UAAUY,MACxB+C,UAAWI,EAAiBf,EAAOhD,UAAW2D,IAEtD,CAGA,GAAIX,EAAOtD,sBAAsBe,cACAlG,IAAzBiJ,EAAesC,MAAqB,CACpC,IAAInC,EAAY,6EAA+EH,EAAesC,MAAQ,6BACtH3C,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOtD,sBAAsBkB,MACpC+C,UAAWI,EAAiBf,EAAOtD,sBAAuBiE,IAElE,CAIJ,GAAIX,EAAOrD,YAAYc,QAAS,CAC5B,IAAIkD,EAAYV,EAAgB,wDAA0D5K,EAAAA,IAAiB0N,YAAY9C,GAAetD,YAAc,MACpJwD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOrD,YAAYiB,MAC1B+C,UAAWI,EAAiBf,EAAOrD,YAAagE,IAExD,CAGA,GAAIX,EAAOnD,SAASY,QAAS,CACzB,IAAIkD,EAAY,GAAGV,uBAAmC5K,EAAAA,IAAiB0N,YAAY9C,GAAepD,iBAAiBqD,uBAAmC7K,EAAAA,IAAiB0N,YAAY7C,GAAerD,cAClMsD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOnD,SAASe,MACvB+C,UAAWI,EAAiBf,EAAOnD,SAAU8D,IAErD,CAGA,GAAIX,EAAOlD,eAAeW,QAAS,CAE/B,IAAIuF,EAA0B3N,EAAAA,IAAiB0N,YAAY9C,GAAenD,eACtEmG,EAA0B5N,EAAAA,IAAiB0N,YAAY7C,GAAepD,eAEtE6D,EAAY,6BAA6BV,SAAqBC,OAClE,IAAK,IAAIgD,KAAYF,EACjB,GAAIE,IAAahD,EACb,IAAK,IAAIiD,KAAYH,EAAwBE,GACzCvC,GAAa,KAAKwC,MAI9B,IAAK,IAAID,KAAYD,EACjB,GAAIC,IAAajD,EACb,IAAK,IAAIkD,KAAYF,EAAwBC,GACzCvC,GAAa,KAAKwC,MAK9BhD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOlD,eAAec,MAC7B+C,UAAWI,EAAiBf,EAAOlD,eAAgB6D,IAE3D,CAGA,GAAIX,EAAO/C,iBAAiBQ,QAAS,CACjC,IAAIkD,EAAY,mLAChBR,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO/C,iBAAiBW,MAC/B+C,UAAWI,EAAiBf,EAAO/C,iBAAkB0D,IAE7D,CAGA,GAAIX,EAAO9C,MAAMO,QAAS,CACtB,IAAIkD,EAAY,mGAChBR,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAO9C,MAAMU,MACpB+C,UAAWI,EAAiBf,EAAO9C,MAAOyD,IAElD,CAGA,GAAIX,EAAOpD,iBAAiBa,QAAS,CACjC,IAAI2F,EAAa,CACb,CACI1E,SAAU,eACV/7D,KAAM,MACNs+D,MAAO,IACPoC,OAAQ,IACR99D,OAAQ,IAKZo7D,EAAY,GAAGV,SAAqBC,KAF3B7K,EAAAA,IAAiBgL,gBAAgBiD,aAAaF,EAAY7C,EAAUlL,EAAAA,IAAiBkO,iBACzEC,QAA2B,OAAhB,sCAEpCrD,EAAW73D,KAAK,CACZs1D,MAAOoC,EAAOpD,iBAAiBgB,MAC/B+C,UAAWI,EAAiBf,EAAOpD,iBAAkB+D,IAE7D,CAWAR,EAAWgC,MAAK,CAACprD,EAAGO,IAAOP,EAAE6mD,MAAQtmD,EAAEsmD,MAAQ,EAAItmD,EAAEsmD,MAAQ7mD,EAAE6mD,OAAS,EAAI,IAE5E,IAAIM,EAAS,GACb,IAAK,IAAIyC,KAAaR,EACH,KAAXjC,IACAA,GAAU,MAEdA,GAAUyC,EAAUA,UAKxB,OAFAzC,EAAS,WAAaA,EAAS,gBAExBA,CACX,EAGI6C,EAAmB,SAASf,EAAQW,GACpC,IAAI8C,EAAiB9C,EAAU/6D,MAAM,SACjC89D,EAAqB,GACrB1D,EAAOnC,SACP6F,GAAsB,IAAI1D,EAAO75D,UAErC,IAAI86D,GAAQ,EACZ,IAAK,IAAI0C,KAAiBF,EACA,KAAlBE,IACI3D,EAAOvC,SAAWuC,EAAOtC,YACrB+F,EAAe5iE,OAAS,GAAKogE,GAE7BA,GAAQ,EACR0C,EAAgB,GAAGA,KAEnBA,EAAgB,GAAGnI,IAAsBmI,IAAgBlI,KAIjEkI,GAAiB,KACjBD,GAAsBC,GAM9B,OAHI3D,EAAOnC,SACP6F,GAAsB,KAAK1D,EAAO75D,UAE/Bu9D,CACX,EAIIxB,EAAmC,SAAS0B,EAAgBvC,GAE5D,IAAIwC,EAAa,CACbxB,uBAAwB,GACxBC,uBAAwB,GACxBF,MAAO,GAGP0B,EAAgB,GAChBC,EAAgB,GAIpB,IAAK,IAAIC,KAAQ3O,EAAAA,uBAAoC4O,IAAI5C,GAAQ6C,UAC7DL,EAAWzB,OAAS4B,EAAK5B,MACrB4B,EAAK5B,MAAQ,EACb0B,EAAcx7D,KAAK07D,GACZA,EAAK5B,MAAQ,GACpB2B,EAAcz7D,KAAK07D,GAG3B,GAAIF,EAAcjjE,OAAS,EAAG,CAC1BgjE,EAAWxB,uBAA0BuB,EAAgB,eAAevO,EAAAA,uBAAoC4K,yCAAyCoB,QAAahM,EAAAA,uBAAoC6K,uBAAuB,GACzN,IAAK,IAAI8D,KAAQF,EAAe,CAI5B,IAAIK,EAAa9O,EAAAA,IAAiBgL,gBAAgB+D,qBAAqBJ,EAAMA,EAAK3jC,OAAOgkC,qBAAqB,IAAI,GAClHR,EAAWxB,wBAA0B,KAAK2B,EAAKp3B,WAAWo3B,EAAKvH,QAAQ,GAAG6H,YAAYH,KAC1F,CACJ,CACA,GAAIJ,EAAcljE,OAAS,EAAG,CAC1BgjE,EAAWvB,uBAA0BsB,EAAgB,oBAAoBvO,EAAAA,uBAAoC4K,sDAAsDoB,QAAahM,EAAAA,uBAAoC6K,uBAAuB,GAC3O,IAAK,IAAI8D,KAAQD,EAAe,CAC5B,IAAII,EAAa9O,EAAAA,IAAiBgL,gBAAgB+D,qBAAqBJ,EAAMA,EAAK3jC,OAAOgkC,qBAAqB,IAAI,GAClHR,EAAWvB,wBAA0B,KAAK0B,EAAKp3B,UAAUo3B,EAAKvH,QAAQ,GAAG6H,YAAYH,KACzF,CACJ,CACA,OAAON,CACX,EAiEA,IASIhD,EAA0B,SAAU74D,EAAOg4D,GAC3C,IAAIW,EAAY,GAWhB,OAVAA,GAAa,cACbA,GAAa,WACbA,GAAa1C,EAAaj2D,GAAOk2D,OACjCyC,GAAa,KAEbA,GAAa,YACbA,GAAa1C,EAAaj2D,GAAOm2D,SACjCwC,GAAa,eACbA,GAAa,KACbA,GAAcX,EAAOjC,UAAa,oEAAoEE,EAAaj2D,GAAO+1D,cAAc,GACjI4C,CACX,EAGI4D,EAA0BxqB,iBAE1B,IAAImkB,EAAS7I,EAAAA,cAA6B,QAAUA,EAAAA,cAA6B,6DAA+DA,EAAAA,IAAiBgL,gBAAgBK,qBAAqBI,MAAQ,wCAC1MG,GAAQ,EACZ,IAAK,IAAIC,KAAW7L,EAAAA,wBAAsC,CACtD,IAAI8L,EAAQF,EAAS,qBAAuB,YAC5CA,GAAQ,EAER/C,GAAU,KAAOgD,EAAQE,QAAU,IAAMD,EAAO,MAASD,EAAQC,KAAO,OAC5E,CACAjD,GAAU,gEACVA,GAAU,IAAI7I,EAAAA,mCAAgDA,EAAAA,IAAiB0N,YAAY1N,EAAAA,eAA4BwH,iBAAiBxH,EAAAA,mCAAgDA,EAAAA,IAAiB0N,YAAY1N,EAAAA,eAA4BwH,YACjP13B,QAAQj6B,IAAIgzD,GACZ/4B,QAAQj6B,IAAI,mBACZ,IAAIs5D,QAAYnG,EAAcH,GAU9B,MATa,CACTpK,UAAWuB,EAAAA,cACXrB,UAAWqB,EAAAA,cACX2L,QAASwD,EAETC,SAAUC,gBAAgBrP,EAAAA,yBAC1BQ,SAAUR,EAAAA,IAAiBgL,gBAAgBK,qBAAqBI,MAChEn/C,KAAM0zC,EAAAA,IAAiBsP,KAAKC,qBAAuBvP,EAAAA,wBAAqCx0D,OAGhG,uEClsCA,IAAI0G,EAAU,SAAUs9D,GACvB,MAA8B,mBAAvBp2D,SAAS1J,KAAK8/D,EACtB,EA8DCnM,EAAe,SAAUoM,EAAKr/C,GAC7B,YAAY8xC,IAAR9xC,EACCq/C,GAAO,GAAoB,kBAARA,EACf,EAEDn5D,KAAKgtD,MAAMhtD,KAAK6C,SAAW7C,KAAKo5D,MAAMD,IAAQ,EAGjDA,GAAO,GAAoB,kBAARA,GAAoBA,GAAOr/C,GAAsB,kBAARA,EACxD,EAED9Z,KAAKgtD,MAAMhtD,KAAK6C,UAAYs2D,EAAMr/C,EAAM,IAAMA,CAEvD,EAEAu/C,EAAmB,CAAC,EAYpBC,EAAiB,SAAU/mD,EAAK4mD,GAC/B,IAAII,EAAM,EACTC,EAAWH,EAAiB9mD,GAE7B,GAAmB,kBAAR4mD,EACV,MAAM,IAAIlhE,MAAM,6CAA+CkhE,EAAM,oBAAsBA,EAAM,uBAElG,OAAIA,GAAO,EACH,QAGSvN,IAAb4N,EACHD,EAAMxM,EAAaoM,IAEnBI,EAAMxM,EAAaoM,EAAM,KACdK,IACVD,GAAO,GAGTF,EAAiB9mD,GAAOgnD,EACjBA,EACR,EAuBAE,EAAa,CAAC,EAsCdC,EAAQ,SAAUC,GACjB,OAAOA,EAAI5M,EAAa4M,EAAIzkE,QAAU,EACvC,EA+GA0kE,EAAS,SAAUL,EAAKM,EAAKC,EAAIhgD,EAAKq/C,GACrC,GAAmB,kBAARI,GAAmC,kBAARM,GACrB,kBAARV,QAA4BvN,IAARuN,GACb,kBAARr/C,QAA4B8xC,IAAR9xC,EAC3B,MAAM,IAAI7hB,MAAM,mEAAqEshE,EAAM,SAAWM,EAAM,SAAW//C,EAAM,SAAWq/C,EAAM,KAE/I,OAAQW,GACP,IAAK,IAAKP,GAAYM,EAAK,MAC3B,IAAK,IAAKN,GAAYM,EAAK,MAC3B,IAAK,IAAKN,GAAYM,EAAK,MAC3B,IAAK,IACQ,IAARA,EAEHrgC,QAAQj6B,IAAI,yDAA2Dg6D,EAAM,SAAWM,EAAM,QAAUC,EAAK,SAAWhgD,EAAM,SAAWq/C,GAEzII,GAAYM,EAUf,YANYjO,IAARuN,GAAqBI,EAAMJ,IAC9BI,EAAMJ,GAEHI,EAAMz/C,IACTy/C,EAAMz/C,GAEAy/C,CACR,EA2BAQ,EAAO,SAAUC,GAChB,GAAmB,kBAARA,EACV,MAAM,IAAI/hE,MAAM,+BAAiC+hE,EAAM,2BAExD,OAAOA,EAAI/N,OAAO,GAAGnR,cAAgBkf,EAAIj3D,MAAM,EAChD,EA6LAk3D,EAAgB,SAAUV,GACzB,GAAmB,kBAARA,EAAkB,OAAOA,EACpC,IAAIW,EAAI,GACR,GAAIX,EAAM,GACT,OAAQA,GACP,KAAK,EAAGW,EAAI,OAAQ,MACpB,KAAK,EAAGA,EAAI,MAAO,MACnB,KAAK,EAAGA,EAAI,MAAO,MACnB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,OAAQ,MACpB,KAAK,EAAGA,EAAI,OAAQ,MACpB,KAAK,EAAGA,EAAI,MAAO,MACnB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,OAAQ,MACpB,KAAK,GAAIA,EAAI,MAAO,MACpB,KAAK,GAAIA,EAAI,SAAU,MACvB,KAAK,GAAIA,EAAI,SAAU,MACvB,KAAK,GAAIA,EAAI,WAAY,MACzB,KAAK,GAAIA,EAAI,WAAY,MACzB,KAAK,GAAIA,EAAI,UAAW,MACxB,KAAK,GAAIA,EAAI,UAAW,MACxB,KAAK,GAAIA,EAAI,YAAa,MAC1B,KAAK,GAAIA,EAAI,WAAY,MACzB,KAAK,GAAIA,EAAI,WAAY,MACzB,QAASA,EAAI,sBAER,GAAIX,EAAM,IAAK,CACrB,OAAQv5D,KAAKgtD,MAAMuM,EAAM,KACxB,KAAK,EAAGW,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,UAAW,MACvB,KAAK,EAAGA,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,SAETX,EAAM,IAAM,IACfW,EAAIA,EAAI,IAAMD,EAAcV,EAAM,IAEpC,MAAWA,EAAM,KAChBW,EAAI,YACAX,EAAM,IAAM,IAAGW,EAAIA,EAAI,QAAUD,EAAcV,EAAM,OAC/CA,EAAM,KAChBW,EAAID,EAAcj6D,KAAKgtD,MAAMuM,EAAM,MAAQ,WACvCA,EAAM,KAAO,IAAGW,EAAIA,EAAI,QAAUD,EAAcV,EAAM,OAChDA,EAAM,MAChBW,EAAID,EAAcj6D,KAAKgtD,MAAMuM,EAAM,MAC/BA,EAAM,KAAO,EAChBW,EAAIA,EAAI,IAAMD,EAAcV,EAAM,KAElCW,GAAQ,YAGTA,EAAI,wBAEL,OAAOA,CACR,EAsCAj3B,EAAQ,SAAUi2B,GAEjB,GAAI,OAASA,GAAO,kBAAoBA,EAAK,OAAOA,EAGpD,GAAIA,aAAev9D,MAAO,CAEzB,IADA,IAAIw+D,EAAO,GACF/kE,EAAI,EAAGglE,EAAMlB,EAAIhkE,OAAQE,EAAIglE,EAAKhlE,IAC1C+kE,EAAK/kE,GAAK6tC,EAAMi2B,EAAI9jE,IAErB,OAAO+kE,CACR,CAGA,GAAIjB,aAAenhE,OAAQ,CACtBoiE,EAAO,CAAC,EACZ,IAAK,IAAIE,KAAQnB,EACZA,EAAIn7D,eAAes8D,KAAOF,EAAKE,GAAQp3B,EAAMi2B,EAAImB,KAEtD,OAAOF,CACR,CAEA,MAAM,IAAIliE,MAAM,gDACjB,EAaAqiE,EAAY,SAAUpB,EAAKqB,QACN3O,IAAhB2O,IACHA,EAAc,GAEf,IAAIP,EAAM,GACNQ,EAAS7+D,MAAM4+D,EAAc,GAAGp3C,KAAK,KACzC,IAAK,IAAI5Q,KAAO2mD,EACS,kBAAbA,EAAI3mD,IACdynD,GAAOQ,EAASjoD,EAATioD,OACPR,GAAOM,EAAUpB,EAAI3mD,GAAMgoD,EAAc,IAEzCP,GAAOQ,EAASjoD,EAAM,KAAO2mD,EAAI3mD,GAAO,KAG1C,OAAOynD,CACR,EAGIxnD,OAAOxZ,UAAUZ,OACrBoa,OAAOxZ,UAAUZ,KAAO,WACvB,OAAOwO,KAAKvM,QAAQ,aAAc,GACnC,GA8CD,QAxCoB,CACnBuI,UAloBY,SAAUs2D,GACrB,OAAOQ,EAAM3hE,OAAOkgB,KAAKihD,GAC1B,EAioBAt9D,QAASA,EACT6+D,MAnrBQ,SAAUZ,GACjB,OAAKa,WAAWb,IAAQc,SAASd,KAAU/a,MAAM+a,EAKlD,EA8qBA9vD,IAnpBM,SAAU4jB,EAAOitC,GACtB,YAAchP,IAAVj+B,GACGA,EAAMt1B,QAAQuiE,IAAS,CAC/B,EAipBA7N,aAAcA,EACduM,eAAgBA,EAChBuB,aA/jBe,SAAUllD,EAAQmlD,GAChC,GAAIA,GAAU,EACb,OAAOnlD,EAER,IAAIolD,EAASplD,EAASmlD,EAElBjlD,EADUF,EAASmlD,EACDC,EAEtB,OADa/6D,KAAK6C,UAAYgT,EAAQ,GAAO7V,KAAK6C,UAAYgT,EAAQ,GAAO7V,KAAK6C,UAAYgT,EAAQ,GACvFklD,CAChB,EAujBApkE,SA1iBW,SAAU4b,GAKpB,YAJwBq5C,IAApB6N,EAAWlnD,KACdknD,EAAWlnD,GAAO,GAEnBknD,EAAWlnD,IAAQ,EACZknD,EAAWlnD,EACnB,EAqiBAyoD,cA7hBgB,SAAUzoD,GACzBknD,EAAWlnD,GAAO,CACnB,EA4hBAmnD,MAAOA,EACPuB,cApgBgB,SAAU1oD,EAAKonD,GAC9B,GAAK/9D,EAAQ+9D,IAAuB,IAAfA,EAAIzkE,OAGzB,OAAmB,IAAfykE,EAAIzkE,OACAykE,EAAI,GAELA,EAAIL,EAAe/mD,EAAKonD,EAAIzkE,QAAU,EAC9C,EA6fAgmE,YAjdc,SAAUvB,GACvB,IAAIwB,EAAU,GACbC,EAAY,GACZC,GAAe,EAChB,IAAKz/D,EAAQ+9D,GACZ,MAAM,IAAI1hE,MAAM,2CAA6C0hE,EAAM,2BAEpE,GAAIA,EAAIzkE,QAAU,EACjB,OAAOykE,EAGR,IADAwB,EAAUxB,EAAI52D,MAAM,GACbo4D,EAAQjmE,OAAS,GACvBmmE,EAActO,EAAaoO,EAAQjmE,QAAU,EAC7CkmE,EAAUz+D,KAAKw+D,EAAQE,IACvBF,EAAQ7xB,OAAO+xB,EAAa,GAE7B,OAAOD,CACR,EAicAE,QApYU,SAAU/B,EAAKM,EAAKV,GAC7B,OAAOS,EAAOL,EAAKM,EAAK,IAAK,EAAGV,EACjC,EAmYAoC,aAxYe,SAAUhC,EAAKM,EAAKV,GAClC,OAAOS,EAAOL,EAAKM,EAAK,IAAK,EAAGV,EACjC,EAuYAqC,aAnYe,SAAUjC,EAAKM,EAAK//C,GAClC,OAAO8/C,EAAOL,EAAKM,EAAK,IAAK//C,OAAK8xC,EACnC,EAkYA6P,WAjYa,SAAUlC,EAAKM,EAAK//C,GAChC,OAAO8/C,EAAOL,EAAKM,EAAK,IAAK//C,OAAK8xC,EACnC,EAiYAmO,KAAMA,EACN2B,OAAQ3B,EACR4B,OArWS,SAAU3B,GAClB,GAAmB,kBAARA,EACV,MAAM,IAAI/hE,MAAM,iCAAmC+hE,EAAM,2BAE1D,OAAOA,EAAI/N,OAAO,GAAGtmD,cAAgBq0D,EAAIj3D,MAAM,EAChD,EAiWA64D,UAtVY,SAAU5B,GACrB,IAAI6B,EACHC,EAAW,GACXC,EAAO,EACR,GAAmB,kBAAR/B,EACV,MAAM,IAAI/hE,MAAM,yCAA2C+hE,EAAM,2BAGlE,IAAK+B,KADLF,EAAU7B,EAAI5hE,OAAO6B,MAAM,KAE1B6hE,GAAY/B,EAAK8B,EAAQE,IAAS,IAEnC,OAAOD,EAAS1jE,MACjB,EA2UA4jE,QA/TU,SAAUC,EAAMtzD,GACzB,IAAIgD,EACHuwD,EAAS,GACV,GAAoB,kBAATD,IAAsBrgE,EAAQ+M,IAAkC,kBAAfA,EAAQ,GACnE,MAAM,IAAI1Q,MAAM,0GAA4GgkE,EAAO,YAAcA,EAAO,MAAQtzD,EAAU,YAAcA,EAAU,KAGnM,IAAKuzD,KADLvwD,EAAIswD,EAAKt2D,cACMgD,EACd,GAAIgD,IAAMhD,EAAQuzD,GAAQv2D,cACzB,OAAO,EAGT,OAAO,CACR,EAmTAw2D,QAxSU,SAAUjD,GACnB,IAAIc,EAAM,GACToC,EAAM,EACN7pD,EAAM,GACP,IAAKA,KAAO2mD,EAEVc,GADW,IAARoC,EACI7pD,EAEA,KAAOA,EAEf6pD,GAAO,EAER,OAAOpC,CACR,EA4RAqC,iBAhRmB,SAAUC,EAAMC,GAClC,IAAInnE,EAAI,EACPonE,EAAY,GACb,IAAK5gE,EAAQ0gE,KAAU1gE,EAAQ2gE,GAC9B,MAAM,IAAItkE,MAAM,+DAEjB,GAAIqkE,EAAKpnE,SAAWqnE,EAAKrnE,OACxB,OAAO,EAGR,IAAKE,KADLonE,EAAYD,EAAKx5D,MAAM,GACbu5D,EAAM,CACf,IAAIG,EAAWD,EAAUnkE,QAAQikE,EAAKlnE,IACtC,KAAIqnE,GAAY,GAGf,OAAO,EAFPD,EAAUlzB,OAAOmzB,EAAU,EAI7B,CACA,OAAyB,IAArBD,EAAUtnE,MAIf,EA2PAwnE,SAhPW,SAAUnD,GACpB,OAAOA,GAAOv5D,KAAK28D,GAAK,IACzB,EA+OAC,SApOW,SAAUrD,GACpB,OAAOA,GAAO,IAAMv5D,KAAK28D,GAC1B,EAmOAE,QApNU,SAAUtD,EAAKuD,GAExB,OADa98D,KAAKo5D,MAAMG,EAAMv5D,KAAK+8D,IAAI,GAAID,IAAQ98D,KAAK+8D,IAAI,GAAID,EAEjE,EAkNAE,MAhMQ,SAAUnD,EAAKoD,EAAWC,EAAWC,EAAWC,GACvD,OAAUvD,EAAMoD,IAAcC,EAAYD,IAAeG,EAAYD,GAAcA,CACpF,EA+LAE,WAjgBa,SAAoBC,EAAaC,EAAYC,GAMzD,IALA,IAAIC,EAAYF,GAAc,MAC1BG,EAAUF,GAAY,GACtBG,EAAS,GACTC,EAAa36B,EAAMq6B,GACnBO,EAAaD,EAAW1oE,OACrB0oE,EAAW1oE,OAAS,GAAG,CAE7ByoE,GAAUD,EADCE,EAAWtY,QACKoY,EACF,GAArBE,EAAW1oE,OAEbyoE,GADiB,GAAdE,EACO,IAAMJ,EAAY,IAElB,KAAOA,EAAY,IAEE,IAAtBG,EAAW1oE,SACrByoE,GAAU,KAEZ,CACA,OAAOA,CACR,EA8eA16B,MAAOA,EACPg3B,cAAeA,EACf6D,cAnIgB,SAAUvE,GACzB,GAAmB,kBAARA,EAAkB,OAAOA,EACpC,IAAIW,EAAID,EAAcV,GAAO,KAC7B,OAAQA,GACP,KAAK,EAAGW,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,EAAGA,EAAI,SAAU,MACtB,KAAK,EAAGA,EAAI,QAAS,MACrB,KAAK,GAAIA,EAAI,UAAW,MACxB,KAAK,GAAIA,EAAI,YAEd,GAAIX,EAAM,GAAI,CACb,IAAIwE,EAAW,GAAKxE,EAEpB,OADgBwE,EAASA,EAAS7oE,OAAS,IAE1C,IAAK,IAAKglE,EAAIX,EAAM,KAAM,MAC1B,IAAK,IAAKW,EAAIX,EAAM,KAAM,MAC1B,IAAK,IAAKW,EAAIX,EAAM,KAAM,MAC1B,QAASW,EAAIX,EAAM,KAErB,CACA,OAAOW,CACR,EA2GA8D,MA/rBQ,SAAUhE,EAAKiE,GAEtB,OAAQjE,EAAM,IAAI3/D,QAAQ,gCAAiC,MAD3C4jE,GAAgC,qBAAbA,EAA4B,SAAW,QACG,KAC9E,EA8rBA3D,UAAWA,EAEX4D,OA3ES,SAAUC,EAAWC,GAC7B,GAAID,EACH3kC,QAAQj6B,IAAI,cACN,CACNi6B,QAAQj6B,IAAI,WAAa6+D,GACzB,IAAK,IAAIhpE,EAAI,EAAGA,GAAKH,UAAUC,OAAQE,IACtCokC,QAAQj6B,IAAItK,UAAUG,GAExB,CACD,uKCvpBD,IACI6gE,EAAWnL,EAASuT,EAAYtT,EAAcuT,EAAUC,EAAQC,EADhEC,EAAgB,UAEpB,MAAMC,EAActwB,UAChB,GAAsB,qBAAX3rC,OAAwB,CAE/B,MAAMk8D,QAAgBhyB,QAAQiyB,IAAI,CAC9B,OAAOH,EAAgB,eACvB,OAAOA,EAAgB,aACvB,OAAOA,EAAgB,gBACvB,OAAOA,EAAgB,wBACvB,OAAOA,EAAgB,sBACvB,OAAOA,EAAgB,YACvB,OAAOA,EAAgB,iBAE1BxI,EAAWnL,EAASuT,EAAYtT,EAAcuT,EAAUC,EAAQC,GAC7DG,EAAQjxC,KAAIu6B,GAAUA,EAAO4W,SACrC,KAAO,CAGH,MAAMC,QAAkBnyB,QAAQiyB,IAAI,CAChC5K,MAAMyK,EAAgB,eACtBzK,MAAMyK,EAAgB,aACtBzK,MAAMyK,EAAgB,gBACtBzK,MAAMyK,EAAgB,wBACtBzK,MAAMyK,EAAgB,sBACtBzK,MAAMyK,EAAgB,YACtBzK,MAAMyK,EAAgB,gBAEpBM,QAAiBpyB,QAAQiyB,IAAIE,EAAUpxC,KAAI8kC,GAAYA,EAAS2B,WACrE8B,EAAWnL,EAASuT,EAAYtT,EAAcuT,EAAUC,EAAQC,GAAYO,CACjF,CACA,MAAO,CAAE9I,YAAWnL,UAASuT,aAAYtT,eAAcuT,WAAUC,SAAQC,WAAU,QAGjFE,IAkCN,IAkFIM,EAmLAC,EAlMAC,EAAqB,SAAUC,GAClC,IAAIC,EAAU,CAAC,EAWf,OAVAA,EAAQhJ,MAAQ+I,EAAU/I,MAC1BgJ,EAAQpoE,KAAOmoE,EAAUnoE,KACzBooE,EAAQC,cAAgBF,EAAUE,cAClCD,EAAQE,UAAYH,EAAUG,UAC9BF,EAAQG,kBAAoBJ,EAAUI,kBACtCH,EAAQI,SAAWL,EAAUK,SAC7BJ,EAAQtlD,IAAMqlD,EAAUM,SACxBL,EAAQjG,IAAMgG,EAAUO,SACxBN,EAAQO,WAAaR,EAAU5iE,aAC/B6iE,EAAQQ,YAAcT,EAAUS,YACzBR,CACR,EAgBIS,EAAsB,SAAU5jE,GACnC,IAEI6jE,EAFAC,EAAY,CAAC,EAIjB,IACC,GAAoB,kBAAT9jE,EAEV6jE,EAAc7L,KAAK+L,MAAM/jE,GAAOi6D,WAC1B,IAAoB,kBAATj6D,EAKjB,MADAu9B,QAAQj6B,IAAI,oBAAqBtD,GAC3B,IAAIhE,MAAM,8DAA+DgE,GAH/E6jE,EAAa7jE,EAAKi6D,MAInB,CACD,CAAE,MAAOxuD,GASR,MARA8xB,QAAQj6B,IAAImI,aAAau4D,aACzBzmC,QAAQj6B,IAAImI,EAAE7M,SACd2+B,QAAQj6B,IAAImI,EAAEvQ,MACdqiC,QAAQj6B,IAAImI,EAAEw4D,UACd1mC,QAAQj6B,IAAImI,EAAEy4D,YACd3mC,QAAQj6B,IAAImI,EAAE04D,cACd5mC,QAAQj6B,IAAImI,EAAEvP,OACdqhC,QAAQj6B,IAAItD,GACN,IAAIhE,MAAM,kDAAoDyP,EACrE,CACA,QAAmBkkD,IAAfkU,EACH,MAAM,IAAI7nE,MAAM,wFAGjB,IADA,IAAIooE,GAA8B,EACzBjrE,EAAI,EAAGA,EAAI0qE,EAAW5qE,OAAQE,IAAK,CAC3C,IAAIkrE,EAAiBR,EAAW1qE,GAMhC,IAHmC,IAA/BkrE,EAAeV,cAClBS,GAA8B,GAE3BN,EAAUO,EAAelK,OAC5B,MAAM,IAAIn+D,MAAM,qDAAuDqoE,EAAelK,MAAQ,gCAG/FmK,EAAAA,EAASpB,UAAUmB,EAAgB,yBAA2BlrE,GAE9D4jE,EAAAA,EAAKwH,iBAAiBF,GACtBtH,EAAAA,EAAKyH,gBAAgBH,GACrBtH,EAAAA,EAAK0H,kBAAkBJ,GACvBtH,EAAAA,EAAK2H,kBAAkBL,GACvBtH,EAAAA,EAAK4H,iBAAiBN,GACtBtH,EAAAA,EAAK6H,iBAAiBP,GAGtBP,EAAUO,EAAelK,OAAS,CAAC,EACnC,IAAK,IAAI0K,EAAI,EAAGA,EAAIR,EAAehK,MAAMphE,OAAQ4rE,IAAK,CACrD,IAAI9pE,EAAOspE,EAAehK,MAAMwK,GAAGn7D,cAC/Bo7D,EAAgBC,EAAAA,EAAK/9B,MAAMq9B,GAC/BS,EAAc/pE,KAAOA,EACrB+oE,EAAUO,EAAelK,OAAOp/D,GAAQkoE,EAAmB6B,EAC5D,CAED,CAEA,IAAKV,EACJ,MAAM,IAAIpoE,MAAM,qJAKjB,OAFA+mE,EAAkBe,EAClBQ,EAAAA,EAASU,wBAAwBjC,GAC1BA,CACR,EAyEIkC,EAAsB,SAAUC,GACnC,IAAIC,EAAQD,EAAI,GACZE,EAAQF,EAAI,GAahB,GAZc,UAAVC,IACHA,EAAQ,YAEK,QAAVA,IACHA,EAAQ,GAEK,UAAVC,IACHA,EAAQ,YAEK,QAAVA,IACHA,EAAQ,GAELD,EAAQC,EAAO,CAClB,IAAItX,EAAMoX,EAAI,GACdA,EAAI,GAAKA,EAAI,GACbA,EAAI,GAAKpX,CACV,CACA,OAAOoX,CACR,EAkDIvJ,EAAgB,WACnB,IAAI0J,EAAY,GAChB,IAAK,IAAIlT,KAAa6Q,EACrBqC,EAAU3kE,KAAKsiE,EAAW7Q,GAAWj3D,MAEtC,OAAOmqE,CAER,EAyBIlK,EAAc,SAAU7Z,EAAMhrC,GACjC,IAAK,IAAI67C,KAAa6Q,EACrB,GAAIA,EAAW7Q,GAAWj3D,OAASomD,EAClC,OAAO0hB,EAAW7Q,EASrB,EAsYA,QA5EmB,CAClB9qC,KANU,WAEV,OADA01C,EAAAA,EAAK11C,OACE,IACR,EAICu8C,oBAAqBA,EACrB0B,mBA/ewB,WACxB,OAAOvC,CACR,EA8eCwC,oBAleyB,SAAUpX,GACnC,IAAIqX,EAAc,CAAC,EACfrjC,EAAI4gC,EAAgB5U,GACxB,QAAUwB,IAANxtB,EACH,OAAO,EAGR,IAAK,IAAIsjC,KAAYtjC,EAAG,CACvB,IAAIujC,EAAIvjC,EAAEsjC,GAQV,OAPAD,EAAYpC,cAAgBsC,EAAEtC,cAC9BoC,EAAYnC,UAAYqC,EAAErC,UAC1BmC,EAAYlC,uBAA4C3T,IAAxB+V,EAAEpC,mBAAyCoC,EAAEpC,kBAC7EkC,EAAYjC,SAAWmC,EAAEnC,SACzBiC,EAAY3nD,IAAM6nD,EAAE7nD,IACpB2nD,EAAYtI,IAAMwI,EAAExI,IACpBsI,EAAY9B,WAAagC,EAAEhC,WACpB8B,CACR,CAEA,OAAO,CACR,EA+cCG,iBAncsB,SAAU5qE,GAChC,IAAK,IAAIozD,KAAa4U,EACrB,QAAyCpT,IAArCoT,EAAgB5U,GAAWpzD,GAC9B,OAAOozD,EAGT,OAAO,CACR,EA6bCyX,oBA3byB,SAAU7qE,EAAMozD,GACzC,IAAI0X,EAAK9C,EAAgB5U,GACzB,YAAWwB,IAAPkW,QACalW,IAAbkW,EAAG9qE,EAER,EAubC+qE,cA/YmB,SAAU9lE,GAG7B,IAII7G,EAJA4sE,EAAW/lE,EACXgmE,EAAQD,EAASE,WACjBC,EAAUH,EAASG,QAMvB,IAFAlD,EAAa,GAER7pE,EAAI,EAAGA,EAAI6sE,EAAM/sE,OAAQE,IAAK,EAC9BgtE,EAAapB,EAAAA,EAAK/9B,MAAMg/B,EAAM7sE,KAEvB4B,KAAO,YAClBioE,EAAWtiE,KAAKylE,EACjB,CACA,IAAKhtE,EAAI,OAAew2D,IAAZuW,GAAyB/sE,EAAI+sE,EAAQjtE,OAAQE,IAAK,CAC7D,IAAIgtE,KAAapB,EAAAA,EAAK/9B,MAAMk/B,EAAQ/sE,KAEzB4B,KAAO,SAClBioE,EAAWtiE,KAAKylE,EACjB,CACA,OAAOxK,GACR,EAwXCA,cAAeA,EACf5J,0BA9V+B,WAC/B,OAAOgT,EAAAA,EAAK/9B,MAAMg8B,EACnB,EA6VC7H,YAAaA,EACbiL,YAzTiB,SAAU9kB,GAI3B,OAHW6Z,EAAY7Z,IAGRA,CAChB,EAsTC+kB,mBAxqBwB,SAAUC,GAElC,OADAvJ,EAAAA,EAAKwJ,kBACE3C,EAAoB0C,EAC5B,EAsqBCE,SAxpBc,SAAUC,GAExB,IAAIC,EAOJ,GAAsB,qBAAXlgE,OAAwB,CAClC,IAAImgE,EAAKjuE,QAAQ,MAGjB,OAFAkuE,WAAaD,EAAGE,aAAaJ,EAAU,QACvCC,EAAc1O,KAAK+L,MAAM6C,WAE1B,CAGC,IAAIE,EAAU,IAAIC,eAiBlB,OAfAD,EAAQE,mBAAqB,WAC5B,GAA0B,GAAtBF,EAAQG,YAAqC,KAAlBH,EAAQhhD,OAOtC,OAAO,EANP4gD,EAAc1O,KAAK+L,MAAM+C,EAAQI,aAQnC,EAEAJ,EAAQK,KAAK,MAAOV,GAAU,GAC9BK,EAAQM,OAEDV,CAGT,EAqnBCW,kBAAmBC,EAAAA,EAAYD,kBAC/BE,gBAAiBD,EAAAA,EAAYC,gBAC7BC,cAAeF,EAAAA,EAAYE,cAC3BC,mBAAoBH,EAAAA,EAAYG,mBAChC3N,aAjEkB,SAAS4N,GAC3B,IAAIC,EAAqBrF,EAAOsF,IAAIF,EAAKvN,OAAOuN,EAAK3sE,MACjD8sE,EAAoB7N,EAAUC,OAAO6N,QAAQC,GAAQA,EAAM5N,QAAQuN,EAAKvN,QAAO,GAC/E6N,EAAc,GAClB,GAAIH,EAAkBxE,UACrB2E,EAAeN,EAAK/pE,MAASgqE,EAAmBM,KAAON,EAAmBO,UACpE,CAEN,IAAIC,GAAsB,KAC1B,IAAK,IAAI7xD,KAAOqxD,EAAoB,CACnC,IAAIjuD,EAAS0uD,OAAO9xD,GAChB+xD,EAAoBX,EAAKhL,QAAUgL,EAAK/pE,OACxB,KAAhBqqE,GAAuBtuD,EAAS2uD,GAAqB3uD,EAASyuD,KACjEA,EAAqBzuD,EACrBsuD,EAAcL,EAAmBQ,GAEnC,CACD,CAEA,IAAIG,EAAaN,EAAY5pE,QAAQ,MAAOspE,EAAKrO,OAIjD,MAHwC,eAApCwO,EAAkBzE,gBACrBkF,EAAaA,EAAWlqE,QAAQ,MAAOspE,EAAKjM,SAEtC6M,CACR,EA2CCC,wBAAyBjB,EAAAA,EAAYiB,wBACrCC,SAAUzL,EAAAA,EAAKyL,SACfxrE,IAAK+/D,EAAAA,EAAK//D,IACV0N,IA9Ja,SAAU+9D,EAAiBC,EAAgBC,GAexD,GAVAD,EAAiBA,GAAkB,EACnCC,EAAiBA,GAAkB,OAGKhZ,IAApC8Y,EAAgBG,kBACnBF,GAAkBD,EAAgBG,gBAAgB,GAClDD,GAAkBF,EAAgBG,gBAAgB,IAI/CF,EAAiBC,EAAgB,CACpC,IAAI7a,EAAM4a,EACVA,EAAiBC,EACjBA,EAAiB7a,CAClB,CAOA,OAJmC,IAA/BiP,EAAAA,EAAKC,sBACRD,EAAAA,EAAK8L,kBAAkB,GAGjB9L,EAAAA,EAAKryD,IAAI+9D,EAAiBC,EAAgBC,EAClD,EAoICG,qBAhI0B,SAAU9W,GACpC+K,EAAAA,EAAKgM,qBAAqB/W,EAC3B,EA+HCgX,uBA5H4B,SAAUhX,GACtC,OAAQ+K,EAAAA,EAAKiM,uBAAuBhX,EACrC,EA2HCiX,oBAxHyB,SAAUjX,GACnC+K,EAAAA,EAAKmM,oBAAoBlX,EAC1B,EAuHCmX,sBApH2B,SAAUnX,GAErC,OADwB+K,EAAAA,EAAKiM,uBAAuBhX,EAErD,EAkHCoX,uBA/G4B,SAAUpX,GACtC+K,EAAAA,EAAKsM,mBAAmBrX,EACzB,EA8GCsX,yBA3G8B,SAAUtX,GACxC+K,EAAAA,EAAKuM,yBAAyBtX,EAC/B,EA0GC6W,kBAAmB9L,EAAAA,EAAK8L,kBACxBU,uBAAwBxM,EAAAA,EAAKwM,uBAC7BC,UAAWC,EAAAA,EAAcD,UACzBE,WAAYD,EAAAA,EAAcC,WAC1BC,WAAYF,EAAAA,EAAcG,aAC1BC,WAAY9M,EAAAA,EAAK8M,WAEjBC,SAjQc,SAAU9pE,GACxB,IAAI+pE,EACAC,EACA/F,EACAgG,EAEJ,IACC,GAAoB,kBAATjqE,EACV+pE,EAAa/R,KAAK+L,MAAM/jE,OAClB,IAAoB,kBAATA,EAIjB,MADAu9B,QAAQj6B,IAAI,oBAAqBtD,GAC3B,IAAIhE,MAAM,qDAAsDgE,GAHtE+pE,EAAa/pE,CAId,CACD,CAAE,MAAOyL,GACR,MAAM,IAAIzP,MAAM,6BAA+ByP,EAChD,CAOA,GAJAw4D,EAAW8F,EAAW9F,SACtBgG,EAAQF,EAAWE,MACnBD,EAAWD,EAAWhvE,UAER40D,IAAVsa,EACH,MAAM,IAAIjuE,MAAM,UAAYguE,EAAW,yDAExC,QAAiBra,IAAbqa,EACH,MAAM,IAAIhuE,MAAM,UAAYguE,EAAW,uHAGxC,OAhGuB,SAAUA,EAAU/F,EAAUgG,GAErD,IAAIC,EACAC,EAQAhxE,EAAG0rE,EAAGzI,EANNgO,EAAM,GAOV,IALAF,EAAgC,YAAbF,EAAyB1F,EAAAA,EAAS+F,iBAAmB/F,EAAAA,EAASgG,kBACjFH,EAA6B,YAAbH,EAAyB1F,EAAAA,EAASiG,cAAgBjG,EAAAA,EAASkG,eAItErxE,EAAI,EAAGA,EAAI8wE,EAAMhxE,OAAQE,IAAK,MAGhBw2D,KADlByM,EAAO6N,EAAM9wE,IACJ+B,MACRqiC,QAAQj6B,IAAI,YAAc0mE,EAAW,UAAY7wE,EAAI,yBAGtDijE,EAAKqO,OAASxG,EACd,IAAIyG,EAAQV,EAAW,IAAMjF,EAAAA,EAAKrqE,SAAS,SAK3C,GAJA0vE,EAAI1pE,KAAKgqE,GACTtO,EAAKh6B,GAAKsoC,OAGe/a,IAArBua,EACH,IAAKrF,EAAI,EAAGA,EAAIzI,EAAKZ,WAAWviE,OAAQ4rE,IACvCqF,EAAiB9N,EAAKZ,WAAWqJ,GAAI,aAAemF,EAAW,UAAY7wE,EAAI,MAAQijE,EAAKlhE,KAAO,sCAAwC2pE,QAEhGlV,IAAvCyM,EAAKZ,WAAWqJ,GAAG+D,kBACtBxM,EAAKZ,WAAWqJ,GAAG+D,gBAAkB3D,EAAoB7I,EAAKZ,WAAWqJ,GAAG+D,kBAM/E,QAAsBjZ,IAAlBwa,EACH,IAAKtF,EAAI,EAAGA,EAAIzI,EAAKvH,QAAQ57D,OAAQ4rE,IACpCsF,EAAc/N,EAAKvH,QAAQgQ,GAAI,aAAemF,EAAW,UAAY7wE,EAAI,MAAQijE,EAAKlhE,KAAO,mCAAqC2pE,EAGrI,CAEA,OAAIoF,EAAMhxE,OAAS,GAClBquE,EAAAA,EAAYqD,WAAWX,EAAUC,GAC1BG,GAEA,EAET,CA+CQQ,CAAkBZ,EAAU/F,EAAUgG,EAE9C,EAiOCY,SAhNc,SAAUC,GACxB,MAAoB,YAAhBA,EACIxD,EAAAA,EAAYyD,kBAEA,aAAhBD,EACIxD,EAAAA,EAAY0D,mBAGb1D,EAAAA,EAAY2D,WAAWH,EAE/B,EAuMCI,YArMiB,SAAUhS,EAAOkD,GAEpBlD,EAAMiS,UAAU,EAAGjS,EAAMkS,YAAY,MAAnD,IAIIC,EAAU/G,EAAAA,EAASlI,KAAKA,GAC5B,MAAuB,kBAAZiP,GAEV9tC,QAAQj6B,IAAI,8BAAgC41D,EAAQ,4BAA8BmS,IAC3E,GASD/D,EAAAA,EAAY4D,YAAYhS,EAAOkD,EACvC,EAkLCkP,YAAahE,EAAAA,EAAYgE,YACzBC,eAAgBjE,EAAAA,EAAYiE,eAE5BC,SApHc,SAAU5W,EAAY1I,EAAWE,EAAWqf,GAC1DhC,EAAAA,EAAc+B,SAAS5W,EAAY1I,EAAWE,EAAWqf,EAC1D,EAoHCj9B,MA1GW,WAEXu0B,OAAkBpT,EAMlBoN,EAAAA,EAAKwJ,kBAGLe,EAAAA,EAAYoE,kBACb,EAgGCjT,gBAAiBA,EAAAA,EACjBgR,cAAeA,EAAAA,EACfnC,YAAaA,EAAAA,EACbvK,KAAMA,EAAAA,EACNuH,SAAUA,EAAAA,EAEVtK,UAAWA,EACXnL,QAASA,EACTuT,WAAYA,EACZtT,aAAcA,EACduT,SAAUA,EACVE,SAAUA,EACVD,OAAQA,oCC7yBT,SAASqJ,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,mDCEb5I,WALA8I,EAAkB,CAAC,WAAY,aAAc,cAC7CC,EAAuB,CAAC,IAAK,IAAK,KAClCC,EAAoB,CAAC,IAAK,IAAK,KAC/BC,EAAuB,CAAC,MAAO,SAyB/B3B,EAAmB,SAAU3C,EAAMuE,GAEtC,OADAC,EAAexE,EAAM,YAAa,UAAWuE,GACtCvE,CACR,EAYI6C,EAAgB,SAAU7C,EAAMuE,GAEnC,OADAC,EAAexE,EAAM,SAAU,UAAWuE,GACnCvE,CACR,EAYI4C,EAAoB,SAAU5C,EAAMuE,GAEvC,OADAC,EAAexE,EAAM,YAAa,WAAYuE,GACvCvE,CACR,EAYI8C,EAAiB,SAAU9C,EAAMuE,GAEpC,OADAC,EAAexE,EAAM,SAAU,WAAYuE,GACpCvE,CACR,EA2EIwE,EAAiB,SAAUxE,EAAM3sE,EAAM+7D,EAAUmV,GACpD,IAAIxzC,EAAS0zC,EAAUzE,EAAM3sE,EAAM+7D,GACnC,IAAe,IAAXr+B,EAEH,MADA8E,QAAQj6B,IAAI,kBAAmBokE,GACzB,IAAI1rE,MAAMiwE,EAAW,qCAAuCxzC,EAAS,KAE5E,OAAOA,CACR,EAEI0zC,EAAY,SAAUC,EAAWrxE,EAAM+7D,GAG1C,IAAI4Q,EAAO3C,EAAAA,EAAK/9B,MAAMolC,GAGlBC,EAAM,GAGV,GAAwB,cAApBD,EAAUjS,OAA6C,wBAApBiS,EAAUjS,MAAiC,OAAO,EAGzF,IAAImS,EAAc,SAAU5E,EAAMpxD,EAAKvb,EAAMwxE,GAC5C,QAAkB5c,IAAd+X,EAAKpxD,GACR,QAAKi2D,IAGLF,GAAO,IAAM/1D,EAAM,mBACZ,GAER,IAAIk2D,SAAgB9E,EAAKpxD,GAKzB,MAJa,UAATvb,GAAoBgqE,EAAAA,EAAKplE,QAAQ+nE,EAAKpxD,MAEzCvb,EAAO,UAEJyxE,IAAWzxE,IACdsxE,GAAO,IAAM/1D,EAAM,UAAYoxD,EAAKpxD,GAAO,gCAAkCk2D,EAAS,iBAAmBzxE,EAAO,KACzG,EAGT,EAEA,GAAIuxE,EAAY5E,EAAM,QAAS,UAAU,GACxC,OAAO2E,EAIR,GAAa,cAATtxE,EAAsB,CACzB,IAAKgqE,EAAAA,EAAKplE,QAAQ+nE,EAAKrN,QAAgC,IAAtBqN,EAAKrN,MAAMphE,QAAyC,kBAAlByuE,EAAKrN,MAAM,GAC7E,MAAO,4DAA8DqN,EAAKrN,MAAQ,IAInF,UAFOqN,EAAKrN,MAERiS,EAAY5E,EAAM,YAAa,WAAW,GAAO,OAAO2E,EAC5D,GAAIC,EAAY5E,EAAM,gBAAiB,UAAU,GAAO,OAAO2E,EAC/D,GAAIR,EAAgBzvE,QAAQsrE,EAAKtE,eAAiB,EACjD,MAAO,sBAAwBsE,EAAKtE,cAAgB,oCAAsC2B,EAAAA,EAAK3D,WAAWyK,GAI3G,UAFOnE,EAAKtE,cAERkJ,EAAY5E,EAAM,WAAY,UAAU,GAAQ,OAAO2E,EAC3D,QAAsB1c,IAAlB+X,EAAKnE,WAA2BmE,EAAKnE,SAAW,IAAMwB,EAAAA,EAAKvG,MAAMkJ,EAAKnE,WACzE,MAAO,iBAAmBmE,EAAKnE,SAAW,8CAI3C,UAFOmE,EAAKnE,cAEc5T,IAAtB+X,EAAKpnE,eAAkD,IAAnBonE,EAAKrE,WAAmD,mBAAtBqE,EAAKpnE,eAAmD,IAAnBonE,EAAKrE,WAAoD,kBAAtBqE,EAAKpnE,aACtJ,MAAO,yCAA2ConE,EAAKrE,UAAY,+BAAiCqE,EAAKpnE,aAAe,aAAeonE,EAAKpnE,aAAe,IAI5J,UAFOonE,EAAKpnE,cAEW,IAAnBonE,EAAKrE,iBAA0C1T,IAAlB+X,EAAKlE,eAA8C7T,IAAlB+X,EAAKjE,UACtE,MAAO,mEAAqEiE,EAAKlE,SAAW,eAAiBkE,EAAKjE,SAAW,iCAE9H,QAAsB9T,IAAlB+X,EAAKlE,UAAmD,kBAAlBkE,EAAKlE,SAC9C,MAAO,oDAAsDkE,EAAKlE,SAAW,aAAekE,EAAKlE,SAAW,wBAI7G,UAFOkE,EAAKlE,cAEU7T,IAAlB+X,EAAKjE,UAAmD,kBAAlBiE,EAAKjE,SAC9C,MAAO,oDAAsDiE,EAAKjE,SAAW,aAAeiE,EAAKjE,SAAW,wBAI7G,UAFOiE,EAAKjE,SAER6I,EAAY5E,EAAM,cAAe,WAAW,GAAQ,OAAO2E,SACxD3E,EAAK/D,mBAEL+D,EAAKrE,SACb,KAAO,CAGN,QAAoC1T,IAAhCoT,EAAgB2E,EAAKvN,OACxB,MAAO,UAAYuN,EAAKvN,MAAQ,gDAEjC,QAA+CxK,IAA3CoT,EAAgB2E,EAAKvN,OAAOuN,EAAK3sE,MAGpC,OAFAwiC,QAAQj6B,IAAI,aAAcokE,EAAKvN,MAAO,YAAauN,EAAK3sE,MACxDwiC,QAAQj6B,IAAI,kBAAmBy/D,GACxB,eAAiB2E,EAAKvN,MAAQ,SAAWuN,EAAK3sE,KAAO,kEAE7D,IAAIyqE,EAAczC,EAAgB2E,EAAKvN,OAAOuN,EAAK3sE,MAC/C0xE,EAAMjH,EAAYpC,cAClBsJ,EAASlH,EAAYnC,UAEzB,GAAIiJ,EAAY5E,EAAM,OAAQ,UAAU,GAAO,OAAO2E,EAItD,UAFO3E,EAAK3sE,KAERuxE,EAAY5E,EAAM,QAAS,UAAU,GAAO,OAAO2E,EAGvD,IAAIM,EAAmB,cAAT5xE,EAAuB+wE,EAAuBC,EAE5D,QAAsBpc,IAAlB+X,EAAKkF,UAA0BD,EAAQvwE,QAAQsrE,EAAKkF,UAAY,EACnE,MAAO,2BAA6BlF,EAAKkF,SAAW,SAAW7xE,EAAO,6CAA+CgqE,EAAAA,EAAK3D,WAAWuL,GAItI,UAFOjF,EAAKkF,cAEQjd,IAAhB+X,EAAKjM,QAAgC,eAARgR,EAChC,MAAO,gBAAkB/E,EAAKjM,OAAS,sBAAwB2Q,EAAUjS,MAAQ,kBAMlF,GAAY,eAARsS,QAAwC9c,IAAhB+X,EAAKjM,OAChC,MAAO,+BAAiCiM,EAAK3sE,KAAO,QAAU0xE,EAAM,IAKrE,UAHO/E,EAAKrO,aACLqO,EAAKjM,OAEC,cAAT1gE,GAAkC,WAATA,GAAkC,YAAb+7D,EAAyB,CAC1E,QAAmBnH,IAAf+X,EAAK/pE,QAAwB+uE,EAChC,MAAO,4DAER,IAAKA,GAAgC,kBAAfhF,EAAK/pE,MAC1B,MAAO,gBAAkB+pE,EAAK/pE,MAAQ,uCAAyC+pE,EAAK/pE,MAAQ,gBAAkByuE,EAAUjS,MAAQ,8BAEjI,IAAKuS,GAAU7pB,MAAM6kB,EAAK/pE,OACzB,MAAO,gBAAkB+pE,EAAK/pE,MAAQ,mCAAqCyuE,EAAUjS,MAAQ,4BAE9F,GAAIuS,GAAgC,mBAAfhF,EAAK/pE,YAAsCgyD,IAAf+X,EAAK/pE,MACrD,MAAO,gBAAkB+pE,EAAK/pE,MAAQ,uCAAyC+pE,EAAK/pE,MAAQ,gBAAkByuE,EAAUjS,MAAQ,6BAEjI,IAAKuS,EAAQ,CACZ,GAA+B,kBAApBlH,EAAYtI,KAAoBwK,EAAK/pE,MAAQ6nE,EAAYtI,IACnE,MAAO,gBAAkBwK,EAAK/pE,MAAQ,8BAAgC6nE,EAAYtI,IAAM,gBAAkBkP,EAAUjS,MAAQ,IAE7H,GAA+B,kBAApBqL,EAAY3nD,KAAoB6pD,EAAK/pE,MAAQ6nE,EAAY3nD,IACnE,MAAO,gBAAkB6pD,EAAK/pE,MAAQ,8BAAgC6nE,EAAY3nD,IAAM,gBAAkBuuD,EAAUjS,MAAQ,GAE9H,QACOuN,EAAK/pE,KACb,CAEA,GAAa,cAAT5C,EAAsB,CAEzB,QAA6B40D,IAAzB+X,EAAKkB,gBAA+B,CACvC,GAAI0D,EAAY5E,EAAM,kBAAmB,SAAS,GAAQ,OAAO2E,EAEjE,IAAInH,EAAMwC,EAAKkB,gBACf,GAAmB,IAAf1D,EAAIjsE,OACP,MAAO,wEAA0EisE,EAAIjsE,OAAS,KAAOisE,EAAIh+C,KAAK,MAAQ,IAGvH,IAkBI2lD,EAlBAC,EAAmB,SAAUC,GAChC,IAAIC,EAAW,SAAWD,EAAM,0IAA4If,EAAqB9kD,KAAK,MAAQ,IAC9M,GAAwB,kBAAbg+C,EAAI6H,IACd,GAAIf,EAAqB5vE,QAAQ8oE,EAAI6H,GAAKrjE,eAAiB,EAC1D,OAAOsjE,EAAW,yBAA2B9H,EAAI6H,GAAO,QAEnD,IAAwB,kBAAb7H,EAAI6H,GAQrB,OAAOC,EAAW,wBAA0B9H,EAAI6H,GAAO,KAAO7H,EAAI6H,GAAO,KAPzE,IAAKhI,EAAAA,EAAKvG,MAAM0G,EAAI6H,IACnB,OAAOC,EAAW,yBAA2B9H,EAAI6H,GAAO,IAEzD,GAAI7H,EAAI6H,GAAO,EACd,OAAOC,EAAW,mCAAqC9H,EAAI6H,GAAO,GAIpE,CACA,OAAO,CACR,EAGA,IAAY,KADZF,EAAMC,EAAiB,IACJ,OAAOD,EAE1B,IAAY,KADZA,EAAMC,EAAiB,IACJ,OAAOD,SAEnBnF,EAAKkB,eACb,CAEA,GAAI0D,EAAY5E,EAAM,QAAS,UAAU,GAAQ,OAAO2E,EACxD,GAAI3E,EAAK1R,SAAW+O,EAAAA,EAAKvG,MAAMkJ,EAAK1R,QAAU0R,EAAK1R,MAAQ,GAC1D,MAAO,eAAiB0R,EAAK1R,MAAQ,8CAE/B0R,EAAK1R,KAEb,MAAO,GAAa,WAATj7D,GAEO,aAAb+7D,EAAyB,CAC5B,GAAIwV,EAAY5E,EAAM,SAAU,UAAU,GAAO,OAAO2E,EAGxD,UAFO3E,EAAKhL,OAER4P,EAAY5E,EAAM,kBAAmB,WAAW,GAAO,OAAO2E,SAC3D3E,EAAKuF,uBAELvF,EAAK/pE,KACb,CAEF,QAEO+pE,EAAKvN,aAGLuN,EAAKwF,QAEZ,IADA,IAAIC,EAAgBrxE,OAAOkgB,KAAK0rD,GACvBvuE,EAAI,EAAGA,EAAIg0E,EAAcl0E,OAAQE,IACzC,QAA+Bw2D,IAA3B+X,EAAKyF,EAAch0E,IACtB,MAAO,4BAA8B4B,EAAO,gBAAkBoyE,EAAch0E,GAAK,IAGnF,OAAO,CACR,EAEIi0E,EAAoB,CAEvBhR,KAjRU,SAAUA,GACpB,IAAIiR,OAAwC1d,IAA3ByM,EAAKvH,QAAQ,GAAG6H,OAC7B4Q,EAAkBD,EAAa7C,EAAiBD,EAChDgD,EAAqBF,EAAa/C,EAAoBD,EAC1D,IACC,IAAK,IAAIlxE,EAAI,EAAGA,EAAIijE,EAAKvH,QAAQ57D,OAAQE,IAAK,CAE7Cm0E,EADalR,EAAKvH,QAAQ17D,IACIk0E,EAAa,WAAa,WAAa,iBAAmBl0E,EACzF,CACA,IAASA,EAAI,EAAGA,EAAIijE,EAAKZ,WAAWviE,OAAQE,IAAK,CAEhDo0E,EADgBnR,EAAKZ,WAAWriE,IACIk0E,EAAa,WAAa,WAAa,oBAAsBl0E,EAClG,CACD,CAAE,MAAOsS,GACR,OAAOA,EAAE7M,OACV,CACA,OAAOw9D,CACR,EAiQCiO,iBAAkBA,EAClBE,cAAeA,EACfD,kBAAmBA,EACnBE,eAAgBA,EAChBtH,UApSe,SAAUwE,EAAMuE,GAE/B,OADAC,EAAexE,EAAM,YAAa,GAAIuE,GAC/BvE,CACR,EAkSCxnE,OA1PY,SAAUwnE,EAAMuE,GAG5B,OAFA1uC,QAAQj6B,IAAI,+CAELokE,CACR,EAwPC1C,wBAlX6B,SAAUwI,GACvCzK,EAAkByK,CACnB,GAuXA,oCCrYA,IAAI9zE,EAAqBF,OAAOC,IAAI,8BAClCE,EAAoBH,OAAOC,IAAI,gBAC/BG,EAAsBJ,OAAOC,IAAI,kBACjCI,EAAyBL,OAAOC,IAAI,qBACpCK,EAAsBN,OAAOC,IAAI,kBACjCO,EAAsBR,OAAOC,IAAI,kBACjCQ,EAAqBT,OAAOC,IAAI,iBAChCS,EAAyBV,OAAOC,IAAI,qBACpCU,EAAsBX,OAAOC,IAAI,kBACjCY,EAAkBb,OAAOC,IAAI,cAC7Ba,EAAkBd,OAAOC,IAAI,cAC7BgB,EAAwBjB,OAAOkB,SAQjC,IAAI+yE,EAAuB,CACvB3xC,UAAW,WACT,OAAO,CACT,EACAK,mBAAoB,WAAa,EACjCD,oBAAqB,WAAa,EAClCD,gBAAiB,WAAa,GAEhCpgC,EAASC,OAAOD,OAChB6xE,EAAc,CAAC,EACjB,SAASz+C,EAAU/f,EAAOzN,EAAS4+B,GACjC11B,KAAKuE,MAAQA,EACbvE,KAAKlJ,QAAUA,EACfkJ,KAAK21B,KAAOotC,EACZ/iE,KAAK01B,QAAUA,GAAWotC,CAC5B,CAgBA,SAASE,IAAkB,CAE3B,SAASC,EAAc1+D,EAAOzN,EAAS4+B,GACrC11B,KAAKuE,MAAQA,EACbvE,KAAKlJ,QAAUA,EACfkJ,KAAK21B,KAAOotC,EACZ/iE,KAAK01B,QAAUA,GAAWotC,CAC5B,CAtBAx+C,EAAUlyB,UAAU20C,iBAAmB,CAAC,EACxCziB,EAAUlyB,UAAU23B,SAAW,SAAUm5C,EAAcj2C,GACrD,GACE,kBAAoBi2C,GACpB,oBAAsBA,GACtB,MAAQA,EAER,MAAM7xE,MACJ,0GAEJ2O,KAAK01B,QAAQpE,gBAAgBtxB,KAAMkjE,EAAcj2C,EAAU,WAC7D,EACA3I,EAAUlyB,UAAU+wE,YAAc,SAAUl2C,GAC1CjtB,KAAK01B,QAAQlE,mBAAmBxxB,KAAMitB,EAAU,cAClD,EAEA+1C,EAAe5wE,UAAYkyB,EAAUlyB,UAOrC,IAAIgxE,EAA0BH,EAAc7wE,UAAY,IAAI4wE,EAC5DI,EAAuBvjE,YAAcojE,EACrC/xE,EAAOkyE,EAAwB9+C,EAAUlyB,WACzCgxE,EAAuBtxC,sBAAuB,EAC9C,IAAIh9B,EAAcC,MAAMC,QACtBhE,EAAuB,CAAE0zB,EAAG,KAAMgoB,EAAG,KAAMtiB,EAAG,KAAM3H,EAAG,MACvDtrB,EAAiBhG,OAAOiB,UAAU+E,eACpC,SAASksE,EAAajzE,EAAMub,EAAK23D,EAAMxrD,EAAQmvB,EAAO1iC,GAEpD,OADA++D,EAAO/+D,EAAM4X,IACN,CACL9rB,SAAUtB,EACVqB,KAAMA,EACNub,IAAKA,EACLwQ,SAAK,IAAWmnD,EAAOA,EAAO,KAC9B/+D,MAAOA,EAEX,CAWA,SAASg/D,EAAeC,GACtB,MACE,kBAAoBA,GACpB,OAASA,GACTA,EAAOnzE,WAAatB,CAExB,CAUA,IAAI00E,EAA6B,OACjC,SAASC,EAActiE,EAAS3L,GAC9B,MAAO,kBAAoB2L,GAAW,OAASA,GAAW,MAAQA,EAAQuK,IAX5E,SAAgBA,GACd,IAAIg4D,EAAgB,CAAE,IAAK,KAAM,IAAK,MACtC,MACE,IACAh4D,EAAIlY,QAAQ,SAAS,SAAUnC,GAC7B,OAAOqyE,EAAcryE,EACvB,GAEJ,CAIMsyE,CAAO,GAAKxiE,EAAQuK,KACpBlW,EAAMyG,SAAS,GACrB,CACA,SAASke,IAAU,CAiCnB,SAASypD,EAAaxhE,EAAU0kB,EAAO+8C,EAAeC,EAAW92C,GAC/D,IAAI78B,SAAciS,EACd,cAAgBjS,GAAQ,YAAcA,IAAMiS,EAAW,MAC3D,IApE0B2hE,EAAYC,EAoElCC,GAAiB,EACrB,GAAI,OAAS7hE,EAAU6hE,GAAiB,OAEtC,OAAQ9zE,GACN,IAAK,SACL,IAAK,SACL,IAAK,SACH8zE,GAAiB,EACjB,MACF,IAAK,SACH,OAAQ7hE,EAAShS,UACf,KAAKtB,EACL,KAAKC,EACHk1E,GAAiB,EACjB,MACF,KAAKv0E,EACH,OAEEk0E,GADCK,EAAiB7hE,EAASzR,OAEVyR,EAAS1R,UACxBo2B,EACA+8C,EACAC,EACA92C,IAKd,GAAIi3C,EACF,OACGj3C,EAAWA,EAAS5qB,GACpB6hE,EACC,KAAOH,EAAY,IAAML,EAAcrhE,EAAU,GAAK0hE,EACxDjvE,EAAYm4B,IACN62C,EAAgB,GAClB,MAAQI,IACLJ,EACCI,EAAezwE,QAAQgwE,EAA4B,OAAS,KAChEI,EAAa52C,EAAUlG,EAAO+8C,EAAe,IAAI,SAAUtsC,GACzD,OAAOA,CACT,KACA,MAAQvK,IACPs2C,EAAet2C,KA9GE+2C,EAgHd/2C,EAhH0Bg3C,EAiH1BH,GACG,MAAQ72C,EAASthB,KACjBtJ,GAAYA,EAASsJ,MAAQshB,EAASthB,IACnC,IACC,GAAKshB,EAASthB,KAAKlY,QAClBgwE,EACA,OACE,KACRS,EAVHj3C,EA9GJo2C,EACLW,EAAW5zE,KACX6zE,OACA,EACA,EACA,EACAD,EAAWz/D,QAoHLwiB,EAAMhxB,KAAKk3B,IACf,EAEJi3C,EAAiB,EACjB,IA9LqBj0E,EA8LjBk0E,EAAiB,KAAOJ,EAAY,IAAMA,EAAY,IAC1D,GAAIjvE,EAAYuN,GACd,IAAK,IAAI7T,EAAI,EAAGA,EAAI6T,EAAS/T,OAAQE,IAGhC01E,GAAkBL,EAFpBE,EAAY1hE,EAAS7T,GAIlBu4B,EACA+8C,EAJD1zE,EAAO+zE,EAAiBT,EAAcK,EAAWv1E,GAMhDy+B,QAEH,GAAoC,oBAA9Bz+B,EAzMP,QADiByB,EA0MQoS,IAzMC,kBAAoBpS,EAAsB,KAIjE,oBAHPA,EACGH,GAAyBG,EAAcH,IACxCG,EAAc,eAC6BA,EAAgB,MAsM3D,IACEoS,EAAW7T,EAAEgE,KAAK6P,GAAW7T,EAAI,IAC/Bu1E,EAAY1hE,EAASuU,QAAQ4I,MAK5B0kD,GAAkBL,EAFpBE,EAAYA,EAAU/wE,MAInB+zB,EACA+8C,EAJD1zE,EAAO+zE,EAAiBT,EAAcK,EAAWv1E,KAMhDy+B,QAEH,GAAI,WAAa78B,EAAM,CAC1B,GAAI,oBAAsBiS,EAAS2Y,KACjC,OAAO6oD,EA3Hb,SAAyB3oD,GACvB,OAAQA,EAASC,QACf,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WACH,MAAMkoB,EAASK,OACjB,QACE,OACG,kBAAoBL,EAASC,OAC1BD,EAASF,KAAKZ,EAAQA,IACpBc,EAASC,OAAS,UACpBD,EAASF,MACP,SAAUU,GACR,YAAcR,EAASC,SACnBD,EAASC,OAAS,YACnBD,EAASloB,MAAQ0oB,EACtB,IACA,SAAUd,GACR,YAAcM,EAASC,SACnBD,EAASC,OAAS,WAAcD,EAASK,OAASX,EACxD,KAENM,EAASC,QAET,IAAK,YACH,OAAOD,EAASloB,MAClB,IAAK,WACH,MAAMkoB,EAASK,QAGvB,MAAML,CACR,CA6FQkpD,CAAgB/hE,GAChB0kB,EACA+8C,EACAC,EACA92C,GAGJ,MADAlG,EAAQnb,OAAOvJ,GACThR,MACJ,mDACG,oBAAsB01B,EACnB,qBAAuB51B,OAAOkgB,KAAKhP,GAAUka,KAAK,MAAQ,IAC1DwK,GACJ,4EAEN,CACA,OAAOm9C,CACT,CACA,SAASG,EAAYhiE,EAAUiiE,EAAMxtE,GACnC,GAAI,MAAQuL,EAAU,OAAOA,EAC7B,IAAIyrB,EAAS,GACX8S,EAAQ,EAIV,OAHAijC,EAAaxhE,EAAUyrB,EAAQ,GAAI,IAAI,SAAUl5B,GAC/C,OAAO0vE,EAAK9xE,KAAKsE,EAASlC,EAAOgsC,IACnC,IACO9S,CACT,CACA,SAASy2C,EAAgBv6C,GACvB,IAAK,IAAMA,EAAQw6C,QAAS,CAC1B,IAAIzzC,EAAO/G,EAAQy6C,SACnB1zC,EAAOA,KACF/V,MACH,SAAU0pD,GACJ,IAAM16C,EAAQw6C,UAAY,IAAMx6C,EAAQw6C,UACzCx6C,EAAQw6C,QAAU,EAAKx6C,EAAQy6C,QAAUC,EAC9C,IACA,SAAU9pD,GACJ,IAAMoP,EAAQw6C,UAAY,IAAMx6C,EAAQw6C,UACzCx6C,EAAQw6C,QAAU,EAAKx6C,EAAQy6C,QAAU7pD,EAC9C,KAED,IAAMoP,EAAQw6C,UAAax6C,EAAQw6C,QAAU,EAAKx6C,EAAQy6C,QAAU1zC,EACvE,CACA,GAAI,IAAM/G,EAAQw6C,QAAS,OAAOx6C,EAAQy6C,QAAQxM,QAClD,MAAMjuC,EAAQy6C,OAChB,CACA,IAAInyC,EACF,oBAAsBC,YAClBA,YACA,SAAU3X,GACR,GACE,kBAAoB/e,QACpB,oBAAsBA,OAAO22B,WAC7B,CACA,IAAI12B,EAAQ,IAAID,OAAO22B,WAAW,QAAS,CACzC5qB,SAAS,EACTC,YAAY,EACZ5T,QACE,kBAAoB2mB,GACpB,OAASA,GACT,kBAAoBA,EAAM3mB,QACtB2X,OAAOgP,EAAM3mB,SACb2X,OAAOgP,GACbA,MAAOA,IAET,IAAK/e,OAAO42B,cAAc32B,GAAQ,MACpC,MAAO,GACL,kBAAoB42B,SACpB,oBAAsBA,QAAQC,KAG9B,YADAD,QAAQC,KAAK,oBAAqB/X,GAGpCgY,QAAQhY,MAAMA,EAChB,EACN,SAASozB,IAAQ,CACjBgT,EAAQ2jB,SAAW,CACjB79C,IAAKu9C,EACLhlD,QAAS,SAAUhd,EAAUuiE,EAAaC,GACxCR,EACEhiE,GACA,WACEuiE,EAAYv3B,MAAMrtC,KAAM3R,UAC1B,GACAw2E,EAEJ,EACAjkC,MAAO,SAAUv+B,GACf,IAAIyiE,EAAI,EAIR,OAHAT,EAAYhiE,GAAU,WACpByiE,GACF,IACOA,CACT,EACAC,QAAS,SAAU1iE,GACjB,OACEgiE,EAAYhiE,GAAU,SAAUzN,GAC9B,OAAOA,CACT,KAAM,EAEV,EACAowE,KAAM,SAAU3iE,GACd,IAAKkhE,EAAelhE,GAClB,MAAMhR,MACJ,yEAEJ,OAAOgR,CACT,GAEF2+C,EAAQ18B,UAAYA,EACpB08B,EAAQikB,SAAWh2E,EACnB+xD,EAAQkkB,SAAW/1E,EACnB6xD,EAAQiiB,cAAgBA,EACxBjiB,EAAQmkB,WAAaj2E,EACrB8xD,EAAQokB,SAAW51E,EACnBwxD,EAAQ/vD,gEACND,EACFgwD,EAAQqkB,IAAM,WACZ,MAAMh0E,MAAM,2DACd,EACA2vD,EAAQ9+B,MAAQ,SAAUtwB,GACxB,OAAO,WACL,OAAOA,EAAGy7C,MAAM,KAAMh/C,UACxB,CACF,EACA2yD,EAAQskB,aAAe,SAAUlkE,EAASqsD,EAAQprD,GAChD,GAAI,OAASjB,QAAW,IAAWA,EACjC,MAAM/P,MACJ,wDAA0D+P,EAAU,KAExE,IAAImD,EAAQrT,EAAO,CAAC,EAAGkQ,EAAQmD,OAC7BoH,EAAMvK,EAAQuK,IAEhB,GAAI,MAAQ8hD,EACV,IAAK/mD,UAAa,IAAW+mD,EAAOtxC,UAAgB,OACpD,IAAWsxC,EAAO9hD,MAAQA,EAAM,GAAK8hD,EAAO9hD,KAC5C8hD,GACGt2D,EAAe3E,KAAKi7D,EAAQ/mD,IAC3B,QAAUA,GACV,WAAaA,GACb,aAAeA,GACd,QAAUA,QAAY,IAAW+mD,EAAOtxC,MACxC5X,EAAMmC,GAAY+mD,EAAO/mD,IAChC,IAAIA,EAAWrY,UAAUC,OAAS,EAClC,GAAI,IAAMoY,EAAUnC,EAAMlC,SAAWA,OAChC,GAAI,EAAIqE,EAAU,CACrB,IAAK,IAAI6+D,EAAaxwE,MAAM2R,GAAWlY,EAAI,EAAGA,EAAIkY,EAAUlY,IAC1D+2E,EAAW/2E,GAAKH,UAAUG,EAAI,GAChC+V,EAAMlC,SAAWkjE,CACnB,CACA,OAAOlC,EAAajiE,EAAQhR,KAAMub,OAAK,EAAQ,EAAQs7B,EAAO1iC,EAChE,EACAy8C,EAAQwkB,cAAgB,SAAU7vE,GAchC,OAbAA,EAAe,CACbtF,SAAUf,EACV4H,cAAevB,EACfisB,eAAgBjsB,EAChBksB,aAAc,EACdF,SAAU,KACVD,SAAU,OAECC,SAAWhsB,EACxBA,EAAa+rB,SAAW,CACtBrxB,SAAUhB,EACVmB,SAAUmF,GAELA,CACT,EACAqrD,EAAQ3iD,cAAgB,SAAUjO,EAAMq9D,EAAQprD,GAC9C,IAAIqE,EACFnC,EAAQ,CAAC,EACToH,EAAM,KACR,GAAI,MAAQ8hD,EACV,IAAK/mD,UAAa,IAAW+mD,EAAO9hD,MAAQA,EAAM,GAAK8hD,EAAO9hD,KAAM8hD,EAClEt2D,EAAe3E,KAAKi7D,EAAQ/mD,IAC1B,QAAUA,GACV,WAAaA,GACb,aAAeA,IACdnC,EAAMmC,GAAY+mD,EAAO/mD,IAChC,IAAI++D,EAAiBp3E,UAAUC,OAAS,EACxC,GAAI,IAAMm3E,EAAgBlhE,EAAMlC,SAAWA,OACtC,GAAI,EAAIojE,EAAgB,CAC3B,IAAK,IAAIF,EAAaxwE,MAAM0wE,GAAiBj3E,EAAI,EAAGA,EAAIi3E,EAAgBj3E,IACtE+2E,EAAW/2E,GAAKH,UAAUG,EAAI,GAChC+V,EAAMlC,SAAWkjE,CACnB,CACA,GAAIn1E,GAAQA,EAAKgiC,aACf,IAAK1rB,KAAc++D,EAAiBr1E,EAAKgiC,kBACvC,IAAW7tB,EAAMmC,KACdnC,EAAMmC,GAAY++D,EAAe/+D,IACxC,OAAO28D,EAAajzE,EAAMub,OAAK,EAAQ,EAAQ,EAAMpH,EACvD,EACAy8C,EAAQ0kB,UAAY,WAClB,MAAO,CAAE9vE,QAAS,KACpB,EACAorD,EAAQ2kB,WAAa,SAAUj1E,GAC7B,MAAO,CAAEL,SAAUd,EAAwBmB,OAAQA,EACrD,EACAswD,EAAQuiB,eAAiBA,EACzBviB,EAAQ4kB,KAAO,SAAU70C,GACvB,MAAO,CACL1gC,SAAUV,EACVgB,SAAU,CAAE6zE,SAAU,EAAGC,QAAS1zC,GAClCngC,MAAO2zE,EAEX,EACAvjB,EAAQ6kB,KAAO,SAAUz1E,EAAMskC,GAC7B,MAAO,CACLrkC,SAAUX,EACVU,KAAMA,EACNskC,aAAS,IAAWA,EAAU,KAAOA,EAEzC,EACAssB,EAAQvzB,gBAAkB,SAAUq4C,GAClC,IAAIv7C,EAAiBv5B,EAAqBo5B,EACxCI,EAAoB,CAAC,EACvBx5B,EAAqBo5B,EAAII,EACzB,IACE,IAAIxjB,EAAc8+D,IAChBr7C,EAA0Bz5B,EAAqByxB,EACjD,OAASgI,GACPA,EAAwBD,EAAmBxjB,GAC7C,kBAAoBA,GAClB,OAASA,GACT,oBAAsBA,EAAYgU,MAClChU,EAAYgU,KAAKgzB,EAAM1b,EAC3B,CAAE,MAAO1X,GACP0X,EAAkB1X,EACpB,CAAE,QACA5pB,EAAqBo5B,EAAIG,CAC3B,CACF,EACAy2B,EAAQ+kB,yBAA2B,WACjC,OAAO/0E,EAAqB0zB,EAAE6L,iBAChC,EACAywB,EAAQv6B,IAAM,SAAUC,GACtB,OAAO11B,EAAqB0zB,EAAE+B,IAAIC,EACpC,EACAs6B,EAAQvwB,eAAiB,SAAUl7B,EAAQi0B,EAAcw8C,GACvD,OAAOh1E,EAAqB0zB,EAAE+L,eAAel7B,EAAQi0B,EAAcw8C,EACrE,EACAhlB,EAAQvxB,YAAc,SAAUxC,EAAUf,GACxC,OAAOl7B,EAAqB0zB,EAAE+K,YAAYxC,EAAUf,EACtD,EACA80B,EAAQtxB,WAAa,SAAUu2C,GAC7B,OAAOj1E,EAAqB0zB,EAAEgL,WAAWu2C,EAC3C,EACAjlB,EAAQ9wB,cAAgB,WAAa,EACrC8wB,EAAQ7wB,iBAAmB,SAAUn9B,EAAOq6B,GAC1C,OAAOr8B,EAAqB0zB,EAAEyL,iBAAiBn9B,EAAOq6B,EACxD,EACA2zB,EAAQrxB,UAAY,SAAU1D,EAAQC,GACpC,OAAOl7B,EAAqB0zB,EAAEiL,UAAU1D,EAAQC,EAClD,EACA80B,EAAQ1wB,MAAQ,WACd,OAAOt/B,EAAqB0zB,EAAE4L,OAChC,EACA0wB,EAAQpxB,oBAAsB,SAAUzT,EAAK8P,EAAQC,GACnD,OAAOl7B,EAAqB0zB,EAAEkL,oBAAoBzT,EAAK8P,EAAQC,EACjE,EACA80B,EAAQlxB,mBAAqB,SAAU7D,EAAQC,GAC7C,OAAOl7B,EAAqB0zB,EAAEoL,mBAAmB7D,EAAQC,EAC3D,EACA80B,EAAQnxB,gBAAkB,SAAU5D,EAAQC,GAC1C,OAAOl7B,EAAqB0zB,EAAEmL,gBAAgB5D,EAAQC,EACxD,EACA80B,EAAQjxB,QAAU,SAAU9D,EAAQC,GAClC,OAAOl7B,EAAqB0zB,EAAEqL,QAAQ9D,EAAQC,EAChD,EACA80B,EAAQtwB,cAAgB,SAAU/G,EAAazC,GAC7C,OAAOl2B,EAAqB0zB,EAAEgM,cAAc/G,EAAazC,EAC3D,EACA85B,EAAQhxB,WAAa,SAAU9I,EAASyJ,EAAYjU,GAClD,OAAO1rB,EAAqB0zB,EAAEsL,WAAW9I,EAASyJ,EAAYjU,EAChE,EACAskC,EAAQ/wB,OAAS,SAAU5C,GACzB,OAAOr8B,EAAqB0zB,EAAEuL,OAAO5C,EACvC,EACA2zB,EAAQp7B,SAAW,SAAU4D,GAC3B,OAAOx4B,EAAqB0zB,EAAEkB,SAAS4D,EACzC,EACAw3B,EAAQ3wB,qBAAuB,SAC7BjI,EACAC,EACAC,GAEA,OAAOt3B,EAAqB0zB,EAAE2L,qBAC5BjI,EACAC,EACAC,EAEJ,EACA04B,EAAQ5wB,cAAgB,WACtB,OAAOp/B,EAAqB0zB,EAAE0L,eAChC,EACA4wB,EAAQnB,QAAU,iDCvhBlB,SAASqmB,IAEP,GAC4C,qBAAnCvlB,gCAC4C,oBAA5CA,+BAA+BulB,SAcxC,IAEEvlB,+BAA+BulB,SAASA,EAC1C,CAAE,MAAOhtE,GAGP05B,QAAQhY,MAAM1hB,EAChB,CACF,CAKEgtE,GACA7kB,EAAOL,QAAU,EAAjBK,+JCpBF,IAUI8kB,EAVAC,EAAY,GAEZC,EAAoB,GAEpBC,EAAkB,CAAC,EAEnBC,EAAsB,CAAC,EAEvBC,EAAe,CAAC,EAIhBC,EAAgB,CAAC,EAEjBC,EAAkB,GAIlBC,EAAoB,GACpBC,EAAe,CAAC,EAEhBC,EAAyB,GAmBzBC,EAAe,WAAc,OAAOV,CAAW,EAG/CjY,EAAqB,WAAc,OAAOmY,CAAiB,EAC3DS,EAAoB,SAAUC,GAEjC,IADA,IAAIZ,EAAYU,IACPG,EAAgB,EAAGA,EAAgBb,EAAU93E,OAAQ24E,IAC7D,GAAID,IAAiBZ,EAAUa,GAAe1Y,MAC7C,OAAO6X,EAAUa,EAGpB,EAEIC,EAAqB,SAAUl0E,IAEjCszE,EADoB,kBAAVtzE,EACQ+zE,EAAkB/zE,GAGlBA,GAGHm0E,eAAiB,QACDniB,IAA5BshB,EAAgBc,gBACZd,EAAgBc,OAGzB,EAEIC,EAAgB,SAAU/U,GAC7B,IAAK,IAAI3mD,KAAO2mD,EACf,GAAInhE,OAAOiB,UAAU+E,eAAe3E,KAAK8/D,EAAK3mD,GAC7C,OAAO,EAGT,OAAO,CACR,EACI27D,EAAkB,WAAc,OAAOd,CAAc,EACrDe,EAAkB,SAAUv0E,GAC/B,IAAIswD,EAAW6K,IACf,GAAIkZ,EAAc/jB,SAGb,GAAqB,kBAAVtwD,EAAoB,CAEnC,IADA,IAAIw0E,EAASlkB,EAASkkB,OACbC,EAAa,EAAGA,EAAaD,EAAOl5E,OAAQm5E,IACpD,GAAIz0E,IAAUw0E,EAAOC,GAAYlZ,MAEhC,YADAiY,EAAegB,EAAOC,SAIVziB,IAAVhyD,IACHwzE,EAAexzE,EAGjB,MAECwzE,EAAexzE,CAEjB,EAEI00E,EAAqB,WAAc,OAAOhB,CAAiB,EAE3DiB,EAAmB,WAAc,OAAOlB,CAAe,EAEvDmB,EAAmB,SAAU50E,GAChC,IAAI60E,EAAQP,IACZ,GAAID,EAAcQ,SAAoB7iB,IAAV6iB,EAC3Bj1C,QAAQj6B,IAAI,oBAAsB3F,EAAQ,iCACpC,GAAqB,kBAAVA,EAAoB,CAErC,IADA,IAAIivD,EAAUylB,IACLI,EAAc,EAAGA,EAAc7lB,EAAQ3zD,OAAQw5E,IACvD,GAAI90E,IAAUivD,EAAQ6lB,GAAavZ,MAElC,YADAkY,EAAgBxkB,EAAQ6lB,IAIxBl1C,QAAQj6B,IAAI,oBAAsB3F,EAAQ,qBAAuBA,EAAQ,+DAC5E,MAECyzE,EAAgBzzE,CAElB,EA0FI+0E,EAAe,SAAU7gB,EAAM8gB,GASlC,IAAI/Z,EACAga,OATejjB,IAAfgjB,IACHA,EAAaN,KAIdf,EAAoB,GACpBC,EAAe,CAAC,EAIhB,IAAI/1E,EAAI01E,EAAoB11E,EACxBmgB,EAAIu1D,EAAoBv1D,EACxBk3D,EAAY3B,EAAoBv1D,EAChCm3D,EAAY5B,EAAoB11E,EAChCu3E,EAAU,CAAC,EAGf,IAAIC,EAAuBlhB,EAAAA,EAAIkI,UAAUC,OAAOC,MAAK6N,GAAqB,WAAdA,EAAM5N,QAClE,IAAK,IAAIV,KAAUuZ,EAAqB3Y,MACvC,QAAwB1K,IAApBojB,EAAQtZ,GAAuB,CAClC8X,EAAa9X,GAAU,CACtBwQ,MAAO,GACP3N,UAAW,IAEZyW,EAAQtZ,GAAU,EAGlB,IADA,IAAIwZ,EAAK3L,EAAAA,EAAY2D,WAAWxR,GACvByZ,EAAY,EAAGA,EAAYD,EAAGh6E,OAAQi6E,IAAa,CAC3D,IAAIz6C,EAASijC,EAAauX,EAAGC,GAAW1X,WAAY,CAAE,EAAKhgE,EAAG,EAAKmgB,GAAKk2C,GAAM,GAC1EshB,EAAiBpO,EAAAA,EAAK/9B,MAAMisC,EAAGC,IAInC,GAHAC,EAAe16C,OAASA,EACxB84C,EAAa9X,GAAQwQ,MAAMvpE,KAAKyyE,GAChCA,EAAe3Y,MAAQ,EACnB/hC,EAAOmjC,QAAS,CAGnB,IADA,IAAIwX,EAAqB,EAChBC,EAAoB,EAAGA,EAAoBJ,EAAGC,GAAWre,QAAQ57D,OAAQo6E,IACjFD,GAAsBH,EAAGC,GAAWre,QAAQwe,GAAmB3W,OAEhEqW,EAAQtZ,IAAW2Z,EACnBD,EAAe3Y,MAAQ4Y,EAEvB7B,EAAa9X,GAAQ6C,UAAU57D,KAAKyyE,EACrC,CACD,CACA5B,EAAa9X,GAAQe,MAAQuY,EAAQtZ,EACtC,CAID,IAAK,IAAI6Z,EAAc,EAAGA,EAAcX,EAAW15E,SAAUq6E,EAAa,CACzE,IAAI9Y,EAEA+Y,EACAC,EAAa,EAEbtzE,EAASyyE,EAAWW,GAEpBG,EAAa,CAAC,EAClBnC,EAAkB5wE,KAAK+yE,GACvBA,EAAWva,MAAQh5D,EAAOg5D,MAC1Bua,EAAWvY,MAAQh7D,EAAOg7D,MAC1BuY,EAAWha,OAASv5D,EAAOu5D,OAC3Bga,EAAWC,YAAcxzE,EAAOwzE,YAChCD,EAAW5lB,UAAW,EACtB4lB,EAAWE,oBAAqB,EAGhC,IAAInB,EAAQoB,EAAgB1zE,EAAOwzE,aACnC,GAAIlB,EAAMqB,WAAW56E,OAAS,EAAG,CAChCw6E,EAAW5lB,UAAW,EAGtB,IAAK,IAAIimB,KAAatB,EAAMqB,WAAY,CAC/BD,EAAgB1zE,EAAOwzE,aACzBG,WAAW56E,OAAS,IACzBw6E,EAAWE,oBAAqB,EAElC,CACD,CAGA,IAAII,OAAkBpkB,EAClBqkB,EAAiB,CAAC,EACtB,IAAIC,EAAc,CAAC,EACnB,IAAK,IAAIC,EAAmB,EAAGA,EAAmBh0E,EAAOu8D,qBAAqBxjE,OAAQi7E,IAAoB,CACzGD,EAAc/zE,EAAOu8D,qBAAqByX,GAC1C,IAAIC,EAAkB,EAEtBV,EAAWlf,SAAW,GACtB,IAAK,IAAI6f,EAAW,EAAGA,EAAWl0E,EAAOq0D,SAASt7D,OAAQm7E,IAAY,CACrE,IAAIC,EAAUn0E,EAAOq0D,SAAS6f,GAE1BE,EAAgB5Y,EAAa2Y,EAAQ7Y,WAAYyY,EAAapiB,GAAM,GAExE,GAAIyiB,EAAc1Y,QAAS,CAE1B,IADA,IAAI2Y,EAAmB,EACdC,EAAiB,EAAGA,EAAiBH,EAAQxf,QAAQ57D,OAAQu7E,IACrED,GAAoBF,EAAQxf,QAAQ2f,GAAgB9X,OAErDyX,GAAmBI,EAGnB,IAAIE,EAAc1P,EAAAA,EAAK/9B,MAAMqtC,GAC7BI,EAAYh8C,OAAS67C,EACrBG,EAAYja,MAAQ2Z,EACpBV,EAAWlf,SAAS7zD,KAAK+zE,EAC1B,CACD,MAEwB9kB,IAApBokB,IACHA,EAAkBI,EAClBH,EAAiBC,GAIdE,EAAkBJ,IACrBA,EAAkBI,EAClBH,EAAiBC,EAEnB,MAEwBtkB,IAApBokB,IACHA,EAAkB,GAEnBR,EAAWQ,EAGXN,EAAWiB,WAAa,GACxB,IAAK,IAAIC,EAAa,EAAGA,EAAaz0E,EAAOw0E,WAAWz7E,OAAQ07E,IAAc,CAC7E,IAAIC,EAAY10E,EAAOw0E,WAAWC,GAC9BE,EAAkBnZ,EAAakZ,EAAUpZ,WAAY,CAAE,EAAKqX,EAAW,EAAKC,GAAajhB,GAAM,GACnG,GAAIgjB,EAAgBjZ,QAAS,CAE5B,IAAK,IAAIkZ,EAAmB,EAAGA,EAAmBF,EAAU/f,QAAQ57D,OAAQ67E,IAC3EtB,GAAcoB,EAAU/f,QAAQigB,GAAkBpY,OAGnD,IAAIqY,EAAgBhQ,EAAAA,EAAK/9B,MAAM4tC,GAC/BG,EAAct8C,OAASo8C,EACvBpB,EAAWiB,WAAWh0E,KAAKq0E,EAC5B,CACD,CAEAva,GAASt6D,EAAO80E,gBAAiBjC,EAAQ7yE,EAAOu5D,UAAW8Z,IAAYC,EAIvEC,EAAWuB,cAAgB90E,EAAO80E,cAClCvB,EAAWwB,QAAUlC,EAAQ7yE,EAAOu5D,QACpCga,EAAWF,SAAWA,EACtBE,EAAWD,WAAaA,EACxBC,EAAWjZ,MAAQA,EACnBiZ,EAAW5a,mBAAqBmb,OAMfrkB,IAAbijB,IACHA,EAAWpY,GACX5B,EAAiB14D,GACF24D,mBAAqBmb,GAIjCxZ,EAAQoY,IACXA,EAAWpY,GACX5B,EAAiB14D,GACF24D,mBAAqBmb,EAEtC,CAEA,OAAOpb,CACR,EA8CIe,EAA4B,SAAUub,EAAOvc,GAEhD,IADA,IAAIe,EAAaqL,EAAAA,EAAK/9B,MAAMkuC,GACnBC,EAAY,EAAGA,EAAYzb,EAAWzgE,OAAQk8E,IAAa,CACnE,IAAIzN,EAAOhO,EAAWyb,GACtBzN,EAAKrO,MAAQV,EAAS+O,EAAKrO,OAC3BqO,EAAKjM,OAAS9C,EAAS+O,EAAKjM,OAC7B,CACA,OAAO/B,CACR,EA2IIka,EAAkB,SAAUE,EAAW7lB,GAC1CA,EAAWA,GAAY6K,IACvB,IAAK,IAAIsZ,EAAa,EAAGA,EAAankB,EAASkkB,OAAOl5E,OAAQm5E,IAAc,CAC3E,IAAII,EAAQvkB,EAASkkB,OAAOC,GAC5B,GAAII,EAAMtZ,QAAU4a,EACnB,OAAOtB,CAET,CACD,EA2GI9W,EAAe,SAAUF,EAAY4Z,EAAmBvjB,EAAMwjB,GAIjE,GAA0B,IAAtB7Z,EAAWviE,OACd,MAAO,CAAE,SAAW,EAAM,qBAAwB,CAACm8E,SAG9BzlB,WAAX0lB,IACVA,GAAS,GAWV,IAFA,IAAIC,GAAuB,EAElBn8E,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,IAAK,CAC3C,IAAI+oE,EAAY1G,EAAWriE,IACe,GAAtC+oE,EAAU7I,MAAMj9D,QAAQ,YAC3Bk5E,GAAuB,QAEC3lB,IAArBuS,EAAUzG,SAA+D,GAAvCyG,EAAUzG,OAAOr/D,QAAQ,YAE9Dk5E,GAAuB,EAEzB,CAEA,IAAKA,EAAsB,CAE1B,IAAIC,EAAoB,GAGxB,IAASp8E,EAAI,EAAGA,EAAI04D,EAAK54D,OAAQE,IAAK,CAEtB24D,EAAAA,EAAIqJ,YAAYtJ,EAAK14D,GAAI,SAGC,cAArC24D,EAAAA,EAAIqJ,YAAYtJ,EAAK14D,GAAI,SAKqB,cAA1C24D,EAAAA,EAAIqJ,YAAYtJ,EAAK14D,GAAI,QAAQ4B,OAJxCw6E,EAAkB70E,KAAKmxD,EAAK14D,GAO9B,CACA04D,EAAO0jB,CAGR,CAMA,IAAIC,EAAcC,EAAeja,EAAY4Z,GAKzCM,EAAcC,EAAeP,EAAmBvjB,GAQhD+jB,GAHmBC,EAAcH,GAGLG,EAAcL,IAE1CM,EAA2B,GAG3BC,GAAuB,EAEvBC,EAAc,GAElB,IAAS78E,EAAI,EAAGA,EAAIy8E,EAA0B38E,OAAQE,IACrD68E,EAAYt1E,KAAKvH,GAUlB,IAAI88E,EAAkB,CAAC,EACvB,MAAQF,GAAsB,CAC7B,IAAIG,EAAkBC,EAAmC3a,EAAYwa,EAAaN,EAAaN,EAAmBQ,GAKlH,GAAItO,EAAAA,EAAY8O,mBAAmBF,EAAiB,CAAC,EAAG,CAAC,GAAI,CAK5D,GAJAD,EAAkBI,EAAqBL,EAAaN,EAAaN,EAAmBQ,IAI/EP,EACJ,MAAO,CAAE,SAAW,EAAM,qBAAwB,CAACY,IAEpDH,EAAyBp1E,KAAKu1E,EAC/B,CASA,IADA,IAAIK,GAAoB,EACfC,EAAKP,EAAY/8E,OAAS,EAAGs9E,GAAM,IAAMD,EAAmBC,IAChEP,EAAYO,GAAMC,EAAiBD,EAAIP,EAAaN,EAAYz8E,QACnE+8E,EAAYO,IAAO,GAGnBP,EAAYO,GAAME,EAAqBF,EAAIP,EAAaN,EAAYz8E,QACpEq9E,GAAoB,IAIC,GAAnBN,EAAY,IAAmC,IAAvBA,EAAY/8E,SACvC88E,GAAuB,GAGxB,IAAS58E,EAAI,EAAGA,EAAI68E,EAAY/8E,OAAQE,KAChB,GAAnB68E,EAAY78E,KACf68E,EAAY78E,GAAKu9E,EAAgBH,EAAIP,EAAaN,EAAYz8E,QAIjE,CAIA,OAAI68E,EAAyB78E,OAAS,EAC9B,CAAE,SAAW,EAAM,qBAAwB68E,GAE5C,CAAE,SAAW,EAAO,qBAAwB,GACpD,EASIU,EAAmB,SAAUD,EAAIP,EAAaW,GAEjD,IADA,IAAIC,EAAoB,CAAC,EAChBz9E,EAAI,EAAGA,EAAI68E,EAAY/8E,OAAQE,IAEvCy9E,EAAkBZ,EAAY78E,IAAMA,EAErC,IAAK,IAAI09E,EAAsBF,EAAoB,EAAGE,GAAuB,EAAGA,IAC/E,KAAMA,KAAuBD,GAC5B,OAAOC,CAIV,EAEIJ,EAAuB,SAAUF,EAAIP,EAAaW,GAErD,IADA,IAAIC,EAAoB,CAAC,EAChBz9E,EAAI,EAAGA,EAAI68E,EAAY/8E,OAAQE,IAEvCy9E,EAAkBZ,EAAY78E,IAAMA,EAErC,IAAK,IAAI29E,EAAed,EAAYO,GAAM,EAAGO,EAAeH,EAAmBG,IAC9E,KAAMA,KAAgBF,GACrB,OAAOE,EAIT,OAAQ,CACT,EAEIJ,EAAkB,SAAUH,EAAIP,EAAaW,GAEhD,IADA,IAAIC,EAAoB,CAAC,EAChBz9E,EAAI,EAAGA,EAAI68E,EAAY/8E,OAAQE,IAEvCy9E,EAAkBZ,EAAY78E,IAAMA,EAErC,IAAK,IAAI49E,EAAqB,EAAGA,EAAqBJ,EAAmBI,IACxE,KAAMA,KAAsBH,GAC3B,OAAOG,CAIV,EAEIZ,EAAqC,SAAU3a,EAAYwa,EAAaN,EAAaN,EAAmBQ,GAG3G,IAFA,IAAIM,EAAkB,GAEbc,EAAY,EAAGA,EAAYxb,EAAWviE,OAAQ+9E,IAAa,CACnE,IAAIC,EAAiBlS,EAAAA,EAAK/9B,MAAMw0B,EAAWwb,IAEvCC,EAAe5d,SAAS+b,EAC3B6B,EAAe5d,MAAQ+b,EAAkB6B,EAAe5d,YAE5B1J,IAApBumB,IACRe,EAAe5d,MAAQ6d,EAAoClB,EAAaN,EAAaE,EAA2BqB,EAAe5d,QAG5H4d,EAAexb,UAAU2Z,EAC5B6B,EAAexb,OAAS2Z,EAAkB6B,EAAexb,aAE7B9L,IAApBumB,IACRe,EAAexb,OAASyb,EAAoClB,EAAaN,EAAaE,EAA2BqB,EAAexb,SAGjIya,EAAgBx1E,KAAKu2E,EACtB,CAEA,OAAOf,CACR,EAGIG,EAAuB,SAAUL,EAAaN,EAAaN,EAAmBQ,GAEjF,IADA,IAAIuB,EAAcpS,EAAAA,EAAK/9B,MAAMouC,GACpBgC,EAAmB,EAAGA,EAAmBpB,EAAY/8E,OAAQm+E,IAAoB,CACzF,IAAIjnB,EAAOylB,EAA0BwB,GACrCD,EAAYhnB,GAAQ+mB,EAAoClB,EAAaN,EAAaE,EAA2BzlB,EAC9G,CACA,OAAOgnB,CACR,EAEID,EAAsC,SAAUlB,EAAaN,EAAaE,EAA2ByB,GACxG,IAAK,IAAIl+E,EAAI,EAAGA,EAAIy8E,EAA0B38E,OAAQE,IAAK,CAC1D,GAAIy8E,EAA0Bz8E,KAAOk+E,EAGpC,OAAO3B,EADgBM,EAAY78E,GAGrC,CACD,EAEIs8E,EAAiB,SAAUja,EAAY4Z,GAG1C,IAFA,IAAIkC,EAAqB,CAAC,EAEjBC,EAAY,EAAGA,EAAY/b,EAAWviE,OAAQs+E,IAAa,CACnE,IAAIC,EAAOhc,EAAW+b,GAChBC,EAAKne,SAAS+b,QAAqCzlB,IAAf6nB,EAAKne,QAC9Cie,EAAmBE,EAAKne,OAAS,IAE5Bme,EAAK/b,UAAU2Z,QAAsCzlB,IAAhB6nB,EAAK/b,SAC/C6b,EAAmBE,EAAK/b,QAAU,GAEpC,CAEA,OAAO6b,CACR,EAEI3B,EAAiB,SAAUP,EAAmBvjB,GAEjD,IADA,IAAI4lB,EAAc,GACTC,EAAY,EAAGA,EAAY7lB,EAAK54D,OAAQy+E,IAAa,CAC7D,IAAIC,EAAW9lB,EAAK6lB,GAChBE,GAAQ,EACZ,IAAK,IAAIthE,KAAO8+D,EACXA,EAAkB9+D,KAASqhE,IAC9BC,GAAQ,GAGLA,GACJH,EAAY/2E,KAAKi3E,EAEnB,CACA,OAAOF,CACR,EAGI5B,EAAgB,SAAUgC,GAC7B,IAAInmD,EAAQ,GACZ,IAAK,IAAIpb,KAAOuhE,EACfnmD,EAAMhxB,KAAK4V,GAEZ,OAAOob,CACR,EAMIomD,EAAkB,WACrB,OAAOvG,CACR,EAOIwG,EAA0B,SAAUC,EAASC,EAAkBC,EAAaC,GAC/EC,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC1BA,aAAiB7B,UACyB,GAAzCs8E,EAAEE,QAAQhiE,EAAK6hE,UACCxoB,IAAfhyD,EAAM47D,MAAsBjjD,IAAQ2hE,UAChCt6E,EAAM47D,UAEkB5J,IAA5BhyD,EAAMs6E,KACTt6E,EAAMs6E,GAAoB,CAAE,KAAQC,KAGtCH,EAAwBp6E,EAAOs6E,EAAkBC,EAAaC,GAEhE,GACD,EAGII,EAA6B,SAAU/F,GAC1CA,EAAMgG,4BAA6B,EACnCJ,EAAEC,KAAK7F,EAAMqB,YAAY,SAAU16E,EAAGs/E,GACrCF,EAA2B3E,EAAgB6E,EAAexH,GAC3D,GACD,EAEIyH,EAA+B,SAAUlG,QACH7iB,IAArC6iB,EAAMgG,mCACFhG,EAAMgG,2BAEdJ,EAAEC,KAAK7F,EAAMqB,YAAY,SAAU16E,EAAGs/E,GACrCC,EAA6B9E,EAAgB6E,EAAexH,GAC7D,GACD,EA0BI0H,EAAsC,SAAUnG,GACnD,IAAIoG,EAAe,GACnBR,EAAEC,KAAK7F,EAAMoG,cAAc,SAAUz/E,EAAGwE,GACvCi7E,EAAal4E,KAAKkzE,EAAgBj2E,EAAOszE,GAC1C,IACAmH,EAAEC,KAAKO,GAAc,SAAUz/E,EAAG4oB,GAC7BA,EAAOy2D,6BACVG,EAAoC52D,UAC7BA,EAAOy2D,2BAEhB,IAGA,IAAIK,EAAgB,CAAC,EACjBC,EAAqB,GACzBV,EAAEC,KAAKO,GAAc,SAAUz/E,EAAG4oB,GACjCq2D,EAAEC,KAAKt2D,EAAO6qC,SAAS,SAAUzzD,EAAG+G,GACnCk4E,EAAEr6D,QAAO,EAAM86D,EAAe34E,EAAO64E,iBACrCD,EAAmBp4E,KAAKR,EAAOg5D,MAChC,GACD,IAEAkf,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClC,IAAI84E,EAAS,CAAC,EACdZ,EAAEr6D,QAAO,EAAMi7D,EAAQH,GAEnBrG,EAAMoG,aAAa3/E,QAAU,QACa02D,IAAzCzvD,EAAO64E,gBAAgB74E,EAAOg5D,aAAsEvJ,IAA9CzvD,EAAO64E,gBAAgB74E,EAAOg5D,OAAOK,aACvFr5D,EAAO64E,gBAAgB74E,EAAOg5D,OAGvCkf,EAAEr6D,QAAO,EAAMi7D,EAAQ94E,EAAO64E,iBAE9BhB,EAAwBiB,EAAQ94E,EAAOg5D,MAAOsY,EAAwBsH,GACtE54E,EAAO64E,gBAAkBC,CAC1B,GAED,EAUIC,EAA6B,SAAUC,EAAUC,EAAUnB,GAC9DI,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC1BA,aAAiB7B,SAChBwa,IAAQ6iE,IACXnB,EAAQkB,GAAYv7E,SACbq6E,EAAQ1hE,IAEhB2iE,EAA2BC,EAAUC,EAAUx7E,GAEjD,GACD,EAwDIy7E,EAA6B,SAAU5G,GAC1C4F,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClCm5E,EAAsBn5E,EAAO64E,gBAC9B,IACAX,EAAEC,KAAK7F,EAAMqB,YAAY,SAAU16E,EAAGmgF,GACrCF,EAA2BxF,EAAgB0F,GAC5C,GACD,EACID,EAAwB,SAAUrB,GACrCI,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC1BA,aAAiB7B,SACpBu9E,EAAsB17E,GAClBq0E,EAAcr0E,WACVq6E,EAAQ1hE,GAGlB,GACD,EAEIijE,EAAkC,SAAU/G,EAAOplB,GACtDgrB,EAAEC,KAAK7F,EAAMqB,YAAY,SAAU16E,EAAGmgF,GACrC,IAAIE,EAAY5F,EAAgB0F,GAChCG,GAAsCD,EAAW,CAACpsB,IAClDmsB,EAAgCC,EAAWpsB,EAC5C,GACD,EAIIssB,GAAoB,SAAUlH,EAAOmH,EAAwBC,GAChExB,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClC25E,GAA4B35E,EAAO64E,gBAAiBY,EAAwBC,EAC7E,IACAxB,EAAEC,KAAK7F,EAAMqB,YAAY,SAAU16E,EAAGmgF,GACrCI,GAAkB9F,EAAgB0F,GAAiBK,EAAwBC,EAC5E,GACD,EACIC,GAA8B,SAAU7B,EAAS2B,EAAwBC,GAC5ExB,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC1BA,aAAiB7B,SACpBs8E,EAAEC,KAAKsB,GAAwB,SAAUxgF,EAAG2gF,GACvCxjE,IAAQwjE,GACX1B,EAAEC,KAAKuB,GAAsB,SAAU/U,EAAGkV,QAClBpqB,IAAnBhyD,EAAMo8E,WACFp8E,EAAMo8E,EAEf,GAEF,IACAF,GAA4Bl8E,EAAOg8E,EAAwBC,GAE7D,GACD,EAGII,GAAyB,SAAUhC,EAASiC,GAC/C7B,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC1BA,aAAiB7B,UACwB,GAAxCs8E,EAAEE,QAAQhiE,EAAK2jE,UACXjC,EAAQ1hE,GAEf0jE,GAAuBr8E,EAAOs8E,GAGjC,GACD,EACIR,GAAwC,SAAUjH,EAAO0H,GAC5D9B,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClC85E,GAAuB95E,EAAO64E,gBAAiBmB,EAChD,GACD,EACIC,GAAmD,SAAU3H,GAChEA,EAAM4H,+BAAgC,EACtChC,EAAEC,KAAK7F,EAAMoG,cAAc,SAAUz/E,EAAGkhF,GACvCF,GAAiDvG,EAAgByG,GAClE,GACD,EACIC,GAAqD,SAAU9H,UAC3DA,EAAM4H,8BACbhC,EAAEC,KAAK7F,EAAMoG,cAAc,SAAUz/E,EAAGkhF,GACvCC,GAAmD1G,EAAgByG,GACpE,GACD,EAUIE,GAAmC,SAAUvC,EAASwC,EAA0BC,GACnFrC,EAAEC,KAAKL,GAAS,SAAU1hE,EAAK3Y,GAC9B,GAAIA,aAAiB7B,OAAQ,CAC5B,IAAI4+E,EAAoBD,EAAY3zE,MAAM,GAC1C4zE,EAAkBh6E,KAAK4V,GACvBikE,GAAiC58E,EAAO68E,EAA0BE,EACnE,KAEa,SAARpkE,GACHkkE,EAAyB95E,KAAK+5E,EAGjC,GACD,EA8BIE,GAAsC,SAAU1sB,GAInD,IAAK,IAAIukB,KAHTvkB,EAAWA,GAAY6K,KAGIqZ,OAC1BK,EAAMoI,6BAA8B,EAGrC,IAAIC,EAASC,GAAe7sB,GAE5B,IAAK,IAAI8sB,KAAaF,EAErBG,GAA2BD,GAI5B,IAAK,IAAIvI,KAASvkB,EAASkkB,cACnBK,EAAMoI,2BAEf,EAEIE,GAAiB,SAAU7sB,GAC9B,IAAI4sB,EAAS,GACb,IAAK,IAAIrI,KAASvkB,EAASkkB,OACM,IAA5BK,EAAMqB,WAAW56E,QACpB4hF,EAAOn6E,KAAK8xE,GAGd,OAAOqI,CACR,EAQIG,GAA6B,SAAUxI,GAK1C,GAAkC,IAA9BA,EAAMoG,aAAa3/E,OAAvB,CAeA,IAAI4/E,EAAgB,CAAC,EACrB,IAAK,IAAIoC,KAAmBzI,EAAMoG,aAAc,CAC/C,IAAIlF,EAAcE,EAAgBqH,GAIlC,IAAK,IAAIC,KAFTF,GAA2BtH,GAEFA,EAAY9mB,SACpCwrB,EAAEr6D,QAAO,EAAM86D,EAAeqC,EAAanC,gBAE7C,CAKA,IAAK,IAAI74E,KAAUsyE,EAAM5lB,QAAS,CAEjC,IAAIuuB,EAAsBpW,EAAAA,EAAK/9B,MAAM6xC,GAGjCuC,EAAwBC,GAAyBF,GAOrD,IAAKG,QANgC,IAAjCF,EAAsBniF,SACzBkiF,EAAoBj7E,EAAOg5D,OAAS,CACnC,KAAQsY,EACR,YAAc,IAGH4J,GAGZE,KAAKp7E,EAAOg5D,OAAS,CACpB,KAAQsY,EACR,YAAc,GAOhB+J,GAA8Cr7E,EAAQi7E,EAAqBj7E,EAAO64E,iBAIlF74E,EAAO64E,gBAAkBoC,CAC1B,CACA3I,EAAMoI,6BAA8B,CA/CpC,MAXC,IAAK,IAAI16E,KAAUsyE,EAAM5lB,QAAS,CACjC,IACI4uB,EAA4B,CAAC,EACjCA,EAFYt7E,EAAOg5D,OAEgB,CAAE,KAAQsY,EAAwB,YAAc,GAEnF+J,GAA8Cr7E,EAAQs7E,EAA2B,CAAC,GAClFhJ,EAAMoI,6BAA8B,CACrC,CAoDF,EAOIS,GAA2B,SAAUrD,GACxC,IAAIoD,EAAwB,GAC5B,IAAK,IAAI9kE,KAAO0hE,EAAS,CACxB,IAAIr6E,EAAQq6E,EAAQ1hE,GACpB,QAAmBq5C,IAAfhyD,EAAM47D,MAAoD,IAA9Bz9D,OAAOkgB,KAAKre,GAAO1E,OAElD,IAAK,IAAIwiF,KADTL,EAAsB16E,KAAK/C,GACNA,SAEbA,EAAM89E,QAGdL,EAAwBA,EAAsB3jD,OAAO4jD,GAAyB19E,GAEhF,CACA,OAAOy9E,CACR,EAEIG,GAAgD,SAAUr7E,EAAQw7E,EAAkBC,EAAiBC,GAQxG,QANiBjsB,IAAbisB,IACHA,EAAW,CAAC,QAKWjsB,IAApBgsB,GAAyE,IAAxC7/E,OAAOkgB,KAAK2/D,GAAiB1iF,OAIjE,OAFA4iF,GAAqB37E,EAAQA,EAAO64E,sBACpC74E,EAAO64E,gBAAkB2C,GAS1B,IAAK,IAAII,KAAuBJ,EAC/B,QAA6C/rB,IAAzCgsB,EAAgBG,GACnB,QAAmDnsB,IAA/C+rB,EAAiBI,GAAqBviB,KAEzC,QAAkD5J,IAA9CgsB,EAAgBG,GAAqBviB,KAExCmiB,EAAiBI,GAAuB/W,EAAAA,EAAK/9B,MAAM20C,EAAgBG,QAK7D,CAIN,IAAIC,EAAiBhX,EAAAA,EAAK/9B,MAAM40C,IAC5BI,EAAW,CAAC,GACPF,GAAuB,CAAC,EACjCG,GAA4BF,EAAgBC,GAM5C,IAAIE,EAAkBnX,EAAAA,EAAK/9B,MAAM+0C,GACjCE,GAA4BC,EAAiBP,EAAgBG,IAE7DD,GAAqB37E,EAAQg8E,GAI7B,IAAIC,EAAuBC,GAA6Bl8E,EAAQ67E,QAEnCpsB,IAAzBwsB,IAGHT,EAAiBI,GAAuBK,EAE1C,MACM,QAAkDxsB,IAA9CgsB,EAAgBG,GAAqBviB,KAAoB,EAI/D2iB,EAAkBnX,EAAAA,EAAK/9B,MAAM40C,IACjBE,GAAuBH,EAAgBG,GACvDD,GAAqB37E,EAAQg8E,GAEzBH,EAAiBhX,EAAAA,EAAK/9B,MAAM40C,IAE5BI,EAAW,CAAC,GACPF,GAAuB,CAAC,EACjCG,GAA4BF,EAAgBC,GAC5CT,GAA8Cr7E,EAAQw7E,EAAiBI,GAAsBH,EAAgBG,GAAsBC,EACpI,KAAO,CAGFA,EAAiBhX,EAAAA,EAAK/9B,MAAM40C,IAC5BI,EAAW,CAAC,GACPF,GAAuB,CAAC,EACjCG,GAA4BF,EAAgBC,GAE5CT,GAA8Cr7E,EAAQw7E,EAAiBI,GAAsBH,EAAgBG,GAAsBC,EACpI,CAMF,IAAK,IAAIM,KAAsBV,EAC9B,QAA6ChsB,IAAzC+rB,EAAiBW,GAAmC,CAEvD,IACIL,EADAE,EAAkBnX,EAAAA,EAAK/9B,MAAM40C,IAC7BI,EAAW,CAAC,GACPK,GAAsBV,EAAgBU,GAC/CJ,GAA4BC,EAAiBF,GAC7CE,EAAgBG,GAAsBV,EAAgBU,GACtDR,GAAqB37E,EAAQg8E,EAC9B,CAEF,EAEIL,GAAuB,SAAU37E,EAAQg8E,GAC5Ch8E,EAAOo8E,qBAAuBp8E,EAAOo8E,sBAAwB,CAAC,EAC9DlE,EAAEr6D,QAAO,EAAM7d,EAAOo8E,qBAAsBJ,EAE7C,EAEIE,GAA+B,SAAUl8E,EAAQ07E,GAGpD17E,EAAOo8E,qBAAuBp8E,EAAOo8E,sBAAwB,CAAC,EAE9D,IADA,IAAItE,EAAUjT,EAAAA,EAAK/9B,MAAM9mC,EAAOo8E,2BACZ3sB,IAAbisB,GAAwB,CAC9B,IAAI5/D,EAAOlgB,OAAOkgB,KAAK4/D,GACvB,GAAI5/D,EAAK/iB,OAAS,QAA0B02D,IAArBqoB,EAAQh8D,EAAK,IACnC,OAED4/D,EAAWA,EAAS5/D,EAAK,IACzBg8D,EAAUA,EAAQh8D,EAAK,GACxB,CACA,QAAqB2zC,IAAjBqoB,EAAQze,KACX,OAAOye,CAGT,EAEIiE,GAA8B,SAAUL,EAAUI,GACrD,IACI1lE,EADA0F,EAAOlgB,OAAOkgB,KAAK4/D,GAEnBr7E,EAAUq7E,EACVW,EAAW,CAAC,EAEhB,GAAoB,IAAhBvgE,EAAK/iB,OACR,OAAO+iF,EAGR,KAAuB,IAAhBhgE,EAAK/iB,QACXqd,EAAM0F,EAAK,GACXugE,EAAWh8E,EACXA,EAAUA,EAAQyb,GAClBA,EAAOlgB,OAAOkgB,KAAKzb,GAGpBg8E,EAASjmE,GAAO0lE,CACjB,EAoHA,IAYIQ,GAAoB,CACvBC,uBA7B4B,WAC5BzL,EAAoB,EACrB,EA4BC0L,mBA1BwB,SAAStjB,GACjC4X,EAAkBtwE,KAAK04D,EACxB,EAyBCujB,qBAvB0B,WAC1B,OAAO3L,CACR,EAsBC4L,qBApB0B,SAASC,GACnC7L,EAAoB6L,CACrB,EAmBCnkB,6BAjBkC,SAASW,EAAOoC,GAClD,IAAIqhB,EAAoB,GACxB,IAAK,IAAI1jB,KAAW4X,GACd5X,EAAQlN,YAAcmN,GAASD,EAAQhN,YAAcqP,GACrDrC,EAAQhN,YAAciN,GAASD,EAAQlN,YAAcuP,IAEzDqhB,EAAkBp8E,KAAK04D,GAGzB,OAAO0jB,CACR,EAQCphB,aAAcA,EACdqhB,iBA71BsB,WAGtBrhB,EAFiB,CAAC,CAAE,MAAS,IAAK,OAAU,KAAO,CAAE,MAAS,IAAK,OAAU,KAAO,CAAE,MAAS,IAAK,OAAU,MAErF,CAAE,EAAK,KADrB,CAAE,EAAK,CAAC,EAAG,EAAK,CAAC,EAAG,EAAK,CAAC,EAAG,EAAK,CAAC,EAAG,EAAK,CAAC,GAExD,EA01BCshB,YAxiDiB,SAAUxK,EAAOh3E,EAAGmgB,GACrCu1D,EAAoB11E,EAAIA,EACxB01E,EAAoBv1D,EAAIA,EACxBu2D,EAAgBM,EACjB,EAqiDCf,aAAcA,EACdwL,aAhoDkB,SAAUt/E,GAASozE,EAAYpzE,CAAO,EAioDxDu/E,QAtoDa,SAAUrrB,GACvBif,EAAcjf,CACf,EAqoDCsrB,YAppDiB,SAAUC,GAC3BrM,EAAUrwE,KAAK08E,EAChB,EAmpDCC,eAjpDoB,SAAUpvB,GAC9B,IAAI7tD,EAAQ2wE,EAAU30E,QAAQ6xD,IACf,IAAX7tD,GACH2wE,EAAU1jC,OAAOjtC,EAAO,EAI1B,EA2oDC04D,mBAAoBA,EACpB4Y,kBAAmBA,EACnBG,mBAAoBA,EACpBI,gBAAiBA,EACjBC,gBAAiBA,EACjBI,iBAAkBA,EAClBC,iBAAkBA,EAClB+K,uBAzjD4B,WAC5B,OAAOpM,CACR,EAwjDCqM,qBA3nC0B,SAAUzJ,EAAW7lB,GAC/CA,EAAWA,GAAY6K,IACvB,IAAK,IAAIsZ,EAAa,EAAGA,EAAankB,EAASuvB,YAAYvkF,OAAQm5E,IAAc,CAChF,IAAII,EAAQvkB,EAASuvB,YAAYpL,GACjC,GAAII,EAAMtZ,QAAU4a,EACnB,OAAOtB,CACT,CACD,EAqnCCoB,gBAAiBA,EACjB6J,iBA3mCsB,SAAU7oB,EAAY3G,GAE5C,IAAIyvB,EAQJ,OATAzvB,EAAWA,GAAY6K,IAEvBsf,EAAEC,KAAKpqB,EAASkkB,QAAQ,SAAUh5E,EAAGq5E,GACpC4F,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUiY,EAAG3kE,GAC9BA,EAAOg5D,MAAMxvD,gBAAkBkrD,EAAWlrD,gBAC7Cg0E,EAAiBx9E,EAEnB,GACD,IACOw9E,CACR,EAimCCC,gCA/lCqC,SAAU/oB,GAC/C,IAAIhI,EAAU,GACd,IAAK,IAAIqB,KAAY8iB,EACpB,IAAK,IAAIyB,KAASvkB,EAASkkB,OAC1B,IAAK,IAAIjyE,KAAUsyE,EAAM5lB,QACpB1sD,EAAOg5D,MAAMxvD,gBAAkBkrD,EAAWlrD,eAC7CkjD,EAAQlsD,KAAKR,GAKjB,OAAO0sD,CACR,EAolCCylB,mBAAoBA,EACpBuL,gBAljDqB,SAAUC,GAC/B,IAAIC,EAAe5M,EACfrf,EAAOif,EAEP6B,EAAa,GACboL,EAAa,CAAC,EACdtL,EAAc,EACduL,EAAe,GACfC,EAAe,CAAC,EAGhBzL,EAAQP,IACR4B,EAAa,GAIhBA,OAHalkB,IAAV6iB,EAGU1Z,IAAqBolB,YAErB1L,EAAMqB,WAGpB,IAAK,IAAIzB,EAAa,EAAGA,EAAayB,EAAW56E,OAAQm5E,IAAc,CACtE,IAAIoH,EAAY5F,EAAgBC,EAAWzB,IAE3C,IADA4L,EAAexE,EAAU5sB,QACpB6lB,EAAc,EAAGA,EAAcuL,EAAa/kF,OAAQw5E,IACxDuL,EAAavL,GAAaiB,YAAc8F,EAAUtgB,OAKlD6kB,EAAariB,EAAasiB,EAAavL,GAAane,cAAewpB,EAAcjsB,IAClE+J,WAEdqiB,EAAelZ,EAAAA,EAAK/9B,MAAMg3C,EAAavL,KAC1BhW,qBAAuBshB,EAAWthB,qBAC/CkW,EAAWjyE,KAAKu9E,GAGnB,CAEA,GAAIJ,EAGH,IADA,IAAIL,EAAcvM,EAAgBuM,YACzBW,EAAa,EAAGA,EAAaX,EAAYvkF,OAAQklF,IAEzD,IADAH,EAAeR,EAAYW,GAAYvxB,QAClC6lB,EAAc,EAAGA,EAAcuL,EAAa/kF,OAAQw5E,KACxDsL,EAAariB,EAAasiB,EAAavL,GAAane,cAAewpB,EAAcjsB,IAClE+J,WAEdqiB,EAAelZ,EAAAA,EAAK/9B,MAAMg3C,EAAavL,KAC1BhW,qBAAuBshB,EAAWthB,qBAC/CkW,EAAWjyE,KAAKu9E,IAKpB5M,EAAkBsB,CAEnB,EAy/CCD,aAAcA,EACd0L,uBAlwC4B,SAAUl+E,GACtC,IAEIm+E,EAFAjN,EAAgBlxE,GAAUoyE,IACXlB,EAAc2H,qBAIEppB,IAA9ByhB,EAAciN,YACjBA,EAAcjN,EAAciN,aAE5B9gD,QAAQj6B,IAAI8tE,EAAclY,MAAQ,mDAClCmlB,EAAc,eAsDhBA,GADAA,GADAA,GADAA,GADAA,EAAcA,EAAYjgF,QAAQ,OAAQ8yE,EAAoB11E,IACpC4C,QAAQ,OAAQ8yE,EAAoBv1D,IACpCvd,QAAQ,OAAQ8yE,EAAoB11E,IACpC4C,QAAQ,OAAQ8yE,EAAoBv1D,IACpCvd,QAAQ,aAAc6yE,EAAgBc,SAGhE,IAAIuM,EAAYC,EAAAA,EAAM7rB,mBAAmB2rB,GAKzCE,EAAAA,EAAMntB,4BAA4B6f,EAAgB/X,MAAOiY,EAAajY,MAAOkY,EAAclY,OAG3F,IAAIslB,EAAmB,GACvB,IAAK,IAAIC,KAAYH,EACpBE,GAAoBF,EAAUG,GAAUjvB,WAAW,IAAK0hB,GASzD,YAJevhB,IAAXzvD,GACH+wE,EAAgBa,eAAezkC,OAAO4jC,EAAgBa,eAAe74E,OAAS,EAAG,GAG3EulF,CACR,EA4qCCE,4BAzzCiC,SAAUx+E,EAAQ2xD,GAC/C3xD,EAASwyE,EAAa7gB,EAAM,CAAC3xD,IACjCqyE,EAAiBryE,GACjBgxE,EAAsBhxE,EAAO24D,kBAC9B,EAszCC8lB,aApzCkB,WAClB,IAAIz+E,EAASoyE,IACTzd,EAAU8E,EAA0Bz5D,EAAO20D,QAASqc,QAMxBvhB,IAA5BshB,EAAgBc,UACnBb,EAA6B,QAAID,EAAgBc,SAGlD,IAAK,IAAI6M,EAAc,EAAGA,EAAc/pB,EAAQ57D,OAAQ2lF,IAGvD7hB,EAAAA,EAAK//D,IAAI63D,EAAQ+pB,IAIlB3N,EAAgBa,eAAepxE,KAAK,CACnC,SAAYuwE,EAAgB/X,MAC5B,YAAeh5D,EAAOg5D,MACtB,KAAQ6D,EAAAA,EAAKC,qBACb,SAAY98D,EAAO24D,mBACnB,QAAW34D,EAAO20D,UAMnB,IAAI5D,EAAcigB,EAAoB11E,EAAI,IAAM01E,EAAoBv1D,EAAI,IAAMm9C,IAAqBI,MAAQ,IAAM+Y,IAAkB/Y,MAAQ,IAAMoZ,IAAmBpZ,MACpKqlB,EAAAA,EAAMrtB,qBAAqBD,GAE3B8L,EAAAA,EAAK8L,mBAGN,EAixCCgW,gBAxqCqB,WAIrB,IAHA,IAAIhL,EAAa5B,IAAkB4B,WAC/BzkB,EAAqBkjB,IAAmBpZ,MAEnC4lB,EAAiB,EAAGA,EAAiBjL,EAAW56E,OAAQ6lF,IAEhE,IADA,IAAIlyB,EAAUgnB,EAAgBC,EAAWiL,IAAiBlyB,QACjD6lB,EAAc,EAAGA,EAAc7lB,EAAQ3zD,OAAQw5E,IACvD,GAAIrjB,IAAuBxC,EAAQ6lB,GAAavZ,MAE/C,YADAgZ,EAAgB2B,EAAWiL,GAO/B,EA0pCCC,mCAxpCwC,WAIxC,IAHA,IAAIlL,EAAa5B,IAAkB4B,WAC/BzkB,EAAqBkjB,IAAmBpZ,MAEnC4lB,EAAiB,EAAGA,EAAiBjL,EAAW56E,OAAQ6lF,IAEhE,IADA,IAAIlyB,EAAUgnB,EAAgBC,EAAWiL,IAAiBlyB,QACjD6lB,EAAc,EAAGA,EAAc7lB,EAAQ3zD,OAAQw5E,IACvD,GAAIrjB,IAAuBxC,EAAQ6lB,GAAavZ,MAE/C,YADAgZ,EAAgB2B,EAAWiL,GAO/B,EA0oCCE,gBA1lCqB,WACrB,OAA4C,IAAxC/M,IAAkB4B,WAAW56E,MAIlC,EAslCCgmF,gBA1/CqB,SAAUrqB,GAG/B,IAFA,IAAI+d,EAAaN,IAERl5E,EAAI,EAAGA,EAAIw5E,EAAW15E,OAAQE,IACtC,GAAIw5E,EAAWx5E,GAAG+/D,QAAUtE,EAC3B,OAAO+d,EAAWx5E,EAIrB,EAk/CCwgE,0BAA2BA,EAC3Bme,gBAAiBA,EACjBoH,qBAlvB0B,WAC1B,OAAO5N,CACR,EAivBC6N,YAtlCiB,SAAUxN,EAAcmC,GACzCjC,EAAmBF,GAGnByG,EAAEC,KAAKpH,EAAgBkB,QAAQ,SAAUh5E,EAAGq5E,GAC3C,IAAI4M,EAAYhH,EAAEE,QAAQxE,EAAWtB,EAAMqB,aACxB,IAAfuL,GACH5M,EAAMqB,WAAWxmC,OAAO+xC,EAAW,GAEpC,IAAIC,EAAcjH,EAAEE,QAAQxE,EAAWtB,EAAMoG,eACxB,IAAjByG,GACH7M,EAAMoG,aAAavrC,OAAOgyC,EAAa,EAEzC,GAED,EAwkCCC,YApkCiB,SAAU3N,EAAc4N,EAAcC,GAIvD,GAFA3N,EAAmBF,GAEf6N,IAAiBD,EAIpB,IAAK,IAAIpmF,EAAI,EAAGA,EAAI83E,EAAwB,OAAEh4E,OAAQE,IAErD,IADA,IAAIsmF,EAAWxO,EAAwB,OAAE93E,GAChC0rE,EAAI,EAAGA,EAAI4a,EAAS5L,WAAW56E,OAAQ4rE,IAC/C,GAAI4a,EAAS5L,WAAWhP,KAAO0a,EAAc,CAC5CtO,EAAgBkB,OAAOh5E,GAAG06E,WAAWhP,GAAK2a,EAC1C,KACD,CAIJ,EAmjCCE,6BAzrBkC,SAAUC,EAAWC,GACvDrH,EAA2BqH,GAC3B,IAAIC,EAdiD,WACrD,IAAIA,EAAiB,GAQrB,OAPAzH,EAAEC,KAAKpH,EAAgBkB,QAAQ,SAAUh5E,EAAGq5E,QACF7iB,IAArC6iB,EAAMgG,4BACsB,GAA3BhG,EAAMqB,WAAW56E,QAAeu5E,EAAMgG,4BACzCqH,EAAen/E,KAAK8xE,EAGvB,IACOqN,CACR,CAIsBC,GAErB1H,EAAEC,KAAKwH,GAAgB,SAAU1mF,EAAGq5E,GACnCmG,EAAoCnG,EACrC,IACAkG,EAA6BkH,EAC9B,EAkrBCG,wCAzoB6C,SAAU7G,EAAUC,GACjEf,EAAEC,KAAKpH,EAAgBkB,QAAQ,SAAUh5E,EAAGq5E,GAC3C4F,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClC+4E,EAA2BC,EAAUC,EAAUj5E,EAAO64E,gBACvD,GACD,GACD,EAooBCiH,+BApnBoC,SAAUC,EAAoBC,GAClE,IAAIxM,EAAcE,EAAgBqM,GAC9BE,EAAavM,EAAgBsM,GAEjC/F,GAAiDzG,GACjD0E,EAAEC,KAAK8H,EAAWvH,cAAc,SAAUz/E,EAAGkhF,GACxCA,IAAgB4F,GACnB3F,GAAmD1G,EAAgByG,GAErE,IAEA,IAAIH,EAA+B,GACnC9B,EAAEC,KAAKpH,EAAgBkB,QAAQ,SAAUh5E,EAAGq5E,QACC7iB,IAAxC6iB,EAAM4H,+BACL5H,EAAM4H,gCACThC,EAAEC,KAAK7F,EAAM5lB,SAAS,SAAUzzD,EAAG+G,GAClCg6E,EAA6Bx5E,KAAKR,EAAOg5D,MAC1C,WAEOsZ,EAAM4H,8BAGhB,IACAX,GAAsC0G,EAAYjG,GAGlD,IAAIN,EAAuB,GACvBD,EAAyB,GAC7BvB,EAAEC,KAAK3E,EAAY9mB,SAAS,SAAUzzD,EAAG+G,GACxCy5E,EAAuBj5E,KAAKR,EAAOg5D,MACpC,IACAkf,EAAEC,KAAK8H,EAAWvzB,SAAS,SAAUzzD,EAAG+G,GACvC05E,EAAqBl5E,KAAKR,EAAOg5D,MAClC,IACAwgB,GAAkByG,EAAYxG,EAAwBC,GAGf,IAAnCuG,EAAWvH,aAAa3/E,QAC3Bm/E,EAAEC,KAAK8H,EAAWvzB,SAAS,SAAUzzD,EAAG+G,QACMyvD,IAAzCzvD,EAAO64E,gBAAgB74E,EAAOg5D,SACjCh5D,EAAO64E,gBAAgB74E,EAAOg5D,OAAS,CACtC,KAAQsY,EACR,YAAc,GAGjB,IAKD4H,EAA2B+G,EAC5B,EAkkBCC,4BA7eiC,SAAUlgF,GAC3C,IAAIs6E,EAA2B,GAI/B,OAFAD,GAAiCr6E,EAAO64E,gBAAiByB,EAA0B,IAE5EA,CACR,EAweC6F,0BAxd+B,WAC/B,OAAO7O,CACR,EAudC8O,+BArdoC,SAAU9kB,EAAY4Z,EAAmBjlB,GAG7E,IAAIkb,EAAU3P,EAAaF,EAAY4Z,EAAmBtE,GAAa,GACnEyP,EAAqB,GAYzB,OAXIlV,EAAQzP,SACXwc,EAAEC,KAAKhN,EAAQ5O,sBAAsB,SAAUtjE,EAAGqnF,GACjDpI,EAAEC,KAAKmI,GAAS,SAAUnJ,EAAUoJ,GAC/BpJ,IAAalnB,IACmC,IAA/CioB,EAAEE,QAAQmI,EAAYF,IACzBA,EAAmB7/E,KAAK+/E,EAG3B,GACD,IAEMF,CACR,EAqcChH,gCAAiCA,EACjCE,sCAAuCA,GACvCkB,oCAAqCA,GACrC+F,uCA/K4C,SAAUzyB,GAGtD,IAAIukB,EACJ,IAAKA,KAHLX,EAAmB5jB,GAGLA,EAASkkB,aACKxiB,IAAvB6iB,EAAMoG,eACTr7C,QAAQj6B,IAAI,mCAAqCkvE,EAAMtZ,OACvDsZ,EAAMoG,aAAe,IAIvB,IAAKpG,KAASvkB,EAASkkB,OACtB,IAAK,IAAImH,KAAkB9G,EAAMqB,WAAY,CAC5BD,EAAgB0F,GACtBV,aAAal4E,KAAK8xE,EAAMtZ,OAClC37B,QAAQj6B,IAAI,sBAAwBkvE,EAAMtZ,MAC3C,CAGDyhB,GAAoC1sB,EACrC,EA4JC0yB,kBAzJuB,WACvB,OAAO1xB,cACR,EAwJC2xB,yBArJ8B,SAASC,GACvC,IAAIzmB,EAAU0d,IACVrpB,EAAwB,CAAC,EAC7B,IAAK,IAAIqyB,KAAc1mB,EAAS,CAC/B3L,EAAsBqyB,GAAc,GACpC,IAAK,IAAI1kB,KAAQhC,EAAQ0mB,GAAYxkB,UAAW,CAC/C,IAAIykB,EAAuB,CAC1B,YAAe3kB,EAAKlhE,KACpB,MAAUkhE,EAAKp3B,MACf,WAAc,GACd,OAAUo3B,EAAKvH,QAAQ,GAAG6H,OAC1B,OAAUokB,GAGPnoB,EAAWyD,EAAK3jC,OAAOgkC,qBAAqB,GAC5C/C,EAAa5H,EAAAA,EAAI2G,gBAAgBkB,0BAA0ByC,EAAKZ,WAAY7C,GAChF,IAAK,IAAIx/D,EAAI,EAAGA,EAAIugE,EAAWzgE,OAAQE,IACtC4nF,EAAqBC,WAAWtgF,KAAKoxD,EAAAA,EAAIgI,aAAaJ,EAAWvgE,KAElEs1D,EAAsBqyB,GAAYpgF,KAAKqgF,EACxC,CACD,CACA,OAAOtyB,CACR,EA+HC+N,qBA7H0B,SAASJ,EAAMzD,EAAUsoB,GACnD,IAAI/K,EAAkBvc,EAA0ByC,EAAKZ,WAAY7C,GAGjE,GAAIsoB,EAGH,IAAK,IAAI9nF,EAAI,EAAGA,EAAI+8E,EAAgBj9E,OAAQE,IAAK,CAEhD,IADkB24D,EAAAA,EAAIkI,UAAUC,OAAO6N,QAAOC,GAAOA,EAAM5N,QAAQ+b,EAAgB/8E,GAAGghE,QACrE,GAAGkJ,UAAW,CAG9B6S,EAAgB/8E,GAAGyzE,SAAW,GAC9B,IAAIsU,EAAgBpvB,EAAAA,EAAIpnD,IAAIwrE,EAAgB/8E,IAE5C+8E,EAAgB/8E,GAAGwE,MAAQujF,EAAc,GAAGvjF,KAC7C,CACD,CAKD,IAAI86B,EAAS,GAEb,GAA+B,IAA3By9C,EAAgBj9E,OACbw/B,EAASq5B,EAAAA,EAAIgI,aAAaoc,EAAgB,SACvC,GAA+B,IAA3BA,EAAgBj9E,OACvBw/B,EAASq5B,EAAAA,EAAIgI,aAAaoc,EAAgB,IAAM,QAAUpkB,EAAAA,EAAIgI,aAAaoc,EAAgB,SAE3F,IAAK,IAAI/8E,EAAI,EAAGA,EAAI+8E,EAAgBj9E,OAAQE,IACpCA,EAAI,IACAA,IAAM+8E,EAAgBj9E,OAAS,EAC/Bw/B,GAAU,SAEVA,GAAU,MAGlBA,GAAUq5B,EAAAA,EAAIgI,aAAaoc,EAAgB/8E,IAItD,OAAOs/B,CACR,GAqFA,6CCpuDA,SAASkzC,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,uFCJb/e,UAAU,IAGVu0B,EAAe,GACfC,EAAe,GACfC,EAAkB,GA4GlBC,EAAsB,SAAUC,GACnC,IAAK,IAAIpoF,EAAI,EAAGA,EAAIyzD,EAAQ3zD,OAAQE,GAAK,EACxC,GAAIyzD,EAAQzzD,GAAG+B,OAASqmF,EAAmBrmF,KAE1C,OAAO,CAGV,EAOIsmF,EAA0B,SAAUC,GAEvC,IADA,IAAIrQ,EACKj4E,EAAI,EAAGA,EAAIsoF,EAAWxoF,OAAQE,GAAK,EAC3Ci4E,EAAgBrM,EAAAA,EAAK/9B,MAAMy6C,EAAWtoF,SACTw2D,IAAzB8xB,EAAWtoF,GAAGsgE,QACjB0nB,EAAazgF,KAAK0wE,QAEWzhB,IAA1B8xB,EAAWtoF,GAAGuoF,SACjBN,EAAa1gF,KAAK0wE,QAEWzhB,IAA1B8xB,EAAWtoF,GAAG07D,SACjBwsB,EAAgB3gF,KAAK0wE,EAIxB,EAcIuQ,EAA+B,SAAUz1B,EAAWE,EAAWw1B,EAAoBC,EAAYnlB,EAAQolB,EAAoBjwB,GAG9H,IAAIjF,EAAUm1B,EAA+B71B,EAAWE,EAAWw1B,EAAoBC,EAAYnlB,EAAQolB,EAAoBjwB,GAE/H,OADoBmwB,EAA2Bp1B,EAGhD,EAUIo1B,EAA6B,SAAUp1B,GAE1CA,EADwBq1B,EAAEC,OAAOt1B,EAAS,UACdu1B,UAI5B,IAAK,IAAIhpF,EAAI,EAAGA,EAAIyzD,EAAQ3zD,OAAQE,GAAK,EAAG,CAC3C,IAAIipF,EAAcx1B,EAAQzzD,GAAGyzD,QAM7B,QALoB+C,IAAhByyB,IACHx1B,EAAQzzD,GAAGyzD,QAAUo1B,EAA2BI,SAIjBzyB,IAA5B/C,EAAQzzD,GAAGkpF,aAA4B,CAC1C,IAAIC,EAAqBL,EAAEC,OAAOt1B,EAAQzzD,GAAGkpF,aAAc,YAC3Dz1B,EAAQzzD,GAAGkpF,aAAeC,EAAmBH,SAC9C,CACD,CAEA,OAAOv1B,CACR,EAgBIm1B,EAAiC,SAAU71B,EAAWE,EAAWm2B,EAAUV,EAAYnlB,EAAQolB,EAAoBjwB,GACtH,IAAI2wB,EACAC,EAAgB,GAChBC,EAAqB,GAGrBC,EAAiB,CAAC,EACtBA,EAA0B,UAAIz2B,EAC9By2B,EAA0B,UAAIv2B,EAS9B,IANA,IAAIw2B,EAAsB,CACzB,UAAa12B,EACb,UAAaE,GAILjzD,EAAI,EAAGA,EAAIgoF,EAAaloF,OAAQE,GAAK,EAE7C,IADAqpF,EAAerB,EAAahoF,GAAGsgE,QACdU,QAAUooB,EAASpoB,OACnCqoB,EAAaznF,OAASwnF,EAASxnF,MAC/BynF,EAAavV,kBAAoBsV,EAAStV,gBAAiB,CAE3D,IAAI4V,EAAa9d,EAAAA,EAAK/9B,MAAMm6C,EAAahoF,IAKzC,GAJA0pF,EAAWR,aAAe,GAC1BQ,EAAWR,aAAa3hF,KAAKkiF,GAC7BC,EAAWnmB,OAASA,OAEE/M,KADtB8yB,EAAgBK,EAAkCD,EAAYhB,EAAYC,EAAoBa,EAAgB9wB,IAG7G,YADAt0B,QAAQj6B,IAAI,oCAAsC4oD,EAAY,cAAgBE,EAAY,kBAAmBm2B,GAM9GG,EAAqBD,CACtB,CAGD,OAAOC,CACR,EAQII,EAAoC,SAAUC,EAAalB,EAAYmB,EAAiBL,EAAgB9wB,GAC3G,IAAIoxB,EAAa,GACbC,GAAuB,EACvBC,EAAwBR,EACPI,EAAYrmB,OAGjC,GAFAsmB,EAAkBA,GAAmB,EACrCnB,EAAmC,qBAAfA,GAA6BA,OACrBlyB,IAAxBozB,EAAYrB,QAAhB,CAKAyB,EAAwBC,EAAwBL,EAAaJ,GAE7D,IAAIU,EAAwCC,EAA8BP,EAAahe,EAAAA,EAAK/9B,MAAM27C,GAAiB5d,EAAAA,EAAK/9B,MAAM6qB,GAAOkT,EAAAA,EAAK/9B,MAAM+7C,EAAYV,cAAetd,EAAAA,EAAK/9B,MAAM6qB,IACtL,KAAIwxB,EAAsCpqF,QAAU,GAApD,CAMA8pF,EAAYV,aAAegB,EAM3BE,EAA2BR,GAM3B,IAAIS,EAA6B,CAAC,EAClCA,EAA2BtoF,KAAO6nF,EAAY7nF,KAC9CsoF,EAA2B9mB,OAASqmB,EAAYrmB,OAChD8mB,EAA2BnB,aAAeU,EAAYV,aACtDmB,EAA2B52B,QAAU,GAGrC,IAFA,IAESzzD,EAAI,EAAGA,EAAI4pF,EAAYrB,QAAQzoF,OAAQE,GAAK,EAAG,CACvD,IAAIy7D,EAAamuB,EAAYrB,QAAQvoF,GAQjCsqF,EAAiBC,EAAiC9uB,EAAYysB,GAGlE,QAAuB1xB,IAAnB8zB,EAA8B,CACjCP,GAAuB,EACvBO,EAAepB,aAAetd,EAAAA,EAAK/9B,MAAM+7C,EAAYV,mBACzB1yB,IAAxBozB,EAAYY,QACfF,EAAeE,QAAUZ,EAAY7nF,KAGrCuoF,EAAeE,QAAUZ,EAAYY,QAAU,IAAMZ,EAAY7nF,KAIlEioF,EAAwBC,EAAwBK,EAAgBd,GAChE,IAAIiB,EAA6BN,EAA8BG,EAAgB1e,EAAAA,EAAK/9B,MAAMm8C,GAAwBpe,EAAAA,EAAK/9B,MAAM6qB,GAAOkT,EAAAA,EAAK/9B,MAAMy8C,EAAepB,cAAetd,EAAAA,EAAK/9B,MAAM6qB,IAOxL,GALA4xB,EAAepB,aAAeuB,GAKzBC,EAAoBJ,EAAgB5B,EAAYsB,GAGpD,SAyBD,GAbAI,EAA2BE,QACK9zB,IAA5B8zB,EAAeK,WAClBL,EAAeK,SAAW,QAEGn0B,IAA1B8zB,EAAe/mB,SAClB+mB,EAAe/mB,OAAS,GAGzB+mB,EAAeK,SAAWL,EAAe/mB,OAAS+mB,EAAeK,cAKtBn0B,IAAvC6zB,EAA2B52B,SAAyB42B,EAA2B52B,QAAQ3zD,QAAU,EACpGuqF,EAA2B52B,QAAU,QACL+C,IAA5B8zB,EAAeK,WAClBL,EAAeK,SAAWC,EAAsBN,IAEjDD,EAA2B52B,QAAQlsD,KAAK+iF,OAEpC,MAC4B9zB,IAA5B8zB,EAAeK,WAClBL,EAAeK,SAAWC,EAAsBN,IAGjD,IADA,IAAIO,EAAmBR,EAA2B52B,QAAQ3zD,OACjDgrF,EAAgBD,EAAkBC,EAAgB,EAAGA,GAAiB,EAAG,CACjF,GAAIT,EAA2B52B,QAAQq3B,EAAgB,GAAGH,UAAYL,EAAeK,SAAU,CAE1FG,IAAkBD,GAAoBA,GAAoBhB,IAK7DQ,EAA2B52B,QAAQvf,OAAO42C,EAAe,EAAGR,GAExDD,EAA2B52B,QAAQ3zD,OAAS+pF,GAC/CQ,EAA2B52B,QAAQvf,OAAO21C,EAAiBQ,EAA2B52B,QAAQ3zD,OAAS+pF,IAGzG,KACD,CAGA,GAAKiB,EAAgB,IAAO,GAAKR,EAAeK,SAAWN,EAA2B52B,QAAQq3B,EAAgB,GAAGH,SAAU,CAE1HN,EAA2B52B,QAAQvf,OAAO42C,EAAgB,EAAG,EAAGR,GAE5DD,EAA2B52B,QAAQ3zD,OAAS+pF,GAC/CQ,EAA2B52B,QAAQvf,OAAO21C,EAAiBQ,EAA2B52B,QAAQ3zD,OAAS+pF,GAExG,KACD,CACD,CACD,CACD,KACK,CAGJ,IAAIkB,EAAoBR,EAAiC9uB,EAAYwsB,GAcrE,GAbA8C,EAAkB7B,aAAeU,EAAYV,aAC7C6B,EAAkBxnB,OAASqmB,EAAYrmB,YAGX/M,IAAxBozB,EAAYY,QACfO,EAAkBP,QAAUZ,EAAY7nF,KAGxCgpF,EAAkBP,QAAUZ,EAAYY,QAAU,IAAMZ,EAAY7nF,KAIrEioF,EAAwBC,EAAwBc,EAAmBvB,IAC9DkB,EAAoBK,EAAmBrC,EAAYsB,GAGvD,SAID,IAAIgB,EAAuBrB,EAAkCoB,EAAmBrC,EAAYmB,EAAiBje,EAAAA,EAAK/9B,MAAMm8C,GAAwBpe,EAAAA,EAAK/9B,MAAM6qB,IAC3J,QAA6BlC,IAAzBw0B,GAAsCA,EAAqBlrF,QAAU,EACxE,SAIDirF,EAAkBt3B,QAAU,GAC5B,IAAK,IAAIw3B,EAAgB,EAAGA,EAAgBD,EAAqBlrF,OAAQmrF,GAAiB,EAAG,CAC5F,IAAIC,EAAaF,EAAqBC,GACtCF,EAAkBt3B,QAAQlsD,KAAKqkE,EAAAA,EAAK/9B,MAAMq9C,GAC3C,CAGApB,EAAWviF,KAAKqkE,EAAAA,EAAK/9B,MAAMk9C,GAC5B,CAED,CAIA,IAA6B,IAAzBhB,EACH,IAAK,IAAIoB,EAAyB,EAAGA,EAAyBd,EAA2B52B,QAAQ3zD,OAAQqrF,GAA0B,EAClIrB,EAAWviF,KAAKqkE,EAAAA,EAAK/9B,MAAMw8C,EAA2B52B,QAAQ03B,KAKhE,OAAOrB,CA7KP,CATA,CAwLD,EAQIc,EAAwB,SAAUN,GACrC,IAAI9xE,EAEJ,QAAgCg+C,IAA5B8zB,EAAeK,SAClBnyE,EAAc8xE,EAAeK,aAEzB,CACJ,IAAIS,EAAgBd,EAAejoB,WAAWviE,YACxB02D,IAAlB40B,IACHA,EAAgB,GAGjB5yE,EAVgB,EASU4yE,CAE3B,CACA,OAAO5yE,CACR,EAWI4xE,EAA6B,SAAUrjF,GAE1C,IADA,IAAIskF,GAAwB,OACnBC,EAAmB,EAAGA,EAAmBvkF,EAAOmiF,aAAappF,OAAQwrF,GAAoB,EAAG,CACpG,IAAIC,EAAmBxkF,EAAOmiF,aAAaoC,GAEvCE,EAAYD,EAAiBE,cACfj1B,IAAdg1B,IAEHA,EAAYzkF,EAAOw8D,QAEpB,IAMImoB,EAAkBF,EANQG,EAA6B5kF,EAAQwkF,GAO/DG,EAAkBL,IAErBtkF,EAAOw8D,OAASmoB,EAChBL,EAAuBK,GAGxB3kF,EAAOmiF,aAAaoC,GAAkBG,SAAWC,CAElD,CACD,EAUIhB,EAAsB,SAAU3jF,EAAQ2hF,EAAYc,GACvD,YAAwBhzB,IAApBzvD,EAAO6kF,UACNlD,IAAe3hF,EAAO6kF,kBAQHp1B,IAApBzvD,EAAO6kF,eAA6Cp1B,IAAnBzvD,EAAOwhF,cAA4C/xB,IAAnBzvD,EAAO20D,UACxD,IAAfgtB,MAUD3hF,EAAOmiF,aAAappF,QAAU,GAInC,EAYIyqF,EAAmC,SAAU9uB,EAAYowB,GAC5D,IAAK,IAAI7rF,EAAI,EAAGA,EAAI6rF,EAAY/rF,OAAQE,GAAK,EAC5C,GAAI6rF,EAAY7rF,GAAG+B,OAAS05D,EAC3B,OAAOmQ,EAAAA,EAAK/9B,MAAMg+C,EAAY7rF,GAIjC,EAmCI8rF,EAAqB,SAAUC,EAAcC,GAChD,IAAK,IAAIhsF,EAAI,EAAGA,EAAI+rF,EAAarwB,QAAQ57D,OAAQE,GAAK,EACrD+rF,EAAarwB,QAAQ17D,GAAGkgE,MAAQ8rB,EAAcD,EAAarwB,QAAQ17D,GAAGkgE,OACtE6rB,EAAarwB,QAAQ17D,GAAGsiE,OAAS0pB,EAAcD,EAAarwB,QAAQ17D,GAAGsiE,QAExE,OAAOypB,CACR,EASI9B,EAA0B,SAAU8B,EAAcvC,GAIrD,IADA,IAAInnB,EAAa0pB,EAAa1pB,WACrBriE,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,GAAK,EAAG,CAC9C,IAAIizE,EAAY5Q,EAAWriE,QAGaw2D,IAApCgzB,EAAevW,EAAU/S,SAC5BspB,EAAevW,EAAU/S,OAAS,SAGV1J,IAArByc,EAAU3Q,aAC4B9L,IAArCgzB,EAAevW,EAAU3Q,UAC5BknB,EAAevW,EAAU3Q,QAAU,GAGtC,CAEA,OAAOknB,CACR,EAgBIW,EAAgC,SAAUpjF,EAAQyiF,EAAgByC,EAAsBC,EAAmBC,GAO9G,IANA,IAAIC,EAAc,GACdC,EAAuB,GAKlBC,EAA0B,EAAGA,EAA0BJ,EAAkBpsF,OAAQwsF,GAA2B,EAAG,CAgBvH,IAAK,IAAIt1B,KAbLjwD,EAAOhF,MAIXsqF,EAAuB,IACF9kF,KAAKqkE,EAAAA,EAAK/9B,MAAMq+C,EAAkBI,KACvDL,EAAuBrgB,EAAAA,EAAK/9B,MAAMs+C,GAOjBD,EAAkBI,GAA0B,CAC5D,IAAIzzB,EAAgBqzB,EAAkBI,GAAyBt1B,GAC/D,GAAsB,KAAlB6B,EAAsB,CAIzB,QAA6BrC,IAAzBy1B,EAAoC,CACvC,IAAIM,EAAYN,EAAqBhpF,QAAQ41D,GACzC0zB,GAAa,GAChBN,EAAqB/3C,OAAOq4C,EAAW,EAEzC,CAIA/C,EAAexyB,GAAQ6B,CACxB,CACD,CAKA,IAAI2zB,GAAW,EACXC,EAAW,GAGf,IAAK,IAAItvE,KAAOqsE,EACf,GAA4B,KAAxBA,EAAersE,GAAa,CAC/BsvE,EAAWtvE,EACXqvE,GAAW,EACX,KACD,CAKD,IAAiB,IAAbA,EAAmB,CAGtB,IAAIzP,EAAkB5O,EAAAA,EAAYue,UAAUlD,EAAgB5d,EAAAA,EAAK/9B,MAAM9mC,EAAOs7D,cAKrD,IAFF8L,EAAAA,EAAY8O,mBAAmBF,IAIrDqP,EAAY7kF,KAAKqkE,EAAAA,EAAK/9B,MAAM27C,GAK9B,KACK,CAEJ,IAAK,IAAIxpF,EAAI,EAAGA,EAAIisF,EAAqBnsF,OAAQE,GAAK,EAAG,CACxDwpF,EAAeiD,GAAYR,EAAqBjsF,GAChD,IAAI2sF,EAAqB/gB,EAAAA,EAAK/9B,MAAMo+C,GACpCU,EAAmBz4C,OAAOl0C,EAAG,GAK7B,IAJA,IAAI4sF,EAAwBzC,EAA8BpjF,EAAQyiF,EAAgBmD,EAAoBN,EAAsBF,GAInHU,EAAI,EAAGA,EAAID,EAAsB9sF,OAAQ+sF,GAAK,EACtDT,EAAY7kF,KAAKqkE,EAAAA,EAAK/9B,MAAM++C,EAAsBC,IAEpD,CAGArD,EAAeiD,GAAY,EAC5B,CACD,CACA,OAAOL,CACR,EASIU,EAAsB,SAAUzqB,EAAY0qB,GAC/C,IAAK,IAAI/sF,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,GAAK,OACfw2D,IAAxB6L,EAAWriE,GAAGkgE,QACjBmC,EAAWriE,GAAGkgE,MAAQ6sB,EAAa1qB,EAAWriE,GAAGkgE,aAErB1J,IAAzB6L,EAAWriE,GAAGsiE,SACjBD,EAAWriE,GAAGsiE,OAASyqB,EAAa1qB,EAAWriE,GAAGsiE,SAGpD,OAAOD,CACR,EAYIspB,EAA+B,SAAU5kF,EAAQgmF,GAGpD,IAFA,IAAIC,EAAc,EAEThtF,EAAI,EAAGA,EAAI+G,EAAOkmF,eAAentF,OAAQE,GAAK,EAAG,CACzD,IAAIijE,EAAOl8D,EAAOkmF,eAAejtF,GAC7B+8E,EAAkB+P,EAAoBlhB,EAAAA,EAAK/9B,MAAMo1B,EAAKZ,YAAa0qB,IAEpD,IADF5e,EAAAA,EAAY8O,mBAAmBF,KAE/CiQ,GAAe/pB,EAAKM,OAGtB,CACA,OAAOypB,CACR,EAaIE,EAAgC,SAAU1T,GAE7C,KAAIA,EAAW15E,QAAU,GAAzB,CAIA,QAA8B02D,IAA1BgjB,EAAW,GAAG/lB,SAAyB+lB,EAAW,GAAG/lB,QAAQ3zD,OAAS,EAIzE,OAAOotF,EAA8B1T,EAAW,GAAG/lB,SASnD,IALA,IAAIiB,EAAW8kB,EAAW,GAItB2T,EAAwB,GACnBntF,EAAI,EAAGA,EAAI00D,EAASw0B,aAAappF,OAAQE,GAAK,EAElD00D,EAASw0B,aAAalpF,GAAGyrF,WAAa/2B,EAAS6O,QAClD4pB,EAAsB5lF,KAAKmtD,EAASw0B,aAAalpF,IAKnD,IACIgsF,EAAgBmB,EADGrE,EAAEr7E,OAAO,EAAG0/E,EAAsBrtF,OAAS,IAGlE,OAAOgsF,EAAmBp3B,EAAUs3B,EAzBrC,CA2BD,EA6IIoB,EAAmB,SAAU5T,GAIhC,IAHA,IACI6T,EACAC,EAFAC,EAAqB,GAGhBvtF,EAAI,EAAGA,EAAIw5E,EAAW15E,OAAQE,GAAK,OACbw2D,IAA1BgjB,EAAWx5E,GAAGyzD,aAGY+C,KAD7B62B,EAAuBD,EAAiB5T,EAAWx5E,GAAGyzD,YAGpD65B,OAD4B92B,IAAzB82B,EACoBD,EAGAC,EAAqBhvD,OAAO+uD,GAGpDA,EAAuB,IAKxBE,EAAmBhmF,KAAKiyE,EAAWx5E,IAUrC,YAN6Bw2D,IAAzB82B,EACYC,EAAmBjvD,OAAOgvD,GAG1BC,CAGjB,EAEIC,EAAuB,SAAUC,GAEpC,IADA,IAAIC,EAAkB7E,EAA2B4E,GACxCZ,EAAI,EAAGA,EAAIa,EAAgB5tF,OAAQ+sF,GAAK,EAAG,CACnD,IAAIc,EAAeC,EAA2BF,EAAgBb,IAC9Da,EAAgBb,GAAKf,EAAmB4B,EAAgBb,GAAIc,EAC7D,CACA,OAAOD,CACR,EAQIE,EAA6B,SAAUl5B,GAG1C,IADA,IAAIy4B,EAAwB,GACnBntF,EAAI,EAAGA,EAAI00D,EAASw0B,aAAappF,OAAQE,GAAK,EAElD00D,EAASw0B,aAAalpF,GAAGyrF,WAAa/2B,EAAS6O,QAClD4pB,EAAsB5lF,KAAKmtD,EAASw0B,aAAalpF,IAOnD,OADoBmtF,EADGrE,EAAEr7E,OAAO,EAAG0/E,EAAsBrtF,OAAS,GAGnE,EAGI+tF,EAAyB,CAC5Bpd,aAl9BkB,SAAU5pE,GAC5B,IAAIinF,EACAhjB,EACAijB,EAAsB,GAE1B,IACC,GAAoB,kBAATlnF,EACVinF,EAAiBjvB,KAAK+L,MAAM/jE,GAAO4sD,QACnCqX,EAAYjM,KAAK+L,MAAM/jE,GAAOikE,aACxB,IAAoB,kBAATjkE,EAKjB,MADAu9B,QAAQj6B,IAAI,oBAAqBtD,GAC3B,IAAIhE,MAAM,qDAAsDgE,GAJtEinF,EAAgBjnF,EAAK4sD,QACrBqX,EAAWjkE,EAAKikE,QAIjB,CACD,CAAE,MAAOx4D,GACR,MAAM,IAAIzP,MAAM,2BAA6ByP,EAC9C,CACA,QAAsBkkD,IAAlBs3B,EACH,MAAM,IAAIjrF,MAAM,iGAEjB,IAAK,IAAI7C,EAAI,EAAGA,EAAI8tF,EAAchuF,OAAQE,IAAK,CAC9C,IAAI+G,EAAS+mF,EAAc9tF,GAC3B+G,EAAO+jE,SAAWA,EAIlBK,EAAAA,EAASpkE,OAAOA,EAAQ,sBAAwB/G,GAE5CmoF,EAAoBphF,GACvBq9B,QAAQhY,MAAM,qBAAuBrlB,EAAOhF,KAAO,yBAGpD0xD,EAAQlsD,KAAKqkE,EAAAA,EAAK/9B,MAAM9mC,IACxBgnF,EAAoBxmF,KAAKR,GAC1B,CAEA,OADAshF,EAAwB0F,GACjBt6B,CACR,EA46BCu6B,cAvgCmB,WACnB,OAAOv6B,CACR,EAsgCCw6B,kBAvcuB,SAAUxyB,GACjC,IAAK,IAAIz7D,EAAI,EAAGA,EAAIyzD,EAAQ3zD,OAAQE,GAAK,EACxC,GAAIyzD,EAAQzzD,GAAG+B,OAAS05D,EACvB,OAAOmQ,EAAAA,EAAK/9B,MAAM4lB,EAAQzzD,GAI7B,EAkcC8rF,mBAAoBA,EACpBzD,wBAAyBA,EACzB6F,gBAlgCqB,WACrB,OAAOlG,CACR,EAigCCmG,gBAz/BqB,WACrB,OAAOlG,CACR,EAw/BCmG,mBAj/BwB,WACxB,OAAOlG,CACR,EAg/BCyB,kCAAmCA,EACnC0E,mBA3+BwB,WACxB56B,EAAU,GACVu0B,EAAe,GACfC,EAAe,GACfC,EAAkB,EACnB,EAu+BCU,+BAAgCA,EAChCJ,6BAA8BA,EAC9B0E,8BAA+BA,EAE/B7c,UAjNe,SAAUtd,EAAWE,EAAWm2B,EAAU1wB,EAAMiwB,GAO/D,IAAInP,EANJp1C,QAAQj6B,IAAI,yBAEeqsD,IAAvBmyB,IACHA,EAAqB,GAKtB,IADA,IAAI2F,EAAmBlF,EAASmF,SAASx7B,EAAWE,QAC9BuD,IAAfgjB,GAAkD,IAAtBA,EAAW15E,QAAc,CAC3D,IACI4oF,EADiBU,EAASV,WAAW31B,EAAWE,EAAWq7B,GAC/BE,SAC5BjrB,EAAS+qB,EAAiB/qB,OAI9B,GAHAiW,EAAagP,EAA6Bz1B,EAAWE,EAAWq7B,EAAkB5F,EAAYnlB,EAAQolB,EAAoBjwB,QAGjGlC,KAFzB83B,EAAmBlF,EAASqF,QAAQ17B,EAAWE,IAG9C,KAEF,CAEA,OADkBi6B,EAA8B1T,EAEjD,EA4LCjJ,WA5KgB,SAAUxd,EAAWE,EAAWm2B,EAAU1wB,EAAMg2B,EAAYC,EAAqBhG,QAEtEnyB,IAAvBmyB,IAAkCA,EAAqB,GAE3D,IACInP,EADAsQ,EAAa,GAEbwE,EAAmBlF,EAASmF,SAASx7B,EAAWE,GACpD,QAAyBuD,IAArB83B,EAAgC,CAGnC,MADgB,EAEjB,CAIA,IAHA,IAAIM,EAAqB,EACrBC,EAA2B,EAC3BC,GAAuB,EACpBF,EAAqBF,GAAY,CACvCI,GAAuB,EACvBD,EAA2B,EAC3B,IACInG,EADiBU,EAASV,WAAW31B,EAAWE,EAAWq7B,GAC/BE,SAC5BjrB,EAAS+qB,EAAiB/qB,OAC9BiW,EAAagP,EAA6Bz1B,EAAWE,EAAWq7B,EAAkB5F,EAAYnlB,EAAQolB,EAAoBjwB,GAE1H,IAAK,IAAI14D,EAAI,EAAGA,EAAIw5E,EAAW15E,SAC9BgqF,EAAWviF,KAAKqkE,EAAAA,EAAK/9B,MAAM2rC,EAAWx5E,MAET,IAAzB8uF,IACHF,GAAsB,EACtBE,GAAuB,IAIxBD,GAA4B,KACKF,GAVK3uF,GAAK,GAgB5C,QAAyBw2D,KADzB83B,EAAmBlF,EAASqF,QAAQ17B,EAAWE,IAE9C,KAEF,CAGA,IAAI87B,EAAe3B,EAAiBtD,GAGpC,OAFmB0D,EAAqBuB,EAGzC,GAkIAlB,EAAuB1D,8BAAgCA,EAGvD,4EC7gCA,QAtCA,SAA0B6E,GAAkD,IAADC,EAAA,IAAhD,WAAE3U,EAAU,sBAAEhlB,EAAqB,QAAE45B,GAASF,EACvE,OAAK1U,GAGHvlB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAsBtpC,QAASwjE,EAAQr7E,UACpDs7E,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,cAActpC,QAASpZ,GAAKA,EAAEqG,kBAAkB9E,SAAA,EAC7DkhD,EAAAA,EAAAA,KAAA,UACEC,UAAU,eACVtpC,QAASwjE,EAAQr7E,SAClB,UAGDkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,oBACJs7E,EAAAA,EAAAA,MAAA,KAAAt7E,SAAA,EAAGkhD,EAAAA,EAAAA,KAAA,UAAAlhD,SAAQ,YAAgB,IAAEymE,EAAWha,WACxC6uB,EAAAA,EAAAA,MAAA,KAAAt7E,SAAA,EAAGkhD,EAAAA,EAAAA,KAAA,UAAAlhD,SAAQ,WAAe,IAAEymE,EAAWjZ,UAEvCtM,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,0BACHyhD,IAAiE,QAA5C25B,EAAI35B,EAAsBglB,EAAWha,eAAO,IAAA2uB,OAAA,EAAxCA,EAA0C32D,KAAI,CAAC82D,EAAenoF,KACtFkoF,EAAAA,EAAAA,MAAA,OAAiBn6B,UAAU,qBAAoBnhD,SAAA,EAC7Cs7E,EAAAA,EAAAA,MAAA,KAAAt7E,SAAA,EAAGkhD,EAAAA,EAAAA,KAAA,UAAAlhD,SAAQ,iBAAqB,IAAEu7E,EAAcC,gBAChDF,EAAAA,EAAAA,MAAA,KAAAt7E,SAAA,EAAGkhD,EAAAA,EAAAA,KAAA,UAAAlhD,SAAQ,YAAgB,IAAEu7E,EAAc7rB,UAC1C6rB,EAAcvH,WAAW/nF,OAAS,IACjCqvF,EAAAA,EAAAA,MAAAG,EAAAA,SAAA,CAAAz7E,SAAA,EACEkhD,EAAAA,EAAAA,KAAA,KAAAlhD,UAAGkhD,EAAAA,EAAAA,KAAA,UAAAlhD,SAAQ,mBACXkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SACGu7E,EAAcvH,WAAWvvD,KAAI,CAAC26C,EAAWsc,KACxCx6B,EAAAA,EAAAA,KAAA,MAAAlhD,SAAkBo/D,GAATsc,YARTtoF,WAjBM,IAmC1B,EC8EA,QAjHA,SAAqB+nF,GAajB,IAADQ,EAAA,IAbmB,UACpBz8B,EAAS,UACTE,EAAS,iBACTE,EAAgB,iBAChBgC,EAAgB,QAChB1B,EAAO,UACPI,EAAS,aACTS,EAAY,gBACZc,EAAe,OACfruD,EAAM,sBACNuuD,EAAqB,WACrBnB,EAAU,wBACVqB,GACDw5B,EACC,MAAOS,EAAoBC,IAAyBt4D,EAAAA,EAAAA,UAAS,MAe7D,OACE+3D,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,gBAAenhD,SAAA,EAE5Bs7E,EAAAA,EAAAA,MAAA,MAAAt7E,SAAA,CAAKs/C,EAAiB,KAAY,OAATJ,QAAS,IAATA,OAAS,EAATA,EAAWhxD,KAAK,QAAe,OAATkxD,QAAS,IAATA,OAAS,EAATA,EAAWlxD,SAG7C,OAAZuyD,QAAY,IAAZA,GAAqC,QAAzBk7B,EAAZl7B,EAAcq7B,+BAAuB,IAAAH,OAAzB,EAAZA,EAAuC1vF,QAAS,IAC/CqvF,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,mBAAkBnhD,SAAA,EAC/BkhD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBnhD,SAC5BygD,EAAaq7B,wBAAwBr3D,KAAI,CAACs3D,EAAU3oF,EAAOsxB,KAC1D42D,EAAAA,EAAAA,MAAA,KAEEn6B,UAAW/tD,IAAUsxB,EAAMz4B,OAAS,EAAI,kBAAoB,GAAG+T,SAAA,EAE/Ds7E,EAAAA,EAAAA,MAAA,UAAAt7E,SAAA,CAAS+7E,EAASvvB,QAAQ,IAAEuvB,EAAStvB,OAAS,IAAIsvB,EAAStvB,UAAY,GAAG,OAAU,IAAEsvB,EAASxvB,OAH1Fn5D,QAQK,OAAfmuD,QAAe,IAAfA,OAAe,EAAfA,EAAiBy6B,uBAAwBz6B,EAAgBy6B,qBAAqB/vF,OAAS,IACtFqvF,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,gBAAenhD,SAAA,EAC5BkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,2BACJkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SACGuhD,EAAgBy6B,qBAAqBv3D,KAAI,CAACw3D,EAAQ7oF,KACjD8tD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAiBi8E,GAAR7oF,cASnBktD,GAAcV,EAAQ3zD,OAAS,IAC/BqvF,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,mBAAkBnhD,SAAA,EAC/BkhD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBnhD,UAClCkhD,EAAAA,EAAAA,KAAA,KAAAlhD,UAAGs7E,EAAAA,EAAAA,MAAA,UAAAt7E,SAAA,CAAQ,eAhDAk8E,MAAO,IAADC,EACzB,GAAiB,OAAZ17B,QAAY,IAAZA,GAAqC,QAAzB07B,EAAZ17B,EAAcq7B,+BAAuB,IAAAK,IAArCA,EAAuClwF,OAC1C,OAAOizD,EAAUhxD,KAGnB,OADoBuyD,EAAaq7B,wBAAwBr7B,EAAaq7B,wBAAwB7vF,OAAS,GAAGugE,UACnFtN,EAAUhxD,KAAOkxD,EAAUlxD,KAAOgxD,EAAUhxD,IAAI,EA2CvCguF,GAAe,sBAEzCh7B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBnhD,SACjC4/C,EAAQn7B,KAAI,CAACvxB,EAAQE,KACpBkoF,EAAAA,EAAAA,MAAA,OAAiBn6B,UAAU,sBAAqBnhD,SAAA,EAC9Cs7E,EAAAA,EAAAA,MAAA,UACEn6B,UAAU,gBACVtpC,QAASA,IAAMypC,EAAiBpuD,EAAOg5D,OACvCrsD,SAAUmgD,EAAUhgD,SAAA,EAEpBkhD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcnhD,SAAE9M,EAAOg5D,SACtCovB,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,iBAAgBnhD,SAAA,EAC7BkhD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAenhD,SAAE9M,EAAOu5D,UACxC6uB,EAAAA,EAAAA,MAAA,QAAMn6B,UAAU,eAAcnhD,SAAA,CAAC,UAAQ9M,EAAOs6D,gBAGlDtM,EAAAA,EAAAA,KAAA,UACEC,UAAU,cACVtpC,QAASA,IA1DA3kB,KACvB2oF,EAAsB3oF,EAAO,EAyDAkpF,CAAgBlpF,GAC/B2M,SAAUmgD,EAAUhgD,SACrB,QAhBO5M,UA0BjBktD,IACCY,EAAAA,EAAAA,KAAA,UACEC,UAAU,eACVtpC,QAAS8pC,EAAwB3hD,SAClC,6BAKHkhD,EAAAA,EAAAA,KAACm7B,EAAiB,CAChB5V,WAAYmV,EACZn6B,sBAAuBA,EACvB45B,QAASA,IAAMQ,EAAsB,UAI7C,WClHA,SAASld,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,8BCTf3f,EAAOL,QAAU,EAAjBK,kDC8BF,IAAIs9B,EAAgB,CAAC,EACjBC,EAAiB,CAAC,EAWlBC,EAAmB,SAAUlzE,EAAKmzE,EAAMC,GAG3C,IAAIC,EAAOL,EAAchzE,GACzB,QAAaq5C,IAATg6B,EAAJ,CAIA,QAAmBh6B,IAAfg6B,EAAKF,SAA0C95B,IAAnBg6B,EAAKF,GAAMC,GAU3C,OAHAH,EADwBjzE,EAAMmzE,EAAOC,GACD,EAG7BC,EAAKF,GAAMC,GAAI,GATrBnsD,QAAQj6B,IAAI,uCAAyCgT,EAAM,WAAamzE,EAAO,SAAWC,EAAK,KAFhG,MAFCnsD,QAAQj6B,IAAI,4CAA8CgT,EAAM,KAelE,EAaIszE,EAAkB,SAAUtzE,EAAKmzE,EAAMC,GAE1C,IAAIG,EAAoBvzE,EAAMmzE,EAAOC,EACjCC,EAAOL,EAAchzE,GACrBy2D,EAAMwc,EAAeM,GAGzB,YAAYl6B,IAARod,EACIyc,EAAiBlzE,EAAKmzE,EAAMC,QAIJ/5B,IAA5Bg6B,EAAKF,GAAMC,GAAI3c,EAAM,IAKzBwc,EAAeM,IAAsB,EACrC9c,EAAMwc,EAAeM,GACdF,EAAKF,GAAMC,GAAI3c,SAPtB,CASD,EAcI8U,EAAa,SAAUvrE,EAAK41C,EAAWE,EAAWggB,GASrD,IARA,IAGI0d,EAAe,CACnBA,UAJsB,EAKtBA,WAA0B,IAEtBC,EAAQP,EAAiBlzE,EAAK81C,EAAWF,QAC5ByD,IAAVo6B,GAAqB,CAC3B,GAAIA,EAAa,QAAM3d,EAAiB,OACvC2d,EAAY,OAAM3d,EAAgB,MAClC2d,EAAuB,kBAAM3d,EAA2B,gBAExD,OADA0d,EAAaptB,OAASqtB,EAAMrtB,OACxBqtB,EAAMrtB,OAZiB,GAa1BotB,EAAaE,WAAWtpF,KAAKqpF,GAC7BD,EAAanC,UAAW,EACjBmC,IAGPA,EAAaE,WAAWtpF,KAAKqpF,GAC7BD,EAAanC,UAAW,EACjBmC,GAGTC,EAAQH,EAAgBtzE,EAAK81C,EAAWF,EACzC,CAEA,OAAO49B,CACR,EAuHIG,EAAoB,CACvBC,OAzCY,SAAUr4B,GAEtB,IADA,IAAIs4B,EAAgB,CAAC,EACZhxF,EAAI,EAAGA,EAAI04D,EAAK54D,OAAQE,IAAK,CACrCgxF,EAAct4B,EAAK14D,IAAM,CAAC,EAC1B,IAAK,IAAI0rE,EAAI,EAAGA,EAAIhT,EAAK54D,OAAQ4rE,IAKhCslB,EAAct4B,EAAK14D,IAAI04D,EAAKgT,IAAM,EAEpC,CACA,OAAOslB,CACR,EA6BCC,SA/Gc,SAAU9zE,EAAK+zE,GAc7B,IARA,IAAIC,EAAQ,SAAUrtB,GACrB,OAAQ,EAAIA,EAAIP,MACjB,EAII7K,EAAOowB,EAAEjmE,KAAKquE,GACdE,EAAa14B,EAAK54D,OACbogE,EAAQ,EAAGA,EAAQkxB,EAAYlxB,IACvC,IAAK,IAAIoC,EAAS,EAAGA,EAAS8uB,EAAY9uB,IAMzC4uB,EAAUx4B,EAAKwH,IAAQxH,EAAK4J,IAAWwmB,EAAEC,OAAOmI,EAAUx4B,EAAKwH,IAAQxH,EAAK4J,IAAU6uB,GASxF,OAJAhB,EAAchzE,GAAO+zE,EAId,CACN3C,SAAU,SAAUruB,EAAOoC,GAC1B,OAAO+tB,EAAiBlzE,EAAK+iD,EAAOoC,EACrC,EACAmsB,QAAS,SAAUvuB,EAAOoC,GACzB,OAAOmuB,EAAgBtzE,EAAK+iD,EAAOoC,EACpC,EACA+uB,UAAW,SAAUnxB,EAAOoC,EAAQ2Q,GAGnC,IAFA,IAAIqe,EAAiBnB,EAAchzE,GAAK+iD,GAAOoC,GAC3CivB,GAAqB,EAChBvxF,EAAI,EAAGA,EAAIsxF,EAAexxF,OAAQE,GAAK,EAAG,CAClD,IAAK,IAAImd,KAAO81D,EACf,GAAIA,EAAU91D,KAASm0E,EAAen0E,GAAM,CAC3Co0E,GAAqB,EACrB,KACD,CAED,IAA2B,IAAvBA,EACH,OAAOD,EAAetxF,GAAGujE,MAE3B,CACA,OAAO,CACR,EACAiuB,KAAM,WACL,OAAOrB,EAAchzE,EACtB,EACAurE,WAAY,SAAU31B,EAAWE,EAAWggB,GAC3C,OAAOyV,EAAWvrE,EAAK41C,EAAWE,EAAWggB,EAC9C,EAEF,EAuDA6d,sBAvB4B,SAAU3zE,GACrC,OAAOgzE,EAAchzE,EACtB,EAsBA2zE,2BAXiC,SAAU3zE,EAAKmzE,EAAMC,GACrD,OAAOJ,EAAchzE,GAAKmzE,GAAMC,EACjC,GAUAO,EAAkBpI,WAAaA,EAG/B,wVC1QA,MAAM+I,GAAuB,EACvBC,GAAgC,EACtC,IAAI/B,EAA0B,GAC1BgC,EAAyB,CAAC,EAE1BC,EAAiB,iCAEjB1yB,EAAgB,GAChBC,EAAgB,GAEhB0yB,EAAiB,SAASrZ,EAAczlB,EAAWE,GAEnDiM,EAAgBnM,EAChBoM,EAAgBlM,EAGhB08B,EAA0B,GAE1Bh3B,EAAAA,EAAI2G,gBAAgBoZ,mBAAmBF,GAEvCp0C,QAAQj6B,IAAI,uBAAyBquE,EAAe,aAAetZ,EAAgB,QAAUC,GAE7F,IAAI2Y,EAAkBnf,EAAAA,EAAI2G,gBAAgBK,qBAC1ChH,EAAAA,EAAI2G,gBAAgBukB,YAAY/L,EAAgBga,WAAY5yB,EAAeC,GAC3ExG,EAAAA,EAAI2G,gBAAgBmlB,iBAAgB,EACxC,EAKIlU,EAAa,WACb5X,EAAAA,EAAI2G,gBAAgBmlB,iBAAgB,GAEpC,IAAIhlB,EAAiB9G,EAAAA,EAAI2G,gBAAgBia,aAAa5gB,EAAAA,EAAI6J,gBAAiB7J,EAAAA,EAAI2G,gBAAgB4Z,sBAE3FwO,EAAgB/uB,EAAAA,EAAI2G,gBAAgBqf,kBACpCoT,EAAcp5B,EAAAA,EAAI2G,gBAAgBymB,uBAElCzwB,EAAwBqD,EAAAA,EAAI2G,gBAAgBmoB,2BAEhDkK,EAAyB,CACrBzyB,cAAeA,EACfC,cAAeA,EACf+D,IAAKwkB,EACLj0B,QAASs+B,EACTtyB,eAAgBA,EAChBnK,sBAAuBA,EAE/B,EAII08B,EAAgBh5C,eAAejyC,GAE/Bq9B,QAAQj6B,IAAI,qBAAuBpD,EAAS,UAAYm4D,EAAgB,OAASC,GAGjF,IAAI9J,EAAesD,EAAAA,EAAI2G,gBAAgBwmB,gBAAgB/+E,GAGnDuzE,EAAaqX,EAAuBl+B,QAAQsN,MAAK/qD,GAAKA,EAAE+pD,QAAUh5D,IACtEsuD,EAAagM,MAAQiZ,EAAWjZ,MAMhCswB,EAAuBlyB,eAAiBpK,EAGxCsD,EAAAA,EAAI2G,gBAAgBukB,YAAYlrB,EAAAA,EAAI2G,gBAAgBwZ,kBAAmB5Z,EAAeC,GAEtFxG,EAAAA,EAAI2G,gBAAgBimB,4BAA4BlwB,EAAcsD,EAAAA,EAAI6J,iBAElE7J,EAAAA,EAAI2G,gBAAgBkmB,eAEpB,IAAIyM,EAAyB,GAC7B,IAAK,IAAInC,KAAUz6B,EAAaqG,QAAS,CACrC,IAAIkJ,EAAMkrB,EAAOluF,UACI40D,IAAjBs5B,EAAOtrF,QACPogE,GAAO,IACHkrB,EAAOtrF,MAAQ,QAA0BgyD,IAApBs5B,EAAOrc,UAA8C,MAApBqc,EAAOrc,SAC7D7O,GAAO,IAEPA,GAAO,IAEXA,GAAOkrB,EAAOtrF,OAGlBytF,EAAuB1qF,KAAKq9D,EAChC,CACA,IAAIirB,EAAuB,GACvBrwB,EAAWmyB,EAAuBlyB,eAAeC,mBACrD,GAAIiyB,EAAuBlyB,eAAe/D,QAAQ57D,OAAS,EAAG,CAC1D,IAAIygE,EAAa5H,EAAAA,EAAI2G,gBAAgBkB,0BAA0BmxB,EAAuBlyB,eAAe/D,QAAS8D,GAC9G,IAAK,IAAImC,KAAcpB,EACnBsvB,EAAqBtoF,KAAKoxD,EAAAA,EAAIgI,aAAagB,GAGnD,CAEA,IAAI+B,EAAW,eACXvG,EAAS,UACTs0B,GACAt0B,EAASsR,EAAAA,GAAmBA,EAAAA,IAE5B/K,QAAiB+K,EAAAA,EAAqBtR,GACtCuG,EAAWA,EAASz+D,QAAQ,KAAM,KAElCy+D,EAAW/K,EAAAA,EAAI2G,gBAAgB2lB,yBAInC,IAAIxwB,EAAsB,CACtB1B,UAAWmM,EACXjM,UAAWkM,EACX+lB,YAAaxhB,EACbrO,aAAcA,EACd8H,OAAQA,EACR80B,uBAAwBA,EACxBpC,qBAAsBA,GAI1BF,EAAwBpoF,KAAK,CACzB84D,QAASnB,EACTkB,KAAMsD,EACNpD,OAAQjL,EAAaiL,OACrB7E,WAAYpG,EAAa0K,MACzB5C,OAAQA,EACR+F,IAAKyuB,EAAuBzuB,IAAI7N,EAAaiL,QAAQ6C,YAKzDxK,EAAAA,EAAI2G,gBAAgBsmB,qCAGpB,IAAIjxB,EAAMuK,EAKV,OAJAA,EAAgBC,EAChBA,EAAgBxK,EAChBgE,EAAAA,EAAI2G,gBAAgBukB,YAAYlrB,EAAAA,EAAI2G,gBAAgBwZ,kBAAmB5Z,EAAeC,GAE/E1K,CACX,EAIIN,EAAanb,iBACb,IAAI0b,EAAWiE,EAAAA,EAAI2G,gBAAgBumB,kBAEnC,GAAInxB,EACA,GAAIg9B,EACA/4B,EAAAA,EAAI2G,gBAAgBikB,yBAAyB9U,EAAAA,UAC1C,CACH,IAAIyjB,EAAS,CACTn/B,UAAWmM,EACXjM,UAAWkM,EACXc,QAAS,GAAGf,SAAqBC,8DAA0ExG,EAAAA,EAAI2G,gBAAgBK,qBAAqBI,SACpJ2D,SAAUC,gBAAgBgsB,GAC1B76B,SAAU6D,EAAAA,EAAI2G,gBAAgBK,qBAAqBI,MACnDn/C,KAAM+3C,EAAAA,EAAIiL,KAAKC,qBAAuBvP,aAAaq7B,wBAAwB7vF,QAE/E64D,EAAAA,EAAI2G,gBAAgBikB,mBAAmB2O,EAC3C,CAGJ,OAAOx9B,CACX,EAGIy9B,EAAgBA,KAChBx5B,EAAAA,EAAIzqC,OAEJyqC,EAAAA,EAAI8R,oBAAoB9R,EAAAA,EAAIkI,WAC5B,IAAInI,EAAOC,EAAAA,EAAIgU,cAAchU,EAAAA,EAAIjD,SACjCiD,EAAAA,EAAI2G,gBAAgBykB,QAAQrrB,GAC5BC,EAAAA,EAAI2G,gBAAgBgkB,yBACpB,IAAK,IAAIxuB,KAAY6D,EAAAA,EAAIhD,aAAay8B,gBAClCz5B,EAAAA,EAAI2G,gBAAgB0kB,YAAYlvB,GAEpC,IAAK,IAAIu9B,KAAc15B,EAAAA,EAAIuQ,SAASopB,cAChC35B,EAAAA,EAAIgY,SAAS0hB,GAEjB15B,EAAAA,EAAI+X,WAAW/M,gBAAgBhL,EAAAA,EAAIsQ,aAEnC7kC,QAAQj6B,IAAIynF,EAAiB,yBAG7B,IAAK,IAAIW,KAAiB9jB,EAAAA,GACtBA,EAAAA,GAAiB8jB,GAAe71B,QAAU+R,EAAAA,GAAiBA,EAAAA,IAAiB8jB,GAC5E9jB,EAAAA,GAAiB8jB,GAAez1B,OAAS2R,EAAAA,GAAiB8jB,GAAez1B,SAAW2R,EAAAA,GAAiBA,EAAAA,IAAmC,kBAAKA,EAAAA,GAAiBA,EAAAA,IAAwB,MAC1L,iCCtMJ,SAAS+D,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,8BCDjB,IAAIhzE,EAAQD,EAAQ,IACpB,SAASG,EAAuBC,GAC9B,IAAIC,EAAM,4BAA8BD,EACxC,GAAI,EAAIE,UAAUC,OAAQ,CACxBF,GAAO,WAAaG,mBAAmBF,UAAU,IACjD,IAAK,IAAIG,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IACpCJ,GAAO,WAAaG,mBAAmBF,UAAUG,GACrD,CACA,MACE,yBACAL,EACA,WACAC,EACA,gHAEJ,CACA,SAAS4/C,IAAQ,CACjB,IAAIgzC,EAAY,CACZ3nC,EAAG,CACDC,EAAGtL,EACHyL,EAAG,WACD,MAAMpoD,MAAMnD,EAAuB,KACrC,EACAyrD,EAAG3L,EACH6L,EAAG7L,EACH8L,EAAG9L,EACHsM,EAAGtM,EACHuM,EAAGvM,EACHvrB,EAAGurB,EACH4M,EAAG5M,GAELpyC,EAAG,EACHkkD,YAAa,MAEf9wD,EAAoBH,OAAOC,IAAI,gBAYjC,IAAIkC,EACFhD,EAAMiD,gEACR,SAASgwF,EAAuBlnC,EAAImnC,GAClC,MAAI,SAAWnnC,EAAW,GACtB,kBAAoBmnC,EACf,oBAAsBA,EAAQA,EAAQ,QAD/C,CAEF,CACAlgC,EAAQ9rD,6DACN8rF,EACFhgC,EAAQmgC,aAAe,SAAU9+E,EAAUqzC,GACzC,IAAI/pC,EACF,EAAItd,UAAUC,aAAU,IAAWD,UAAU,GAAKA,UAAU,GAAK,KACnE,IACGqnD,GACA,IAAMA,EAAU/mD,UACf,IAAM+mD,EAAU/mD,UAChB,KAAO+mD,EAAU/mD,SAEnB,MAAM0C,MAAMnD,EAAuB,MACrC,OA9BF,SAAwBmU,EAAU8P,EAAekM,GAC/C,IAAI1S,EACF,EAAItd,UAAUC,aAAU,IAAWD,UAAU,GAAKA,UAAU,GAAK,KACnE,MAAO,CACLgC,SAAUrB,EACV2c,IAAK,MAAQA,EAAM,KAAO,GAAKA,EAC/BtJ,SAAUA,EACV8P,cAAeA,EACfkM,eAAgBA,EAEpB,CAoBS+iE,CAAe/+E,EAAUqzC,EAAW,KAAM/pC,EACnD,EACAq1C,EAAQqgC,UAAY,SAAUzvF,GAC5B,IAAI0vF,EAAqBtwF,EAAqBo5B,EAC5Cm3D,EAAyBP,EAAUplF,EACrC,IACE,GAAM5K,EAAqBo5B,EAAI,KAAQ42D,EAAUplF,EAAI,EAAIhK,EAAK,OAAOA,GACvE,CAAE,QACCZ,EAAqBo5B,EAAIk3D,EACvBN,EAAUplF,EAAI2lF,EACfP,EAAU3nC,EAAEC,GAChB,CACF,EACA0H,EAAQwgC,WAAa,SAAUjvE,EAAMxQ,GACnC,kBAAoBwQ,IACjBxQ,EAEIA,EACC,kBAFAA,EAAUA,EAAQq4B,aAGd,oBAAsBr4B,EACpBA,EACA,QACF,EACLA,EAAU,KACfi/E,EAAU3nC,EAAEQ,EAAEtnC,EAAMxQ,GACxB,EACAi/C,EAAQygC,YAAc,SAAUlvE,GAC9B,kBAAoBA,GAAQyuE,EAAU3nC,EAAEM,EAAEpnC,EAC5C,EACAyuC,EAAQ0gC,QAAU,SAAUnvE,EAAMxQ,GAChC,GAAI,kBAAoBwQ,GAAQxQ,GAAW,kBAAoBA,EAAQg4C,GAAI,CACzE,IAAIA,EAAKh4C,EAAQg4C,GACf3f,EAAc6mD,EAAuBlnC,EAAIh4C,EAAQq4B,aACjD6gB,EACE,kBAAoBl5C,EAAQk5C,UAAYl5C,EAAQk5C,eAAY,EAC9D0mC,EACE,kBAAoB5/E,EAAQ4/E,cACxB5/E,EAAQ4/E,mBACR,EACR,UAAY5nC,EACRinC,EAAU3nC,EAAE52B,EACVlQ,EACA,kBAAoBxQ,EAAQslC,WAAatlC,EAAQslC,gBAAa,EAC9D,CACEjN,YAAaA,EACb6gB,UAAWA,EACX0mC,cAAeA,IAGnB,WAAa5nC,GACbinC,EAAU3nC,EAAEkB,EAAEhoC,EAAM,CAClB6nB,YAAaA,EACb6gB,UAAWA,EACX0mC,cAAeA,EACfC,MAAO,kBAAoB7/E,EAAQ6/E,MAAQ7/E,EAAQ6/E,WAAQ,GAEnE,CACF,EACA5gC,EAAQ6gC,cAAgB,SAAUtvE,EAAMxQ,GACtC,GAAI,kBAAoBwQ,EACtB,GAAI,kBAAoBxQ,GAAW,OAASA,GAC1C,GAAI,MAAQA,EAAQg4C,IAAM,WAAah4C,EAAQg4C,GAAI,CACjD,IAAI3f,EAAc6mD,EAChBl/E,EAAQg4C,GACRh4C,EAAQq4B,aAEV4mD,EAAU3nC,EAAEuB,EAAEroC,EAAM,CAClB6nB,YAAaA,EACb6gB,UACE,kBAAoBl5C,EAAQk5C,UAAYl5C,EAAQk5C,eAAY,EAC9D2mC,MAAO,kBAAoB7/E,EAAQ6/E,MAAQ7/E,EAAQ6/E,WAAQ,GAE/D,OACK,MAAQ7/E,GAAWi/E,EAAU3nC,EAAEuB,EAAEroC,EAC5C,EACAyuC,EAAQ5a,QAAU,SAAU7zB,EAAMxQ,GAChC,GACE,kBAAoBwQ,GACpB,kBAAoBxQ,GACpB,OAASA,GACT,kBAAoBA,EAAQg4C,GAC5B,CACA,IAAIA,EAAKh4C,EAAQg4C,GACf3f,EAAc6mD,EAAuBlnC,EAAIh4C,EAAQq4B,aACnD4mD,EAAU3nC,EAAES,EAAEvnC,EAAMwnC,EAAI,CACtB3f,YAAaA,EACb6gB,UACE,kBAAoBl5C,EAAQk5C,UAAYl5C,EAAQk5C,eAAY,EAC9D2mC,MAAO,kBAAoB7/E,EAAQ6/E,MAAQ7/E,EAAQ6/E,WAAQ,EAC3DxxF,KAAM,kBAAoB2R,EAAQ3R,KAAO2R,EAAQ3R,UAAO,EACxDuxF,cACE,kBAAoB5/E,EAAQ4/E,cACxB5/E,EAAQ4/E,mBACR,EACNxmC,eACE,kBAAoBp5C,EAAQo5C,eACxBp5C,EAAQo5C,oBACR,EACNjB,YACE,kBAAoBn4C,EAAQm4C,YAAcn4C,EAAQm4C,iBAAc,EAClEC,WACE,kBAAoBp4C,EAAQo4C,WAAap4C,EAAQo4C,gBAAa,EAChEhV,MAAO,kBAAoBpjC,EAAQojC,MAAQpjC,EAAQojC,WAAQ,GAE/D,CACF,EACA6b,EAAQ8gC,cAAgB,SAAUvvE,EAAMxQ,GACtC,GAAI,kBAAoBwQ,EACtB,GAAIxQ,EAAS,CACX,IAAIq4B,EAAc6mD,EAAuBl/E,EAAQg4C,GAAIh4C,EAAQq4B,aAC7D4mD,EAAU3nC,EAAEiB,EAAE/nC,EAAM,CAClBwnC,GACE,kBAAoBh4C,EAAQg4C,IAAM,WAAah4C,EAAQg4C,GACnDh4C,EAAQg4C,QACR,EACN3f,YAAaA,EACb6gB,UACE,kBAAoBl5C,EAAQk5C,UAAYl5C,EAAQk5C,eAAY,GAElE,MAAO+lC,EAAU3nC,EAAEiB,EAAE/nC,EACzB,EACAyuC,EAAQ+gC,iBAAmB,SAAUp9E,GACnCq8E,EAAU3nC,EAAEI,EAAE90C,EAChB,EACAq8C,EAAQghC,wBAA0B,SAAUpwF,EAAI4S,GAC9C,OAAO5S,EAAG4S,EACZ,EACAw8C,EAAQxwB,aAAe,SAAUj7B,EAAQi0B,EAAcw8C,GACrD,OAAOh1E,EAAqB0zB,EAAE8L,aAAaj7B,EAAQi0B,EAAcw8C,EACnE,EACAhlB,EAAQihC,cAAgB,WACtB,OAAOjxF,EAAqB0zB,EAAEgK,yBAChC,EACAsyB,EAAQnB,QAAU,kBCjNlB,SAASmhB,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,oCCiBF,aC7Bf,SAASA,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,qiUCDjB,IAAIjyE,EAAqBF,OAAOC,IAAI,8BAClCG,EAAsBJ,OAAOC,IAAI,kBACnC,SAASozF,EAAQ9xF,EAAMq9D,EAAQ00B,GAC7B,IAAIx2E,EAAM,KAGV,QAFA,IAAWw2E,IAAax2E,EAAM,GAAKw2E,QACnC,IAAW10B,EAAO9hD,MAAQA,EAAM,GAAK8hD,EAAO9hD,KACxC,QAAS8hD,EAEX,IAAK,IAAI/mD,KADTy7E,EAAW,CAAC,EACS10B,EACnB,QAAU/mD,IAAay7E,EAASz7E,GAAY+mD,EAAO/mD,SAChDy7E,EAAW10B,EAElB,OADAA,EAAS00B,EAAShmE,IACX,CACL9rB,SAAUtB,EACVqB,KAAMA,EACNub,IAAKA,EACLwQ,SAAK,IAAWsxC,EAASA,EAAS,KAClClpD,MAAO49E,EAEX,CACAnhC,EAAQikB,SAAWh2E,EACnB+xD,EAAQohC,IAAMF,EACdlhC,EAAQqhC,KAAOH,2IC3BFj0F,EAAAA,WAAoBmQ,SAASkkF,eAAe,SACpD5xF,QACH6yD,EAAAA,EAAAA,KAACv1D,EAAAA,WAAgB,CAAAqU,UACfkhD,EAAAA,EAAAA,KAACqF,EAAAA,EAAG,8ECkOJ25B,EACAC,WAxOApwB,EAAO,GACPqwB,GAAmB,EACnBC,EAAgB,CAAC,EACjBC,EAAY,CAAC,EACbC,EAAY,CAAC,EACbC,EAAa,CAAC,EACdC,EAAa,CAAC,EAEdC,EAAY,CAAC,EACbC,EAAqB,GACrBC,EAAuB,GAkCvB5wB,EAAqB,WACxB,OAAOowB,CACR,EAoCIS,EAAwB,SAAUzhB,GAIrC,YAHkBzc,IAAdyc,QAA+Czc,IAApByc,EAAUjS,OACxC58B,QAAQj6B,IAAI,sCAAuC8oE,GAE7CkhB,EAAUlhB,EAAUjS,MAC5B,EAQI2zB,EAAwB,SAAU1hB,GACrC,OAAOmhB,EAAUnhB,EAAUjS,MAC5B,EAQI4zB,EAAwB,SAAU3hB,GACrC,OAAOshB,EAAUthB,EAAUjS,MAC5B,EAQIoP,EAAyB,SAAU6C,GACtC,OAAOohB,EAAWphB,EAAUjS,MAC7B,EAkBI6zB,EAAyB,SAAU5hB,GACtC,OAAOqhB,EAAWrhB,EAAUjS,MAC7B,EAUI0O,EAAoB,SAAUolB,IACR,IAArBb,IACHA,GAAmB,QAGHz9B,IAAbs+B,IACHA,EAAWb,EAAkB,QAKAz9B,IAA1BoN,EAAKqwB,KACRrwB,EAAKqwB,GAAmB,IAGzB,IAAK,IAAIj0F,EAAIi0F,EAAkB,EAAGj0F,GAAK80F,EAAU90F,GAAK,EAAG,CAIxD,GADA4jE,EAAK5jE,GAAK,QACUw2D,IAAhBoN,EAAK5jE,EAAI,GACZ,IAAK,IAAI6sF,EAAI,EAAGA,EAAIjpB,EAAK5jE,EAAI,GAAGF,OAAQ+sF,GAAK,EACE,IAA1C+H,EAAsBhxB,EAAK5jE,EAAI,GAAG6sF,KAIrCjpB,EAAK5jE,GAAGuH,KAAKqkE,EAAAA,EAAK/9B,MAAM+1B,EAAK5jE,EAAI,GAAG6sF,KASvC,IAAK,IAAInhB,EAAI,EAAGA,EAAI9H,EAAK5jE,GAAGF,OAAQ4rE,IAC/BmpB,EAAuBjxB,EAAK5jE,GAAG0rE,UACNlV,IAAxBoN,EAAK5jE,GAAG0rE,GAAGtB,WACdxG,EAAK5jE,GAAG0rE,GAAGtB,UAAY,EACnBxG,EAAK5jE,GAAG0rE,GAAGtB,UAAY,WACnBxG,EAAK5jE,GAAG0rE,GAAGtB,UAEO,IAArBxG,EAAK5jE,GAAG0rE,GAAGlnE,QACdo/D,EAAK5jE,GAAG0rE,GAAGlnE,OAAQ,EACnBo/D,EAAK5jE,GAAG0rE,GAAGqpB,aAAeD,IAMhC,CAIA,GAAIA,EAAWb,EACdA,EAAkBa,OAGd,GAAIA,EAAWb,EAAiB,CACpC,IAASj0F,EAAIi0F,EAAiBj0F,EAAI80F,EAAU90F,GAAK,EAChD4jE,EAAK5jE,GAAK,GAEXi0F,EAAkBa,CACnB,CACA,OAAOb,CACR,EAGIe,EAAkB,SAAUC,EAAWC,EAAazhB,GACvD,OAA2B,mBAAhByhB,GAA6BD,IAAcC,MAGhC,MAAbzhB,GAAoBwhB,IAAcC,OAGrB,MAAbzhB,GAAoBwhB,GAAaC,MAGpB,MAAbzhB,GAAoBwhB,GAAaC,IAK3C,EAMIC,EAAY,SAAUC,EAAc5wF,EAAO6wF,GAE9C,IAAIC,EAEAD,EAEHC,EAAcF,GAGdE,EAAc1pB,EAAAA,EAAK/9B,MAAMunD,QACX5+B,IAAVhyD,IACH8wF,EAAY9wF,MAAQA,IAKtB,IAAI+wF,EAAOC,EAAcF,GACpBtB,EAAsBuB,IAC1BxB,EAAexsF,KAAK+tF,GAErBtB,EAAsBuB,IAAQ,CAE/B,EAGIE,EAAuB,SAAUnmB,EAAiBnoE,EAAc+tF,EAAaQ,GAEhF,QAA8Bl/B,IAA1B8Y,EAAgB9qE,MAAqB,CACxC,IAAIivE,OAAyCjd,IAA7B8Y,EAAgBmE,SAA0B,IAAMnE,EAAgBmE,SAC/DuhB,EAAgB7tF,EAAc+tF,EAAazhB,IAE3D0hB,EAAU7lB,EAAiBnoE,GAAc,EAE3C,MAGK,QAA8BqvD,IAA1B8Y,EAAgB9qE,OAAwBkxF,QAAkCl/B,IAAjBrvD,GAQ7D,QAA8BqvD,IAA1B8Y,EAAgB9qE,OAAuBkxF,QAAkCl/B,IAAjBrvD,EAA4B,CAC5F,IAAIssE,OAAyCjd,IAA7B8Y,EAAgBmE,SAA0B,IAAMnE,EAAgBmE,SAEhF,GADiBuhB,EAAgB7tF,EAAc+tF,EAAazhB,GACxC,CACnB,IAAIkiB,EAAe/pB,EAAAA,EAAK/9B,MAAMyhC,GAC9B6lB,EAAUQ,EAAcxuF,GAAc,EACvC,CACD,MAf8F,CAC7F,IAAIyuF,EAAWhqB,EAAAA,EAAK/9B,MAAMyhC,GAC1BsmB,EAASpxF,MAAQ2C,EACjBy8D,EAAKqwB,GAAiB1sF,KAAKquF,GAC3BT,EAAUS,EAAUzuF,GAAc,EACnC,CAWD,EAcIoK,EAAM,SAAU+9D,EAAiBC,EAAgBC,EAAgBqmB,GAEpE,IAAIX,EAAc5lB,EAAgB9qE,MAC9B2C,EAAe+sF,EAAc5kB,EAAgBtO,OAC7C00B,EAAgBb,EAAuBvlB,GACvCwmB,GAAoB,EACxBD,EAA6C,qBAApBA,GAAkCA,EAQ3D9B,EAAiB,GACjBC,EAAwB,CAAC,OAGLx9B,IAAhB0+B,GAA6BW,GAC5BH,IAEHR,GAAc,GAOXQ,QACgBl/B,IAAhB0+B,QAA0D1+B,IAA7B8Y,EAAgBmE,WAChDnE,EAAgBmE,SAAW,KAK7BlE,EAAiB0kB,EAAkB1kB,EAMnC,IAHA,IAAIwmB,GAAwB,EAGnB/1F,EALTwvE,EAAiBykB,EAAkBzkB,EAKNxvE,GAAKuvE,EAAgBvvE,GAAK,EACtD,QAAgBw2D,IAAZoN,EAAK5jE,GAAkB,CAE1B+1F,GAAwB,EAExB,IAAK,IAAIrqB,EAAI,EAAGA,EAAI9H,EAAK5jE,GAAGF,OAAQ4rE,GAAK,EAAG,CAC3C,IAAIsqB,EAAgBpyB,EAAK5jE,GAAG0rE,GAI5B,QAA8BlV,IAA1B8Y,EAAgBtO,OAAuBsO,EAAgBtO,QAAUg1B,EAAch1B,MAGnF,QAA6BxK,IAAzB8Y,EAAgB1tE,MAAsB0tE,EAAgB1tE,OAASo0F,EAAcp0F,KAGjF,QAA8B40D,IAA1B8Y,EAAgBpP,OAAuBoP,EAAgBpP,QAAU81B,EAAc91B,MAGnF,QAA+B1J,IAA3B8Y,EAAgBhN,QAAwBgN,EAAgBhN,SAAW0zB,EAAc1zB,OAKrFwzB,GAAoB,EAGCd,EAAgBgB,EAAcxxF,MAAO0wF,EAAa5lB,EAAgBmE,WAGtF0hB,EAAUa,EAAed,GAAa,EAExC,CAGKY,GACJL,EAAqBnmB,EAAiBnoE,EAAc+tF,EAAaQ,GAElEI,GAAoB,CAErB,CASD,OAJKC,GACJN,EAAqBnmB,EAAiBnoE,EAAc+tF,EAAaQ,GAG3D3B,CACR,EAuCIyB,EAAgB,SAAU1xB,GAI7B,IAHA,IAAIyxB,EAAO,GAEPU,EAAatzF,OAAOkgB,KAAKihD,GAAK1C,OACzBphE,EAAI,EAAGA,EAAIi2F,EAAWn2F,OAAQE,IACtCu1F,EAAKv1F,GAAK8jE,EAAImyB,EAAWj2F,IAE1B,OAAOu1F,EAAKxnE,KAAK,GAClB,EA4BIlqB,EAAM,SAAUqyF,GACnB,IAAIC,EAAU,CAAC,EACfA,EAAQn1B,MAAQk1B,EAAal1B,MAC7Bm1B,EAAQv0F,KAAOs0F,EAAat0F,KAC5Bu0F,EAAQj2B,MAAQg2B,EAAah2B,MAC7Bi2B,EAAQ7zB,OAAS4zB,EAAa5zB,OAE9B,IAwBI0zB,EAxBAxxF,EAAQ0xF,EAAa1xF,MACrBivE,EAAWyiB,EAAaziB,SAExBiiB,EAAgBb,EAAuBqB,GACvCE,EAAwD,eAAzChmB,EAAuB8lB,GACtC/uF,EAAe+sF,EAAciC,EAAQn1B,OACrCoJ,EAAWwqB,EAAsBsB,GACjCnyB,EAAM2wB,EAAsBwB,GAC5BxxE,EAAMiwE,EAAsBuB,GAE5BpB,EAAWjxB,KACG,IAAdixB,IACHplB,EAAkB,GAClBolB,EAAW,GAKRY,QAA2Bl/B,IAAVhyD,IAEpBA,GAAQ,GAKT,IAAI6xF,EAAe9kF,EAAI4kF,EAAS,EAAG,GAAG,GACtC,GAA4B,IAAxBE,EAAav2F,QAChBk2F,EAAgBG,GACF3xF,MAAQ2C,EACtBy8D,EAAKkxB,GAAUvtF,KAAKyuF,OACd,IAA4B,IAAxBK,EAAav2F,OAIvB,MADAskC,QAAQj6B,IAAI,kBAAmB+rF,GACzB,IAAIrzF,MAAM,mIAHhBmzF,EAAgBK,EAAa,EAI9B,CA8BA,GA5BAL,EAAcjB,aAAeD,EAC7BkB,EAAc5rB,SAAWA,OAER5T,IAAbid,GAAuC,MAAbA,EAE7BuiB,EAAcxxF,MAAQA,EAGL,MAAbivE,EACHuiB,EAAcxxF,OAASA,EACA,MAAbivE,IACVuiB,EAAcxxF,OAASA,GAKpBkxF,IACAM,EAAcxxF,MAAQu/D,IACzBiyB,EAAcxxF,MAAQu/D,EACtB3/B,QAAQj6B,IAAI,0CACZi6B,QAAQj6B,IAAI6rF,IAETA,EAAcxxF,MAAQkgB,IACzBsxE,EAAcxxF,MAAQkgB,IAKpB0xE,EAAc,CACjB,IAMIE,EANAC,EAAiB3qB,EAAAA,EAAK/9B,MAAMqoD,GAC5B5wC,EAAOixC,EAAej0B,OAC1Bi0B,EAAej0B,OAASi0B,EAAer2B,MACvCq2B,EAAer2B,MAAQ5a,EACvBixC,EAAe/xF,WAAQgyD,EAGvB,IAAIggC,EAAoBjlF,EAAIglF,EAAgB,EAAG,GAAG,GACjB,IAA7BC,EAAkB12F,OACrBw2F,EAAQE,EAAkB,IAE1BF,EAAQC,EACR3yB,EAAKkxB,GAAUvtF,KAAK+uF,IAGrBA,EAAMvB,aAAeiB,EAAcjB,aACnCuB,EAAMlsB,SAAW4rB,EAAc5rB,SAC/BksB,EAAM9xF,MAAQwxF,EAAcxxF,KAE7B,CAED,EA4CIiyF,EAAsB,SAAU3B,QAClBt+B,IAAbs+B,IACHA,EAAWb,GAKZ,IAFA,IAAIyC,EAAgB,sBAAwB5B,EAAW,aAE9C90F,EAAI,EAAGA,EAAI4jE,EAAKkxB,GAAUh1F,OAAQE,GAAK,EAC/C02F,GAAiB,cAAgB12F,EAAI,MACrC02F,GAAiB,UAAY9yB,EAAKkxB,GAAU90F,GAAGghE,MAAQ,KACvD01B,GAAiB,SAAW9yB,EAAKkxB,GAAU90F,GAAG4B,KAAO,KACrD80F,GAAiB,UAAY9yB,EAAKkxB,GAAU90F,GAAGkgE,MAAQ,KACvDw2B,GAAiB,WAAa9yB,EAAKkxB,GAAU90F,GAAGsiE,OAAS,KACzDo0B,GAAiB,UAAY9yB,EAAKkxB,GAAU90F,GAAGwE,MAAQ,KACvDkyF,GAAiB,iBAAmB9yB,EAAKkxB,GAAU90F,GAAG+0F,aAAe,KACrE2B,GAAiB,gCAKlB,OAFAA,GAAiB,iBAAmB9yB,EAAKkxB,GAAUh1F,OAAS,KAC5D42F,GAAiB,gCAGlB,EAwEIC,EAAoC,SAAU99B,GAEjD+9B,EAA0B/9B,GAC1Bg+B,EAA4Bh+B,GAC5Bi+B,EAA4Bj+B,EAC7B,EAEIi+B,EAA8B,SAAUj+B,GAE3C,IADA,IAAIk+B,EAAkB,GACb/2F,EAAI,EAAGA,EAAI4jE,EAAKqwB,GAAiBn0F,OAAQE,GAAK,EAAG,CACzD,IAAIg3F,EAAapzB,EAAKqwB,GAAiBj0F,GACI,eAAvCowE,EAAuB4mB,KACtBA,EAAW92B,QAAUrH,GAAiBm+B,EAAW10B,SAAWzJ,GAC/Dk+B,EAAgBxvF,KAAKvH,GAGxB,CAEA,IAAK,IAAI0rE,EAAIqrB,EAAgBj3F,OAAS,EAAG4rE,GAAK,EAAGA,GAAK,EACrD9H,EAAKqwB,GAAiB//C,OAAO6iD,EAAgBrrB,GAAI,EAEnD,EAEIkrB,EAA4B,SAAU/9B,GAGzC,IADA,IAAIk+B,EAAkB,GACb/2F,EAAI,EAAGA,EAAI4jE,EAAKqwB,GAAiBn0F,OAAQE,GAAK,EAAG,CACzD,IAAIg3F,EAAapzB,EAAKqwB,GAAiBj0F,GACI,aAAvCowE,EAAuB4mB,KACtBA,EAAW92B,QAAUrH,GAAiBm+B,EAAW10B,SAAWzJ,GAE/Dk+B,EAAgBxvF,KAAKvH,GAGxB,CAEA,IAAK,IAAI0rE,EAAIqrB,EAAgBj3F,OAAS,EAAG4rE,GAAK,EAAGA,GAAK,EAErD9H,EAAKqwB,GAAiB//C,OAAO6iD,EAAgBrrB,GAAI,EAEnD,EAEImrB,EAA8B,SAAUh+B,GAG3C,IADA,IAAIk+B,EAAkB,GACb/2F,EAAI,EAAGA,EAAI4jE,EAAKqwB,GAAiBn0F,OAAQE,GAAK,EAAG,CACzD,IAAIg3F,EAAapzB,EAAKqwB,GAAiBj0F,GACI,eAAvCowE,EAAuB4mB,KACtBA,EAAW92B,QAAUrH,GAAiBm+B,EAAW10B,SAAWzJ,GAE/Dk+B,EAAgBxvF,KAAKvH,GAGxB,CAEA,IAAK,IAAI0rE,EAAIqrB,EAAgBj3F,OAAS,EAAG4rE,GAAK,EAAGA,GAAK,EAErD9H,EAAKqwB,GAAiB//C,OAAO6iD,EAAgBrrB,GAAI,EAEnD,EAuBIurB,EAAgB,CACnB/oE,KATU,SAAUgpE,QACI1gC,IAApB0gC,IACHjD,EAAkBiD,EAIpB,EAIC7nB,SAztBc,WACdjrC,QAAQj6B,IAAI,QAASy5D,EACtB,EAwtBCuzB,sBA/sB2B,SAAUrC,QACpBt+B,IAAbs+B,IACHA,EAAWb,GAEZ,IAAItmF,EAAQi+D,EAAAA,EAAK/9B,MAAM+1B,EAAKkxB,IAI5B,YAHct+B,IAAV7oD,IACHA,EAAQ,IAEFA,CACR,EAwsBCk2D,mBAAoBA,EAEpB2H,iBAxsBsB,SAAUyH,QACGzc,IAA/B29B,EAAUlhB,EAAUjS,SACvBmzB,EAAUlhB,EAAUjS,YAAgCxK,IAAvByc,EAAU3I,SAAyB2I,EAAU3I,SAAW,IAEvF,EAqsBCoqB,sBAAuBA,EACvBjpB,iBA7rBsB,SAAUwH,QACGzc,IAA/B49B,EAAUnhB,EAAUjS,SACvBozB,EAAUnhB,EAAUjS,YAAgCxK,IAAvByc,EAAU5I,SAAyB4I,EAAU5I,SAAW,EAEvF,EA0rBCsqB,sBAAuBA,EACvBvpB,iBArrBsB,SAAU6H,QACGzc,IAA/B+9B,EAAUthB,EAAUjS,SACvBuzB,EAAUthB,EAAUjS,OAASiS,EAAU7I,SAEzC,EAkrBCwqB,sBAAuBA,EACvBtpB,kBA7qBuB,SAAU2H,QACGzc,IAAhC69B,EAAWphB,EAAUjS,SACxBqzB,EAAWphB,EAAUjS,OAASiS,EAAUhJ,cAE1C,EA0qBCmG,uBAAwBA,EACxB/E,gBArqB0B,SAAU4H,QACGzc,IAAnC09B,EAAcjhB,EAAUjS,SAC3BkzB,EAAcjhB,EAAUjS,OAASiS,EAAU9rE,aAE7C,EAkqBCiwF,qBAhqB+B,SAAUnkB,GACzC,OAAOihB,EAAcjhB,EAAUjS,MAChC,EA+pBCuK,kBA7pBuB,SAAU0H,QACGzc,IAAhC89B,EAAWrhB,EAAUjS,SACxBszB,EAAWrhB,EAAUjS,OAASiS,EAAU/I,UAE1C,EA0pBC2qB,uBAAwBA,EACxBwC,aAtOkB,WAClBzzB,EAAO,GACPqwB,GAAmB,CACpB,EAoOC7mB,gBA3NqB,WACrBxJ,EAAO,GACPqwB,GAAmB,EACnBC,EAAgB,CAAC,EACjBC,EAAY,CAAC,EACbC,EAAY,CAAC,EACbC,EAAa,CAAC,EACdC,EAAa,CAAC,EAEdC,EAAY,CAAC,EACbC,EAAqB,GACrBC,EAAuB,EACxB,EAgNC5wF,IAAKA,EACL0N,IAlCe,SAAU0hE,EAAWqkB,EAAcC,GAClD,OAAOhmF,EAAI0hE,EAAWqkB,EAAcC,GAAY,EACjD,EAiCC7mB,WAlZgB,SAAUv8B,GAG1B,IAFA,IAAIgsB,EAAUhsB,EAAQgsB,QAClBq3B,GAAW,WACNx3F,EAAI,EAAGA,EAAImgE,EAAQrgE,OAAQE,IAAK,CAExC,IAAIy3F,EAAgBt3B,EAAQngE,GAC5B,GAAIy3F,EAAc7jB,KAAO4jB,EAExB,YADApzD,QAAQj6B,IAAI,6CAA+CstF,EAAc7jB,IAAM,wBAA0B4jB,EAAU,wDAGpHA,EAAUC,EAAc7jB,IACxBlE,EAAkB+nB,EAAc7jB,KAChC,IAAK,IAAIlI,EAAI,EAAGA,EAAI+rB,EAAc5wF,KAAK/G,OAAQ4rE,IAAK,CACnD,IAAI6C,EAAOkpB,EAAc5wF,KAAK6kE,GAC9B,IACC7nE,EAAI0qE,EACL,CAAE,MAAOj8D,GAIR,OAHA8xB,QAAQj6B,IAAImI,GACZ8xB,QAAQj6B,IAAI,iEACZi6B,QAAQj6B,IAAI,gCAAiCokE,EAE9C,CACD,CACD,CACA,OAAOp6B,CACR,EA0XCsiD,oBAAqBA,EACrBiB,wBAjL6B,WAE7B,IADA,IAAIC,EAAe,GACV33F,EAAI,EAAGA,EAAI4jE,EAAK9jE,OAAQE,GAAK,EACrC23F,GAAgBlB,EAAoBz2F,GAErC,OAAO23F,CACR,EA4KC/nB,qBAzK0B,SAAU/W,IAEe,IAA/C27B,EAAmBvxF,QAAQ41D,GAE9B27B,EAAmBjtF,KAAKsxD,GAIxBz0B,QAAQj6B,IAAI,mDAEd,EAgKC4lE,oBArHyB,SAAUlX,GACnC,IAAI5xD,EAAQutF,EAAmBvxF,QAAQ41D,IACxB,IAAX5xD,GAEHutF,EAAmBtgD,OAAQjtC,EAAQ,EAErC,EAgHCipE,mBArJwB,SAAUrX,GAElC,IAAqD,IAAjD47B,EAAqBxxF,QAAQ41D,GAAuB,CAEvD47B,EAAqBltF,KAAKsxD,GAG1B,IAAI++B,EAAkBpD,EAAmBvxF,QAAQ41D,IACxB,IAArB++B,GACHpD,EAAmBtgD,OAAO0jD,EAAiB,GAI5CjB,EAAkC99B,EACnC,MAGCz0B,QAAQj6B,IAAI,qDAEd,EAmIC0lE,uBA/J4B,SAAUhX,GACtC,OAAmD,IAA/C27B,EAAmBvxF,QAAQ41D,EAKhC,EA0JCsX,yBAjI8B,SAAUtX,GACxC,OAAqD,IAAjD47B,EAAqBxxF,QAAQ41D,EAKlC,EA4HCg/B,sBApD2B,WAC3B,OAAOrD,CACR,EAmDCsD,wBAjD6B,WAC7B,OAAOrD,CACR,EAgDC/kB,kBAAmBA,GAKpBunB,EAAchD,gBAAkBA,EAChCgD,EAAcc,UAjyBE,WACf,OAAOn0B,EAAK9jE,MACb,EAgyBAm3F,EAAcpzB,mBAAqBA,EACnCozB,EAAce,oBAxxBY,SAAUC,GACnC,KAAIA,EAAW,GAId,OAAOr0B,EAAKq0B,GAAUn4F,OAHtBskC,QAAQj6B,IAAI,iFAKd,EAuxBA,sCC7zBE0oD,EAAOL,QAAU,EAAjBK,cCHF,SAAS2f,EAAyBC,GAGjC,OAAOl7B,QAAQnjB,UAAU5H,MAAK,KAC7B,IAAIla,EAAI,IAAIzP,MAAM,uBAAyB4vE,EAAM,KAEjD,MADAngE,EAAE3S,KAAO,mBACH2S,CAAC,GAET,CACAkgE,EAAyB3vD,KAAO,IAAM,GACtC2vD,EAAyBp+C,QAAUo+C,EACnCA,EAAyBvpC,GAAK,IAC9B4pB,EAAOL,QAAUggB,4BCDjB,SAASjrE,EAAK2wF,EAAMh4F,GAClB,IAAI+G,EAAQixF,EAAKp4F,OACjBo4F,EAAK3wF,KAAKrH,GACV8V,EAAG,KAAO,EAAI/O,GAAS,CACrB,IAAIi/E,EAAej/E,EAAQ,IAAO,EAChC2hB,EAASsvE,EAAKhS,GAChB,KAAI,EAAIhgD,EAAQtd,EAAQ1oB,IAEnB,MAAM8V,EADRkiF,EAAKhS,GAAehmF,EAAQg4F,EAAKjxF,GAAS2hB,EAAU3hB,EAAQi/E,CAEjE,CACF,CACA,SAASiS,EAAKD,GACZ,OAAO,IAAMA,EAAKp4F,OAAS,KAAOo4F,EAAK,EACzC,CACA,SAAS7wF,EAAI6wF,GACX,GAAI,IAAMA,EAAKp4F,OAAQ,OAAO,KAC9B,IAAIogE,EAAQg4B,EAAK,GACf17D,EAAO07D,EAAK7wF,MACd,GAAIm1B,IAAS0jC,EAAO,CAClBg4B,EAAK,GAAK17D,EACVxmB,EAAG,IACD,IAAI/O,EAAQ,EAAGnH,EAASo4F,EAAKp4F,OAAQs4F,EAAat4F,IAAW,EAC7DmH,EAAQmxF,GAER,CACA,IAAIC,EAAY,GAAKpxF,EAAQ,GAAK,EAChCue,EAAO0yE,EAAKG,GACZC,EAAaD,EAAY,EACzBE,EAAQL,EAAKI,GACf,GAAI,EAAIpyD,EAAQ1gB,EAAMgX,GACpB87D,EAAax4F,GAAU,EAAIomC,EAAQqyD,EAAO/yE,IACpC0yE,EAAKjxF,GAASsxF,EACfL,EAAKI,GAAc97D,EACnBv1B,EAAQqxF,IACPJ,EAAKjxF,GAASue,EACf0yE,EAAKG,GAAa77D,EAClBv1B,EAAQoxF,OACV,MAAIC,EAAax4F,GAAU,EAAIomC,EAAQqyD,EAAO/7D,IAE9C,MAAMxmB,EADRkiF,EAAKjxF,GAASsxF,EAASL,EAAKI,GAAc97D,EAAQv1B,EAAQqxF,CACjD,CACd,CACF,CACA,OAAOp4B,CACT,CACA,SAASh6B,EAAQlwB,EAAGO,GAClB,IAAIiiF,EAAOxiF,EAAEyiF,UAAYliF,EAAEkiF,UAC3B,OAAO,IAAMD,EAAOA,EAAOxiF,EAAEizB,GAAK1yB,EAAE0yB,EACtC,CAEA,GADAupB,EAAQnpD,kBAAe,EACnB,kBAAoB67E,aAAe,oBAAsBA,YAAY97E,IAAK,CAC5E,IAAIsvF,EAAmBxT,YACvB1yB,EAAQnpD,aAAe,WACrB,OAAOqvF,EAAiBtvF,KAC1B,CACF,KAAO,CACL,IAAIuvF,EAAYp/E,KACdq/E,EAAcD,EAAUvvF,MAC1BopD,EAAQnpD,aAAe,WACrB,OAAOsvF,EAAUvvF,MAAQwvF,CAC3B,CACF,CACA,IAAIC,EAAY,GACdC,EAAa,GACbC,EAAgB,EAChBC,EAAc,KACdC,EAAuB,EACvBC,GAAmB,EACnBC,GAA0B,EAC1BC,GAAyB,EACzBC,EAAkB,oBAAsBx0D,WAAaA,WAAa,KAClEy0D,EAAoB,oBAAsB15C,aAAeA,aAAe,KACxE25C,EAAoB,qBAAuBC,aAAeA,aAAe,KAC3E,SAASC,EAAcxtF,GACrB,IAAK,IAAIytF,EAAQvB,EAAKW,GAAa,OAASY,GAAS,CACnD,GAAI,OAASA,EAAMj7D,SAAUp3B,EAAIyxF,OAC5B,MAAIY,EAAMC,WAAa1tF,GAIvB,MAHH5E,EAAIyxF,GACDY,EAAMjB,UAAYiB,EAAM70C,eACzBt9C,EAAKsxF,EAAWa,EACV,CACVA,EAAQvB,EAAKW,EACf,CACF,CACA,SAASc,EAAc3tF,GAGrB,GAFAmtF,GAAyB,EACzBK,EAAcxtF,IACTktF,EACH,GAAI,OAAShB,EAAKU,GACfM,GAA0B,EAAKU,QAC7B,CACH,IAAIC,EAAa3B,EAAKW,GACtB,OAASgB,GACPC,EAAmBH,EAAeE,EAAWH,UAAY1tF,EAC7D,CACJ,CACA,IA6EI+tF,EA7EAC,GAAuB,EACzBC,GAAiB,EACjBC,EAAgB,EAChBR,GAAa,EACf,SAASS,IACP,QAAO5nC,EAAQnpD,eAAiBswF,EAAYQ,EAC9C,CACA,SAASE,IACP,GAAIJ,EAAsB,CACxB,IAAIhuF,EAAcumD,EAAQnpD,eAC1BswF,EAAY1tF,EACZ,IAAIquF,GAAc,EAClB,IACEtkF,EAAG,CACDmjF,GAA0B,EAC1BC,IACIA,GAAyB,EAC3BE,EAAkBY,GACjBA,GAAiB,GACpBhB,GAAmB,EACnB,IAAIqB,EAAwBtB,EAC5B,IACE1iF,EAAG,CAED,IADAkjF,EAAcxtF,GAEZ+sF,EAAcb,EAAKU,GACnB,OAASG,KAEPA,EAAYn0C,eAAiB54C,GAAemuF,MAG9C,CACA,IAAI37D,EAAWu6D,EAAYv6D,SAC3B,GAAI,oBAAsBA,EAAU,CAClCu6D,EAAYv6D,SAAW,KACvBw6D,EAAuBD,EAAYj3C,cACnC,IAAIy4C,EAAuB/7D,EACzBu6D,EAAYn0C,gBAAkB54C,GAGhC,GADAA,EAAcumD,EAAQnpD,eAClB,oBAAsBmxF,EAAsB,CAC9CxB,EAAYv6D,SAAW+7D,EACvBf,EAAcxtF,GACdquF,GAAc,EACd,MAAM/jF,CACR,CACAyiF,IAAgBb,EAAKU,IAAcxxF,EAAIwxF,GACvCY,EAAcxtF,EAChB,MAAO5E,EAAIwxF,GACXG,EAAcb,EAAKU,EACrB,CACA,GAAI,OAASG,EAAasB,GAAc,MACnC,CACH,IAAIR,EAAa3B,EAAKW,GACtB,OAASgB,GACPC,EACEH,EACAE,EAAWH,UAAY1tF,GAE3BquF,GAAc,CAChB,CACF,CACA,MAAMtkF,CACR,CAAE,QACCgjF,EAAc,KACZC,EAAuBsB,EACvBrB,GAAmB,CACxB,CACAoB,OAAc,CAChB,CACF,CAAE,QACAA,EACIN,IACCC,GAAuB,CAC9B,CACF,CACF,CAEA,GAAI,oBAAsBV,EACxBS,EAAmC,WACjCT,EAAkBc,EACpB,OACG,GAAI,qBAAuBI,eAAgB,CAC9C,IAAIC,EAAU,IAAID,eAChBE,EAAOD,EAAQE,MACjBF,EAAQG,MAAMC,UAAYT,EAC1BL,EAAmC,WACjCW,EAAKI,YAAY,KACnB,CACF,MACEf,EAAmC,WACjCX,EAAgBgB,EAA0B,EAC5C,EACF,SAASR,IACPI,IACIA,GAAuB,EAAKD,IAClC,CACA,SAASD,EAAmBt7D,EAAUu8D,GACpCd,EAAgBb,GAAgB,WAC9B56D,EAAS+zB,EAAQnpD,eACnB,GAAG2xF,EACL,CACAxoC,EAAQvoD,sBAAwB,EAChCuoD,EAAQ/oD,2BAA6B,EACrC+oD,EAAQzoD,qBAAuB,EAC/ByoD,EAAQ3oD,wBAA0B,EAClC2oD,EAAQyoC,mBAAqB,KAC7BzoC,EAAQ7oD,8BAAgC,EACxC6oD,EAAQzpD,wBAA0B,SAAUmyF,GAC1CA,EAAKz8D,SAAW,IAClB,EACA+zB,EAAQ2oC,2BAA6B,WACnChC,GACED,IACEC,GAA0B,EAAKU,IACrC,EACArnC,EAAQ4oC,wBAA0B,SAAUC,GAC1C,EAAIA,GAAO,IAAMA,EACbj3D,QAAQhY,MACN,mHAED+tE,EAAgB,EAAIkB,EAAMzwF,KAAKgtD,MAAM,IAAMyjC,GAAO,CACzD,EACA7oC,EAAQjpD,iCAAmC,WACzC,OAAO0vF,CACT,EACAzmC,EAAQ8oC,8BAAgC,WACtC,OAAOnD,EAAKU,EACd,EACArmC,EAAQ+oC,cAAgB,SAAUC,GAChC,OAAQvC,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACH,IAAIl3C,EAAgB,EACpB,MACF,QACEA,EAAgBk3C,EAEpB,IAAIsB,EAAwBtB,EAC5BA,EAAuBl3C,EACvB,IACE,OAAOy5C,GACT,CAAE,QACAvC,EAAuBsB,CACzB,CACF,EACA/nC,EAAQipC,wBAA0B,WAAa,EAC/CjpC,EAAQrpD,sBAAwB,WAAa,EAC7CqpD,EAAQkpC,yBAA2B,SAAU35C,EAAey5C,GAC1D,OAAQz5C,GACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACH,MACF,QACEA,EAAgB,EAEpB,IAAIw4C,EAAwBtB,EAC5BA,EAAuBl3C,EACvB,IACE,OAAOy5C,GACT,CAAE,QACAvC,EAAuBsB,CACzB,CACF,EACA/nC,EAAQ3pD,0BAA4B,SAClCk5C,EACAtjB,EACAlrB,GAEA,IAAItH,EAAcumD,EAAQnpD,eAQ1B,OAPA,kBAAoBkK,GAAW,OAASA,EAEnCA,EACC,kBAFAA,EAAUA,EAAQooF,QAEa,EAAIpoF,EAC/BtH,EAAcsH,EACdtH,EACLsH,EAAUtH,EACP81C,GACN,KAAK,EACH,IAAI65C,GAAW,EACf,MACF,KAAK,EACHA,EAAU,IACV,MACF,KAAK,EACHA,EAAU,WACV,MACF,KAAK,EACHA,EAAU,IACV,MACF,QACEA,EAAU,IAyBd,OAtBA75C,EAAgB,CACd9Y,GAAI8vD,IACJt6D,SAAUA,EACVsjB,cAAeA,EACf43C,UAAWpmF,EACXsxC,eANF+2C,EAAUroF,EAAUqoF,EAOlBnD,WAAY,GAEdllF,EAAUtH,GACJ81C,EAAc02C,UAAYllF,EAC5BhM,EAAKuxF,EAAY/2C,GACjB,OAASo2C,EAAKU,IACZ92C,IAAkBo2C,EAAKW,KACtBM,GACIE,EAAkBY,GAAiBA,GAAiB,GACpDd,GAAyB,EAC9BW,EAAmBH,EAAermF,EAAUtH,MAC5C81C,EAAc02C,UAAYmD,EAC5Br0F,EAAKsxF,EAAW92C,GAChBo3C,GACED,IACEC,GAA0B,EAAKU,MAChC93C,CACT,EACAyQ,EAAQvpD,qBAAuBmxF,EAC/B5nC,EAAQqpC,sBAAwB,SAAUp9D,GACxC,IAAIq9D,EAAsB7C,EAC1B,OAAO,WACL,IAAIsB,EAAwBtB,EAC5BA,EAAuB6C,EACvB,IACE,OAAOr9D,EAASogB,MAAMrtC,KAAM3R,UAC9B,CAAE,QACAo5F,EAAuBsB,CACzB,CACF,CACF,8EC/UIpsB,EAAc,CACjB4tB,QAAS,GACT3S,SAAU,IA4BP4S,EAAW,SAAUC,EAASvjC,EAAMwjC,EAAiBC,EAAQC,GAEhE,IADA,IAAItrB,EAAQ3C,EAAY8tB,GACfj8F,EAAI,EAAGA,EAAI8wE,EAAMhxE,OAAQE,GAAK,EAAG,CAEzC,QAA4Bw2D,IAAxBsa,EAAM9wE,GAAGqiE,WACZ,MAAM,IAAIx/D,MAAM,gCAAkCo5F,EAAU,aAAenrB,EAAMhxE,OAAS,yCAA2CE,EAAI,KAE1I,IAAIq8F,EAAgBvrB,EAAM9wE,GAAGqiE,WAAW/jC,OAAOwyC,EAAM9wE,GAAG07D,SACpD8tB,EAAiB8S,EAAkBD,GACvCE,EAAoB/S,EAAgB9wB,EAAMwjC,EAAiBprB,EAAM9wE,GAAIm8F,EAAQC,EAC9E,CACD,EAUIE,EAAoB,SAAUE,GAEjC,IADA,IAAIC,EAAa,CAAC,EACTz8F,EAAI,EAAGA,EAAIw8F,EAAe18F,OAAQE,GAAK,EAAG,CAClD,IAAIizE,EAAYupB,EAAex8F,QAGKw2D,IAAhCimC,EAAWxpB,EAAU/S,SACxBu8B,EAAWxpB,EAAU/S,OAAS,SAGN1J,IAArByc,EAAU3Q,aACwB9L,IAAjCimC,EAAWxpB,EAAU3Q,UACxBm6B,EAAWxpB,EAAU3Q,QAAU,GAGlC,CACA,OAAOm6B,CACR,EAYIF,EAAsB,SAAU/S,EAAgByC,EAAsByQ,EAAez5B,EAAMk5B,EAAQC,GACtG,IAAI5P,GAAW,EACXC,EAAW,GAGf,IAAKtvE,OAAOqsE,EACX,GAA4B,KAAxBA,EAAersE,KAAa,CAC/BsvE,EAAWtvE,IACXqvE,GAAW,EACX,KACD,CAKD,IAAiB,IAAbA,EAAmB,CActB,IAZA,IAAIzP,EAAkB2P,EAAUlD,EAAgB5d,EAAAA,EAAK/9B,MAAMo1B,EAAKZ,aAU5Ds6B,EAAejQ,EAAUlD,EAAgB5d,EAAAA,EAAK/9B,MAAMo1B,EAAKvH,UACzDkhC,GAAuB,EAClB/P,EAAI,EAAGA,EAAI8P,EAAa78F,OAAQ+sF,GAAK,EAC7C,SAA8Br2B,IAA1BmmC,EAAa9P,GAAG3sB,QAC0C,IAAzDk8B,EAAqBn5F,QAAQ05F,EAAa9P,GAAG3sB,eAKnB1J,IAA3BmmC,EAAa9P,GAAGvqB,SAC2C,IAA1D85B,EAAqBn5F,QAAQ05F,EAAa9P,GAAGvqB,SADlD,CASAs6B,GAAuB,EACvB,KALA,CAUD,IAAIC,GAAoB,EAMxB,GALID,IACHC,EAAoB5f,EAAmBF,EAAiB9Z,EAAMk5B,KAIrC,IAAtBU,EACH,CAAIF,EAAejQ,EAAUlD,EAAgB5d,EAAAA,EAAK/9B,MAAMo1B,EAAKvH,UAC7D,IADA,IACSgQ,EAAI,EAAGA,EAAIixB,EAAa78F,OAAQ4rE,GAAK,EAC7CgxB,EAAcC,EAAajxB,GAAIqR,EAAiB9Z,EAAMyI,EAAGixB,EAAa78F,OAAS,EAFV,CAKxE,KAEK,CAGJ,IAAK,IAAIE,EAAI,EAAGA,EAAIisF,EAAqBnsF,OAAQE,GAAK,EAAG,CACxDwpF,EAAeiD,GAAYR,EAAqBjsF,GAChD,IAAI2sF,EAAqB/gB,EAAAA,EAAK/9B,MAAMo+C,GACpCU,EAAmBz4C,OAAOl0C,EAAG,GAC7Bu8F,EAAoB/S,EAAgBmD,EAAoB+P,EAAez5B,EAAMk5B,EAAQC,EACtF,CAGA5S,EAAeiD,GAAY,EAC5B,CACD,EAuHIxP,EAAqB,SAAU6f,EAAiB75B,EAAMk5B,GAazD,IARA,IACIpzB,EAMAmJ,EAPA6qB,EAAmBC,EAAsBF,GAEzCG,GAAiB,KACjBC,EAAY,EACZC,EAAUv5B,EAAAA,EAAKC,qBACfu5B,GAAmB,EACnBnJ,EAAkBkJ,EAEbn9F,EAAI,EAAGA,EAAI+8F,EAAiBj9F,OAAQE,GAAK,EAAG,CAEpD,IAAIq9F,EAAgB,EAChBC,EAAiB,EAyBrB,QAtBkC9mC,KALlCuS,EAAYg0B,EAAiB/8F,IAKfyvE,kBAEiB,kBAD9B6tB,EAAiBv0B,EAAU0G,gBAAgB,MAEL,QAAjC6tB,EAAe/sF,cAClB+sF,EAAiB,EAEwB,UAAjCA,EAAe/sF,gBACvB+sF,EAAiBrJ,IAIU,kBAD7BoJ,EAAgBt0B,EAAU0G,gBAAgB,MAEL,QAAhC4tB,EAAc9sF,cACjB8sF,EAAgB,EAEwB,UAAhCA,EAAc9sF,gBACtB8sF,EAAgBpJ,KAMfqJ,EAAiBD,EACpB,MAAM,IAAIx6F,MAAM,wBAA0By6F,EAAiB,sBAAwBD,QAW5D7mC,IAApBuS,EAAUvkE,QAAkE,IAA3Co/D,EAAAA,EAAKixB,uBAAuB9rB,KAEhEA,EAAUvkE,OAAQ,GAMnB,IAAI+4F,EAAkB3xB,EAAAA,EAAK/9B,MAAMk7B,GAIjC,UAHOw0B,EAAgB9tB,qBAGOjZ,IAA1B+mC,EAAgB1gC,OAKnB,GAAuB,KAHvBqV,EAAUtO,EAAAA,EAAKryD,IAAIgsF,EAAiBD,EAAgBD,IAGxCv9F,OAEX,OAAO,MAGJ,CAoBJ,GAhBIy9F,EAAgB1gC,MAAQogC,IAE3BC,EAAYjJ,GAAmBmJ,EAAkB,GACjDD,EAAUG,EACVL,EAAeM,EAAgB1gC,OAI5BwgC,EAAgBH,IACnBA,EAAYG,GAGTC,EAAiBH,IACpBA,EAAUG,GAGPH,EAAUD,EACb,OAAO,EAKR,GAAuB,KAFvBhrB,EAAUtO,EAAAA,EAAKryD,IAAIgsF,EAAiBJ,EAASD,IAEjCp9F,OAEX,OAAO,EAMJoyE,EAAQ,GAAG6iB,aAAeqI,IAC7BA,EAAkBlrB,EAAQ,GAAG6iB,aAI/B,CACD,CAGA,OAAO,CACR,EASIiI,EAAwB,SAAU36B,GACrC,IAGIriE,EAHAw9F,EAAqB,GACrBC,EAAkB,GAClBV,EAAmB,GAKvB,IAAK/8F,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,GAAK,OACXw2D,IAAxB6L,EAAWriE,GAAG68D,MACjB2gC,EAAmBj2F,KAAK86D,EAAWriE,IAGnCy9F,EAAgBl2F,KAAK86D,EAAWriE,IAQlC,IAAKA,EAAI,EAAGA,EAAIw9F,EAAmB19F,OAAQE,GAAK,EAC/C+8F,EAAiBx1F,KAAKi2F,EAAmBx9F,IAE1C,IAAKA,EAAI,EAAGA,EAAIy9F,EAAgB39F,OAAQE,GAAK,EAC5C+8F,EAAiBx1F,KAAKk2F,EAAgBz9F,IAGvC,OAAO+8F,CACR,EAYIrQ,EAAY,SAAU5f,EAAY+a,GAErC,IADA,IAAI6V,EAAe,GACV19F,EAAI,EAAGA,EAAI6nF,EAAW/nF,OAAQE,GAAK,EAAG,CAC9C,IAAIizE,EAAY4U,EAAW7nF,GAC3BizE,EAAU/S,MAAQ4M,EAAWmG,EAAU/S,YAGd1J,IAArByc,EAAU3Q,SACb2Q,EAAU3Q,OAASwK,EAAWmG,EAAU3Q,SAEzCo7B,EAAan2F,KAAK0rE,EACnB,CACA,OAAOyqB,CACR,EAoEIC,EAAgB,SAAU7N,EAAQ8N,GACrC,IAAK,IAAI59F,EAAI,EAAGA,EAAI49F,EAAmB99F,OAAQE,GAAK,EAAG,CACtD,QAAqBw2D,IAAjBs5B,EAAO5vB,OACN4vB,EAAO5vB,QAAU09B,EAAmB59F,GACvC,OAAO,EAGT,QAAsBw2D,IAAlBs5B,EAAOxtB,QACNwtB,EAAOxtB,SAAWs7B,EAAmB59F,GACxC,OAAO,CAGV,CACA,OAAO,CACR,EA6LI69F,EAAc,CAAC,EASfC,EAAU,SAAU3gF,EAAK8lD,QACHzM,IAArB2X,EAAYhxD,KACfgxD,EAAYhxD,GAAO,IAEpBgxD,EAAYhxD,GAAK5V,KAAK07D,EACvB,EAkBI86B,EAAyB,SAAU5gF,EAAK8lD,GAE3C,IAAI+6B,EAEJ,QAAyBxnC,IAArB2X,EAAYhxD,GACf,IAAK,IAAInd,EAAI,EAAGA,EAAImuE,EAAYhxD,GAAKrd,OAAQE,GAAK,EAEjD,GADAg+F,EAAa7vB,EAAYhxD,GAAKnd,IACU,IAApCi+F,EAAcD,EAAY/6B,GAE7B,OAAO,EAKV,OAAO,CACR,EAkBIi7B,EAAqB,SAAUC,EAAOC,GAIzC,GAAID,EAAMr+F,SAAWs+F,EAAMt+F,OAC1B,OAAO,EAOR,IAAK,IAAIqd,KAAOghF,EACf,KAAIvyB,EAAAA,EAAKplE,QAAQ23F,EAAMhhF,MAASyuD,EAAAA,EAAKplE,QAAQ43F,EAAMjhF,MAI/CghF,EAAMhhF,KAASihF,EAAMjhF,GACxB,OAAO,EAIT,OAAO,CACR,EAiBI8gF,EAAgB,SAAUI,EAAOC,GAIpC,QAAyB9nC,IAArB6nC,EAAMh8B,iBAAiD7L,IAArB8nC,EAAMj8B,iBACtB7L,IAArB6nC,EAAMh8B,iBAAiD7L,IAArB8nC,EAAMj8B,WAExC,OAAO,EAER,QAAsB7L,IAAlB6nC,EAAM3iC,cAA2ClF,IAAlB8nC,EAAM5iC,cACtBlF,IAAlB6nC,EAAM3iC,cAA2ClF,IAAlB8nC,EAAM5iC,QAErC,OAAO,EAIR,QAAyBlF,IAArB6nC,EAAMh8B,iBAAiD7L,IAArB8nC,EAAMj8B,WAA0B,CACrE,GAAIg8B,EAAMh8B,WAAWviE,SAAWw+F,EAAMj8B,WAAWviE,OAChD,OAAO,EAIP,IAAK,IAAIE,EAAI,EAAGA,EAAIq+F,EAAMh8B,WAAWviE,OAAQE,GAAK,EAAG,CACpD,IAAIs/B,EAAS4+D,EAAmBG,EAAMh8B,WAAWriE,GAAIs+F,EAAMj8B,WAAWriE,IACtE,IAAe,IAAXs/B,EAEH,OAAO,CAET,CAEF,CAGA,QAAsBk3B,IAAlB6nC,EAAM3iC,cAA2ClF,IAAlB8nC,EAAM5iC,QAAuB,CAC/D,GAAI2iC,EAAM3iC,QAAQ57D,SAAWw+F,EAAM5iC,QAAQ57D,OAC1C,OAAO,EAIP,IAAK,IAAI4rE,EAAI,EAAGA,EAAI2yB,EAAM3iC,QAAQ57D,OAAQ4rE,GAAK,EAE9C,IAAe,KADfpsC,EAAS4+D,EAAmBG,EAAM3iC,QAAQgQ,GAAI4yB,EAAM5iC,QAAQgQ,KAG3D,OAAO,CAIX,CAGA,OAAO,CACR,EAYI0D,EAA0B,SAAU/M,EAAYk8B,GAEnD,IADA,IAAI5G,EAAe,GACV33F,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,GAAK,EACvCA,GAAK,IACR23F,GAAgB,UAEjBA,GAAgBrpB,EAAmBjM,EAAWriE,IAAIgU,KAEnD,OAAO2jF,CACR,EASIrpB,EAAqB,SAAUC,GAClC,IAAIjvC,EAAS,GACTk/D,EAAY,SAAUxqF,EAAM+rD,EAAO0+B,GACtC,IAAIC,EAAK,CAAC,EACVA,EAAG1qF,KAAOA,EACV0qF,EAAG3+B,MAAQA,GAAS,QACJvJ,IAAZioC,IACHC,EAAGC,KAAOF,GAEXn/D,EAAO/3B,KAAKm3F,EACb,EAEA,GAAInwB,EAAKxsE,WAAuBy0D,IAAf+X,EAAKrO,MAAqB,CAE1C,IAAIwe,EAAI,CAAC,EAET,OADAA,EAAE1qE,KAAOu6D,EAAKxsE,KACP28E,CACR,CAEA,IAAIxU,EAAYtG,EAAAA,EAAKixB,uBAAuBtmB,GACxCtE,EAAgBrG,EAAAA,EAAKwM,uBAAuB7B,GAE5Cz1D,EAA6B,IADlB8qD,EAAAA,EAAKgxB,sBAAsBrmB,GAGtCqwB,EAAYrwB,EAAKrO,MACjB2+B,OAA6BroC,IAAhB+X,EAAKjM,OAAuBiM,EAAKjM,OAAS,GAEvDw8B,EAAW,OACXvwB,EAAKkF,UAAY,CAAC,IAAK,KAAKxwE,QAAQsrE,EAAKkF,WAAa,IACzDqrB,EAAW,UAERvwB,EAAKkF,UAAY,CAAC,IAAK,IAAK,KAAKxwE,QAAQsrE,EAAKkF,WAAa,IAC9DqrB,EAAW,gBAEQtoC,IAAhB+X,EAAKhL,SACRu7B,EAAW,YAGZ,IAGIC,EAHAC,OAAmCxoC,IAAzB+X,EAAKkB,gBAAiC,MAAQ,KACxDwvB,GAA0B,IAAf1wB,EAAK/pE,MAAkB,OAAS,GAC3C06F,OAA+B1oC,IAApB+X,EAAK4wB,YAA4B5wB,EAAK4wB,WAAa,EAAK,MAAQ,MAE/E,OAAQ5wB,EAAKkF,UACZ,IAAK,IAAKsrB,EAAgB,OAAQ,MAClC,IAAK,IAAKA,EAAgB,YAAa,MACvC,IAAK,IAAKA,EAAgB,OAAQ,MAClC,IAAK,IAAKA,EAAgB,YAAa,MACvC,QAASA,EAAgB,gBAINvoC,IAAhB+X,EAAKhL,SACRw7B,EAAgBxwB,EAAKhL,QAAU,EAAI,OAAS,QAG5B,SAAbu7B,GAAoC,YAAbA,KAC1BN,EAAUI,EAAW,SAChB9lF,EAKIoxD,EACRs0B,EAAUQ,EAASC,EAAS,WAE5BT,EAAUU,GACVV,EAAUO,EAAe,aACzBP,EAAUjwB,EAAK/pE,MAAO,WARtBg6F,GAD8B,IAAfjwB,EAAK/pE,YAAiCgyD,IAAf+X,EAAK/pE,MAAsB,MAAQ,aACtD,UACnBg6F,EAAU,eAgBZ,GANiB,WAAbM,IACHN,EAAUI,EAAW,SACrBJ,EAAUU,GACVV,EAAUjwB,EAAK/pE,MAAO,SACtBg6F,EAAUO,EAAe,cAET,aAAbD,EAAyB,CAC5B,IAAIM,GAAsC,IAAzB7wB,EAAKuF,gBAA2B,SAAW,aACvD5J,IACJk1B,GAAsC,IAAzB7wB,EAAKuF,gBAA2B,WAAa,YAE3D0qB,EAAUI,EAAW,SACrBJ,EAAUU,EAAS,UACnBV,EAAUO,EAAe,MACzBP,EAAU,YACV,IAAIa,EAAO9wB,EAAKhL,QAAU,EAAI,IAAM,GACpCi7B,EAAU,KACVA,EAAUa,EAAO9wB,EAAKhL,OAAQ,UAC9Bi7B,EAAU,KACVA,EAAU,MACVA,EAAUY,EAAY,kBACvB,CAIA,GAFAZ,EAAUjwB,EAAK3sE,KAAM,OAAQ2sE,EAAKvN,OAEZ,eAAlBiJ,EAAgC,CACnC,IAAIq1B,EAAS,GACRxmF,EAEOoxD,IACXo1B,EAAS,OAFTA,EAAS,KAIVd,EAAUc,GACVd,EAAUK,EAAY,SACvB,CAMA,IAAIU,EAAY,CAAC,EAMjB,OALAA,EAAUC,QAAUlgE,EACpBigE,EAAUvrF,KAAOsrB,EAAOhH,KAAI,SAAU2yB,GAAK,OAAOA,EAAEj3C,IAAM,IACxD26D,QAAO,SAAU2H,GAAK,MAAa,KAANA,CAAU,IACvCvoD,KAAK,KAEAwxE,CAER,EAwDIE,EAAa,SAAU1/B,EAAOkD,GACjC,IAAIg5B,EAAUl8B,EAAMiS,UAAU,EAAGjS,EAAMkS,YAAY,MAC/ChpC,EAAK82B,EAAMiS,UAAUjS,EAAMkS,YAAY,KAAO,EAAGlS,EAAMjgE,QAM3D,QAAW02D,IADF2X,EAAY8tB,GAGpB,OADA73D,QAAQj6B,IAAI,eAAiB8xF,EAAU,qBAChC,EAER,IAAIroB,EAAMiqB,EAAY5B,GAASl8B,GAC/B,QAAYvJ,IAARod,EAGH,OAFAxvC,QAAQj6B,IAAI,cAAe0zF,GAC3Bz5D,QAAQj6B,IAAI,eAAiB8xF,EAAU,KAAOhzD,EAAK,qBAC5C,EAGR,QAAautB,IAATyM,EAEH,OAAO2I,EAAAA,EAAK/9B,MAAMsgC,EAAY8tB,GAASroB,IACjC,GAAoB,mBAAT3Q,EAAoB,CAIrC,IAAIy8B,EAAMvxB,EAAY8tB,GAClB0D,EAAM9B,EAAY5B,GAClB2D,EAAiBD,EAAI5/B,GACrB8/B,EAAiBH,EAAI5/F,OAAS,EAC9BggG,EAAcJ,EAAIG,GAAgB52D,GAUtC,OAPAy2D,EAAIE,GAAkBF,EAAIG,GAC1BH,EAAI5/F,OAAS4/F,EAAI5/F,OAAS,SAGnB6/F,EAAI5/B,GACX4/B,EAAIG,GAAeF,GAEZ,CACR,CAGC,OADAzxB,EAAY8tB,GAASroB,GAAOhI,EAAAA,EAAK/9B,MAAMo1B,IAChC,CAET,EAwDI88B,EAAuB,CAE1BzxB,mBAAoBA,EACpBc,wBAAyBA,EACzBhB,gBAttBqB,SAAU1V,EAAMyjC,GAErC,IAaI6D,EAbAC,EAAa,CACjBA,aAA0B,GAC1BA,QAAqB,GACrBA,WAAwB,IACpBC,EAAc,GAUdzL,EAAuB7wB,EAAAA,EAAKk0B,0BAChCkI,EAAoDp0B,EAAAA,EAAK/9B,MAAM4mD,GA2B/D,OAFAuH,EAAS,UAAWtjC,GAtBK,SAAUo3B,EAAQztB,EAAYY,EAAMk9B,EAAcC,GAC1E,GAAqB,IAAjBD,EAAoB,CACvBD,EAAc,yBACd,IAAK,IAAIlgG,EAAI,EAAGA,EAAIqiE,EAAWviE,OAAQE,IACtCkgG,GAAelgG,EAAI,KAAOsuE,EAAmBjM,EAAWriE,IAAIgU,MAAQhU,EAAI,IAAMqiE,EAAWviE,OAAS,GAAK,KAExGogG,GAAe,QAChB,MACCA,GAAe,QAEhBA,GAAe5xB,EAAmBwhB,GAAQ97E,KACtC2pF,EAAc7N,EAAQkQ,KACzBp8B,EAAAA,EAAK//D,IAAIisF,GACTmQ,EAAWvkC,QAAQn0D,KAAKuoF,IAErBqQ,IAAiBC,IACpBH,EAAWI,WAAW94F,KAAK07D,EAAKiQ,KAAO,uBACvC+sB,EAAWK,aAAa/4F,KAAK24F,GAE/B,GAG8C/D,EAAQ6D,GAE/CC,CACR,EA0qBC/xB,kBAroBuB,SAAUxV,GAgBjC,IAbA,IAAI6nC,EAAsBnX,EAAAA,EAAS2H,OAAOr4B,GAUtC8nC,EAAsC,GACtChM,EAAqB5wB,EAAAA,EAAKi0B,wBAC1BpD,EAAuB7wB,EAAAA,EAAKk0B,0BACvB93F,EAAI,EAAGA,EAAIw0F,EAAmB10F,OAAQE,GAAK,GACyB,IAAxEwgG,EAAoCv9F,QAAQuxF,EAAmBx0F,KAClEwgG,EAAoCj5F,KAAKitF,EAAmBx0F,IAG9D,IAAKA,EAAI,EAAGA,EAAIy0F,EAAqB30F,OAAQE,GAAK,GAC6B,IAA1EwgG,EAAoCv9F,QAAQwxF,EAAqBz0F,KACpEwgG,EAAoCj5F,KAAKktF,EAAqBz0F,IA0HhE,OALAg8F,EAAS,WAAYtjC,GArGF,SAAUo3B,EAAQ/mB,EAAW9F,GAE/C,IAAI3jC,EAASssC,EAAAA,EAAK/9B,MAAMiiD,GACpB2Q,GAAsB,EAO1B,UANOnhE,EAAOikC,OAMTo6B,EAAc7N,EAAQ0Q,GAA3B,CAkBA,IAAIE,EAAY98B,EAAAA,EAAKwM,uBAAuB0f,QAEtBt5B,IAAlBs5B,EAAOxtB,QACQ,eAAdo+B,IAGH5Q,EAAOxtB,OAASwtB,EAAO5vB,OAIzB,IADA,IAAIygC,EAA4BJ,EAAoBzQ,EAAO5vB,OAAO4vB,EAAOxtB,QAAQxiE,OACxEE,EAAI,EAAGA,GAAK2gG,EAA2B3gG,GAAK,EAAG,CAIvD,GAAIA,IAAM2gG,EAA2B,CAEpCrhE,EAAOikC,OAAS,EAChBjkC,EAAOikC,QAAUusB,EAAOvsB,OACxBjkC,EAAOshE,kBAAoB,GAI3B,IAAIC,EAAc,GACdC,EAAmB1xB,EAAwBrG,GAC/C83B,EAAyB,YAAIC,EAC7BD,EAAsB,SAAI59B,EAAKlhE,KAC/B8+F,EAAoB,OAAIvhE,EAAOikC,OAC/Bs9B,EAAoB,OAAI59B,EAAKqO,OAC7BhyC,EAAOshE,kBAAkBr5F,KAAKs5F,GAE9BN,EAAoBzQ,EAAO5vB,OAAO4vB,EAAOxtB,QAAQ/6D,KAAK+3B,GACtD,KACD,CAEA,IAAIyhE,EAAkBR,EAAoBzQ,EAAO5vB,OAAO4vB,EAAOxtB,QAAQtiE,GACvE,IAAK,IAAImd,KAAOmiB,EACf,GAAY,sBAARniB,GAGAmiB,EAAOniB,KAAS4jF,EAAgB5jF,GAAM,CACzCsjF,GAAsB,EACtB,KACD,CAED,IAA4B,IAAxBA,EAAJ,CAKCM,EAAgBx9B,QAAUusB,EAAOvsB,OAE7Bs9B,EAAc,GACdC,EAAmB1xB,EAAwBrG,GAC/C83B,EAAyB,YAAIC,EAC7BD,EAAsB,SAAI59B,EAAKlhE,KAC/B8+F,EAAoB,OAAI/Q,EAAOvsB,OAC/Bs9B,EAAoB,OAAI59B,EAAKqO,OAE7ByvB,EAAgBH,kBAAkBr5F,KAAKs5F,GAIvCE,EAAgBH,kBAAkBx/B,MAAK,SAAUprD,EAAGO,GACnD,OAAQP,EAAU,OAAIO,EAAU,OAAK,EAAMA,EAAU,OAAIP,EAAU,QAAM,EAAI,CAC9E,IAEA,KACD,CAtBCyqF,GAAsB,CAuBxB,CApFA,CAqFD,GACa,CAAC,EAGmCD,GAK1CpX,EAAAA,EAAS6H,SAAS,OAAQsP,EAClC,EAofC/uB,WAzegB,SAAUr0D,EAAKtZ,QACN2yD,IAArBqnC,EAAY1gF,KACf0gF,EAAY1gF,GAAO,CAAC,GAErB,IAAK,IAAInd,EAAI,EAAGA,EAAI6D,EAAI/D,OAAQE,IAC/B,GAAI+9F,EAAuB5gF,EAAKtZ,EAAI7D,IACnCokC,QAAQj6B,IAAI,kCAAoCmkE,EAAmBzqE,EAAI7D,IAAIgU,KAAO,UAAYnQ,EAAI7D,GAAGsxE,OAAS,uCAAwCztE,EAAI7D,QAEtJ,CACJ89F,EAAQ3gF,EAAKtZ,EAAI7D,IAGjB,IAAIijE,EAAOp/D,EAAI7D,GACf,GAAIijE,EAAKh6B,GAAI,CACZ,IAAIuuD,EAAUrpB,EAAYhxD,GAAKrd,OAAS,EACxC+9F,EAAY1gF,GAAK8lD,EAAKh6B,IAAMuuD,CAC7B,CACD,CAEF,EAudCnpB,cAvTmB,SAAUpL,GAC7B,IAAI00B,EAAe,OAInB,OAHAA,GAAgBvoB,EAAwBnM,EAAKZ,YAAY,GACzDs1B,GAAgB,WAChBA,GAAgBvoB,EAAwBnM,EAAKvH,SAAS,EAEvD,EAkTCslC,gBArqCqB,WACrB,IAAIC,EAAe,GACnB,IAAK,IAAI9jF,KAAOgxD,EACf8yB,EAAa15F,KAAK4V,GAEnB,OAAO8jF,CACR,EAiqCCrvB,gBA7JqB,WACrB,OAAIzD,EAAY4tB,QACRnwB,EAAAA,EAAK/9B,MAAMsgC,EAAY4tB,SAEvB,EAET,EAwJClqB,iBA7IsB,WACtB,OAAI1D,EAAYib,SACRxd,EAAAA,EAAK/9B,MAAMsgC,EAAYib,UAEvB,EAET,EAwICtX,WA5HgB,SAAU/R,GAC1B,YAA2BvJ,IAAvB2X,EAAYpO,IACf37B,QAAQj6B,IAAI,0BAA4B41D,EAAQ,8CAAgDA,GACzF,IAEAoO,EAAYpO,EAErB,EAsHCoS,YAxDiB,SAAUpS,GAC3B,OAAO0/B,EAAW1/B,EACnB,EAuDCgS,YAzCiB,SAAUhS,EAAOkD,GAClC,OAAOw8B,EAAW1/B,EAAOkD,EAC1B,EAwCCmP,eA3BoB,SAAUrS,GAC9B,OAAO0/B,EAAW1/B,GAAO,EAC1B,EA2BCwS,iBAzBsB,WAEtBsrB,EAAc,CAAC,GADf1vB,EAAc,CAAC,GAEH4tB,QAAU,GACtB5tB,EAAYib,SAAW,GACvBxd,EAAAA,EAAKhG,cAAc,QACpB,GAuBAm6B,EAAqBzD,kBAAoBA,EACzCyD,EAAqBxD,oBAAsBA,EAC3CwD,EAAqBrT,UAAYA,EACjCqT,EAAqB9iB,mBAAqBA,EAC1C8iB,EAAqB7B,mBAAqBA,EAC1C6B,EAAqB9B,cAAgBA,EACrC8B,EAAqBhC,uBAAyBA,EAC9CgC,EAAqB/C,sBAAwBA,EAG7C,4ECzsCA,MAwBA,EAxB0BhO,IAA+D,IAA9D,WAAEliB,EAAU,sBAAEo0B,EAAqB,kBAAEC,GAAmBnS,EACjF,MAAOoS,EAAmBC,IAAwBjqE,EAAAA,EAAAA,UAAS,MAO3D,OACE29B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBnhD,SAChCi5D,EAAWx0C,KAAI,CAAC0gC,EAAW/xD,KAC1B8tD,EAAAA,EAAAA,KAAA,UAEErpC,QAASA,IAVKzkB,KACpBo6F,EAAqBp6F,GACrBi6F,EAAsBp0B,EAAW7lE,GAAO,EAQnBq6F,CAAar6F,GAC5ByM,SAAUslD,EAAUj3D,QAA0B,OAAjBo/F,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBp/F,MAChDizD,UAAW,mBAAmBosC,IAAsBn6F,EAAQ,WAAa,MAAM+xD,EAAUj3D,QAA0B,OAAjBo/F,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBp/F,MAAO,WAAa,KAAK8R,SAE7ImlD,EAAUj3D,MALNkF,MAQL,ECGV,EAvByB+nF,IAAsC,IAArC,UAAEpX,EAAS,iBAAE2pB,GAAkBvS,EACvD,MAAO77B,EAAkBC,IAAuBh8B,EAAAA,EAAAA,UAAS,MAOzD,OACE29B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBnhD,SAChC+jE,EAAUt/C,KAAI,CAACw8B,EAAU7tD,KACxB8tD,EAAAA,EAAAA,KAAA,UAEErpC,QAASA,IAVI41E,EAACr6F,EAAO6tD,KAC3B1B,EAAoBnsD,GACpBs6F,EAAiBzsC,EAASiL,MAAM,EAQXuhC,CAAar6F,EAAO6tD,GACnCE,UAAW,oBAAmB7B,IAAqBlsD,EAAQ,WAAa,IAAK4M,SAE5EihD,EAASiL,OAJL94D,MAOL,ECkDV,EApE2B+nF,IAOpB,IAPqB,UAC1Bj8B,EAAS,aAAEC,EAAY,UACvBC,EAAS,aAAEC,EAAY,iBACvBC,EAAgB,oBAAEC,EAAmB,oBACrCiB,EAAmB,QACnBqB,EAAO,aACPC,GACDq5B,EACC,OACEG,EAAAA,EAAAA,MAAAG,EAAAA,SAAA,CAAAz7E,SAAA,EACEkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,2BACJs7E,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,iBAAgBnhD,SAAA,EAC7Bs7E,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,kBAAiBnhD,SAAA,EAC9BkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,eACJkhD,EAAAA,EAAAA,KAACysC,EAAiB,CAChB10B,WAAYpX,EAAQoX,WACpBo0B,sBAAuBluC,EACvBmuC,kBAAmBluC,IAEpBF,IACCo8B,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,gBAAenhD,SAAA,CAAC,aAClBk/C,EAAUhxD,YAK3BotF,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,kBAAiBnhD,SAAA,EAC9BkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,eACJkhD,EAAAA,EAAAA,KAACysC,EAAiB,CAChB10B,WAAYpX,EAAQoX,WACpBo0B,sBAAuBhuC,EACvBiuC,kBAAmBpuC,IAEpBE,IACCk8B,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,gBAAenhD,SAAA,CAAC,aAClBo/C,EAAUlxD,YAK3BotF,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,kBAAiBnhD,SAAA,EAC9BkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,qBACJkhD,EAAAA,EAAAA,KAAC0sC,EAAgB,CACf7pB,UAAWjiB,EAAay8B,gBACxBmP,iBAAkBnuC,IAEnBD,IACCg8B,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,gBAAenhD,SAAA,CAAC,aAClBs/C,SAKjBg8B,EAAAA,EAAAA,MAAA,OAAKn6B,UAAU,qCAAoCnhD,SAAA,EACjDkhD,EAAAA,EAAAA,KAAA,MAAAlhD,SAAI,UACJkhD,EAAAA,EAAAA,KAAA,UACErpC,QAAS2oC,EACTW,UAAU,eACVthD,UAAWq/C,IAAcE,IAAcE,EAAiBt/C,SACzD,8BAKJ,+BClEP,SAAS6jE,IAEP,GAC4C,qBAAnCvlB,gCAC4C,oBAA5CA,+BAA+BulB,SAcxC,IAEEvlB,+BAA+BulB,SAASA,EAC1C,CAAE,MAAOhtE,GAGP05B,QAAQhY,MAAM1hB,EAChB,CACF,CAKEgtE,GACA7kB,EAAOL,QAAU,EAAjBK,OCjCE6uC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBprC,IAAjBqrC,EACH,OAAOA,EAAarvC,QAGrB,IAAIK,EAAS6uC,EAAyBE,GAAY,CAGjDpvC,QAAS,CAAC,GAOX,OAHAsvC,EAAoBF,GAAU/uC,EAAQA,EAAOL,QAASmvC,GAG/C9uC,EAAOL,OACf,OCtBA,IAAIuvC,EAAkC,oBAAX1hG,OAAwBA,OAAO,kBAAoB,qBAC1E2hG,EAAmC,oBAAX3hG,OAAwBA,OAAO,mBAAqB,sBAC5E4hG,EAAiC,oBAAX5hG,OAAwBA,OAAO,iBAAmB,oBACxE6hG,EAAgBh6E,IAChBA,GAASA,EAAM2iC,EAAI,IACrB3iC,EAAM2iC,EAAI,EACV3iC,EAAM2I,SAASztB,GAAQA,EAAG6nD,MAC1B/iC,EAAM2I,SAASztB,GAAQA,EAAG6nD,IAAM7nD,EAAG6nD,IAAM7nD,MAC1C,EAyBDu+F,EAAoB3rF,EAAI,CAAC68C,EAAQxgD,EAAM8vF,KACtC,IAAIj6E,EACJi6E,KAAcj6E,EAAQ,IAAI2iC,GAAK,GAC/B,IAEIu3C,EACAC,EACA7qD,EAJA8qD,EAAY,IAAIlzF,IAChBojD,EAAUK,EAAOL,QAIjB+vC,EAAU,IAAIhrD,SAAQ,CAACnjB,EAASouE,KACnChrD,EAASgrD,EACTH,EAAejuE,CAAO,IAEvBmuE,EAAQP,GAAkBxvC,EAC1B+vC,EAAQR,GAAkB3+F,IAAQ8kB,GAAS9kB,EAAG8kB,GAAQo6E,EAAUzxE,QAAQztB,GAAKm/F,EAAe,OAAElgG,SAC9FwwD,EAAOL,QAAU+vC,EACjBlwF,GAAMqrB,IAEL,IAAIt6B,EADJg/F,EAvCa,CAAC1kE,GAAUA,EAAKpF,KAAKmqE,IACnC,GAAW,OAARA,GAA+B,kBAARA,EAAkB,CAC3C,GAAGA,EAAIV,GAAgB,OAAOU,EAC9B,GAAGA,EAAIj2E,KAAM,CACZ,IAAItE,EAAQ,GACZA,EAAM2iC,EAAI,EACV43C,EAAIj2E,MAAMy+B,IACT6Y,EAAIk+B,GAAkB/2C,EACtBi3C,EAAah6E,EAAM,IAChB5V,IACHwxD,EAAIm+B,GAAgB3vF,EACpB4vF,EAAah6E,EAAM,IAEpB,IAAI47C,EAAM,CAAC,EAEX,OADAA,EAAIi+B,GAAkB3+F,GAAQA,EAAG8kB,GAC1B47C,CACR,CACD,CACA,IAAI4+B,EAAM,CAAC,EAGX,OAFAA,EAAIX,GAAiB1/F,MACrBqgG,EAAIV,GAAkBS,EACfC,CAAG,IAkBKC,CAASjlE,GAEvB,IAAIklE,EAAY,IAAOR,EAAY9pE,KAAKuyB,IACvC,GAAGA,EAAEo3C,GAAe,MAAMp3C,EAAEo3C,GAC5B,OAAOp3C,EAAEm3C,EAAe,IAErBO,EAAU,IAAIhrD,SAASnjB,KAC1BhxB,EAAK,IAAOgxB,EAAQwuE,IACjB33C,EAAI,EACP,IAAI43C,EAAWC,GAAOA,IAAM56E,IAAUo6E,EAAU3tF,IAAImuF,KAAOR,EAAU5yF,IAAIozF,GAAIA,IAAMA,EAAEj4C,IAAMznD,EAAG6nD,IAAK63C,EAAEv7F,KAAKnE,KAC1Gg/F,EAAY9pE,KAAKmqE,GAASA,EAAIV,GAAec,IAAU,IAExD,OAAOz/F,EAAG6nD,EAAIs3C,EAAUK,GAAW,IAChCl4F,IAAUA,EAAM8sC,EAAO+qD,EAAQN,GAAgBv3F,GAAO23F,EAAa7vC,GAAW0vC,EAAah6E,MAC/FA,GAASA,EAAM2iC,EAAI,IAAM3iC,EAAM2iC,EAAI,EAAE,MC9DtC82C,EAAoB92C,EAAI,CAAC2H,EAASuwC,KACjC,IAAI,IAAI5lF,KAAO4lF,EACXpB,EAAoBjjB,EAAEqkB,EAAY5lF,KAASwkF,EAAoBjjB,EAAElsB,EAASr1C,IAC5Exa,OAAOgB,eAAe6uD,EAASr1C,EAAK,CAAE1L,YAAY,EAAMF,IAAKwxF,EAAW5lF,IAE1E,ECNDwkF,EAAoBjjB,EAAI,CAAC5a,EAAKk/B,IAAUrgG,OAAOiB,UAAU+E,eAAe3E,KAAK8/D,EAAKk/B,GCClFrB,EAAoB12C,EAAKuH,IACH,qBAAXnyD,QAA0BA,OAAO4iG,aAC1CtgG,OAAOgB,eAAe6uD,EAASnyD,OAAO4iG,YAAa,CAAEz+F,MAAO,WAE7D7B,OAAOgB,eAAe6uD,EAAS,aAAc,CAAEhuD,OAAO,GAAO,ECL9Dm9F,EAAoBv0F,EAAI,qCCGEu0F,EAAoB","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","components/Game.js","../../sim/cif-au/src/AUNLG.js","App.js","../../sim/cif-spe-bridge/llm-nlg.js","../../sim/cif-au/src/util.js","../../sim/cif-au/src/CiF.js","../../sim/cif-au/src|lazy|/^.*cast/.json$/|groupOptions: {}|strict namespace object","../../sim/cif-au/src/Validate.js","../node_modules/react/cjs/react.production.js","../node_modules/react-dom/client.js","../../sim/cif-au/src/PracticeManager.js","../../sim/cif-au/src|lazy|/^.*schema/.json$/|groupOptions: {}|strict namespace object","../../sim/cif-au/src/ActionLibrary.js","components/ActionInfoOverlay.js","components/PracticeView.js","../../sim/cif-au/src|lazy|/^.*microtheories/.json$/|groupOptions: {}|strict namespace object","../node_modules/react/jsx-runtime.js","../../sim/cif-au/src/Volition.js","../../sim/cif-au/src/cif-interface.js","../../sim/cif-au/src|lazy|/^.*goals/.json$/|groupOptions: {}|strict namespace object","../node_modules/react-dom/cjs/react-dom.production.js","../../sim/cif-au/src|lazy|/^.*nlg/.json$/|groupOptions: {}|strict namespace object","logo.svg","../../sim/cif-au/src|lazy|/^.*socialPractices/.json$/|groupOptions: {}|strict namespace object","../node_modules/react/cjs/react-jsx-runtime.production.js","index.js","../../sim/cif-au/src/SFDB.js","../node_modules/scheduler/index.js","../../sim/cif-au/src|lazy|/^.*history/.json$/|groupOptions: {}|strict namespace object","../node_modules/scheduler/cjs/scheduler.production.js","../../sim/cif-au/src/RuleLibrary.js","components/CharacterSelector.js","components/PracticeSelector.js","components/SelectPracticeView.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/async module","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/startup"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import React, { useState } from 'react';\nimport './Game.css';\nimport SelectPracticeView from './SelectPracticeView';\n// import SelectActionView from './SelectActionView';\n// import PerformanceView from './PerformanceView';\nimport PracticeView from './PracticeView';\n\nimport * as cifInterface from '../sim/cif-au/src/cif-interface.js';\n\ncifInterface.initializeCiF();\n\nfunction Game() {\n  const [initiator, setInitiator] = useState(null);\n  const [responder, setResponder] = useState(null);\n  const [selectedPractice, setSelectedPractice] = useState('');\n  const [isInteractionStarted, setIsInteractionStarted] = useState(false);\n  const [currentView, setCurrentView] = useState('practice');\n  const [actions, setActions] = useState([]);\n  const [currentPerformanceInfo, setCurrentPerformanceInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isContinueLoading, setIsContinueLoading] = useState(false);\n  const [actionLabel, setActionLabel] = useState('');\n  const [isTerminal, setIsTerminal] = useState(false);\n\n  const handlePracticeStart = () => {\n    if (!initiator || !responder || !selectedPractice) {\n      alert('Please select both characters and a social practice before starting.');\n      return;\n    }\n    cifInterface.launchPractice(selectedPractice, initiator.name, responder.name);\n    cifInterface.getActions();\n    setActions(cifInterface.mostRecentVolitionInfo.actions);\n    setIsInteractionStarted(true);\n    setCurrentView('action');\n  };\n\n  const handleActionSelected = async (actionLabel) => {\n    setIsLoading(true);\n    setActionLabel(actionLabel);\n    try {\n      let actionPerformedInfo = await cifInterface.performAction(actionLabel);\n      setCurrentPerformanceInfo(actionPerformedInfo);\n      console.log(actionPerformedInfo);\n\n      setIsContinueLoading(true);\n      try {\n        let terminal = await cifInterface.isTerminal();\n        setIsTerminal(terminal);\n  \n        if (!terminal) {\n          cifInterface.getActions();\n          setActions(cifInterface.mostRecentVolitionInfo.actions);\n          let tmp = initiator;\n          setInitiator(responder);\n          setResponder(tmp);\n        } \n      } finally {\n        setIsContinueLoading(false);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n\n  const handleChooseNextInteraction = () => {\n    setIsTerminal(false);\n    setIsInteractionStarted(false);\n    setInitiator(null);\n    setResponder(null);\n    setSelectedPractice('');\n    setActions([]);\n    setCurrentPerformanceInfo(null);\n  };\n\n  const handlePracticeSelected = (practice) => {\n    // cifInterface.getActions();\n    // console.log(cifInterface.mostRecentVolitionInfo.actions);\n    // setActions(cifInterface.mostRecentVolitionInfo.actions);\n  };\n\n  const getCurrentView = () => {\n    if (!isInteractionStarted) {\n      return (\n        <SelectPracticeView\n          initiator={initiator}\n          setInitiator={setInitiator}\n          responder={responder}\n          setResponder={setResponder}\n          selectedPractice={selectedPractice}\n          setSelectedPractice={setSelectedPractice}\n          handlePracticeStart={handlePracticeStart}\n          rawCast={cifInterface.cif.rawCast}\n          rawPractices={cifInterface.cif.rawPractices}\n          handlePracticeSelected={handlePracticeSelected}\n        />\n      );\n    }\n\n    if (isInteractionStarted) {\n      return (\n        <PracticeView\n          initiator={initiator}\n          responder={responder}\n          selectedPractice={selectedPractice}\n          onActionSelected={handleActionSelected}\n          actions={actions}\n          isLoading={isLoading}\n          cifInterface={cifInterface}\n          performanceInfo={currentPerformanceInfo}\n          action={currentPerformanceInfo?.chosenAction || actionLabel}\n          volitionInfoAsStrings={cifInterface.mostRecentVolitionInfo?.volitionInfoAsStrings}\n          isTerminal={isTerminal}\n          onChooseNextInteraction={handleChooseNextInteraction}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"game-container\">\n      {getCurrentView()}\n    </div>\n  );\n}\n\nexport default Game; ","\r\nimport cif from \"./CiF.js\";\r\n\r\nvar AUNLG = {};\r\n\r\nvar dataDelimiter = \",\";\r\nvar practiceRecord = {};\r\nvar currentPracticeLabel = \"\";\r\nvar currentStageLabel = \"\";\r\nvar currentActionLabel = \"\";\r\nvar LiteralLocution = (function () {\r\n    function LiteralLocution(pRawDialogue) {\r\n        this.rawText = pRawDialogue;\r\n    }\r\n    LiteralLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        if (pCharacterRole === void 0) { pCharacterRole = undefined; }\r\n        if (pBindings === void 0) { pBindings = undefined; }\r\n        return this.rawText;\r\n    };\r\n    return LiteralLocution;\r\n})();\r\nvar CharacterLocution = (function () {\r\n    function CharacterLocution(pRawOption) {\r\n        if (pRawOption === void 0) { pRawOption = undefined; }\r\n        this.rawText = typeof (pRawOption) !== \"undefined\"\r\n            ? parseLocutionData(pRawOption, dataDelimiter)[0]\r\n            : undefined;\r\n    }\r\n    CharacterLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        var characterData = getCharacterData(pCharacterRole, pBindings);\r\n        var name = characterData.name;\r\n        if (\"possessive\" === this.rawText) {\r\n            name += name.charAt(name.length - 1).toLowerCase() === \"s\" ? \"'\" : \"'s\";\r\n        }\r\n        return name;\r\n    };\r\n    return CharacterLocution;\r\n})();\r\nvar CharacterValueLocution = (function () {\r\n    function CharacterValueLocution(pCharacterKey) {\r\n        this.rawText = pCharacterKey;\r\n        this.role = parseLocutionData(pCharacterKey, dataDelimiter)[0];\r\n        this.charDataLabel = parseLocutionData(pCharacterKey, dataDelimiter)[1];\r\n    }\r\n    CharacterValueLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        var characterData = getCharacterData(this.role, pBindings);\r\n        var value = characterData[this.charDataLabel];\r\n        return typeof (value) !== \"undefined\" ? value : \"\";\r\n    };\r\n    return CharacterValueLocution;\r\n})();\r\nvar GenderedLocution = (function () {\r\n    function GenderedLocution(pRawDialogue) {\r\n        this.rawText = pRawDialogue;\r\n        var rawChoices = parseLocutionData(pRawDialogue, dataDelimiter)[0];\r\n        var splitChoices = rawChoices.split(\"/\");\r\n        this.maleChoice = splitChoices[0];\r\n        this.femaleChoice = splitChoices[1];\r\n        this.nonBinaryChoice = splitChoices.length === 3 ? splitChoices[2] : \"\";\r\n    }\r\n    GenderedLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        var characterData = getCharacterData(\"y\", pBindings);\r\n        return characterData.genderIdentity === \"male\"\r\n            ? this.maleChoice\r\n            : characterData.genderIdentity === \"female\"\r\n                ? this.femaleChoice\r\n                : this.nonBinaryChoice;\r\n    };\r\n    return GenderedLocution;\r\n})();\r\nvar RandomLocution = (function () {\r\n    function RandomLocution(pRawDialogue) {\r\n        this.choices = [];\r\n        this.rawText = pRawDialogue;\r\n        this.choices = parseLocutionData(pRawDialogue, dataDelimiter);\r\n    }\r\n    RandomLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        if (pCharacterRole === void 0) { pCharacterRole = undefined; }\r\n        if (pBindings === void 0) { pBindings = undefined; }\r\n        var randomNumber = Math.floor(Math.random() * this.choices.length);\r\n        return this.choices[randomNumber];\r\n    };\r\n    return RandomLocution;\r\n})();\r\nvar RepeatVariationLocution = (function () {\r\n    function RepeatVariationLocution(pRawDialogue) {\r\n        this.choices = [];\r\n        this.rawText = pRawDialogue;\r\n        this.choices = parseLocutionData(pRawDialogue, dataDelimiter);\r\n    }\r\n    RepeatVariationLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        if (pCharacterRole === void 0) { pCharacterRole = undefined; }\r\n        if (pBindings === void 0) { pBindings = undefined; }\r\n        var recordIndex = pBindings.x + \"-\" + pBindings.y + \"-\" + currentPracticeLabel + \"-\" + currentStageLabel + \"-\" + currentActionLabel;\r\n        var index = 0;\r\n        if (practiceRecord[recordIndex] !== undefined) {\r\n            index = practiceRecord[recordIndex] % this.choices.length;\r\n        }\r\n        return this.choices[index];\r\n    };\r\n    return RepeatVariationLocution;\r\n})();\r\nfunction updatePracticeRecord(recordIndex) {\r\n    if (practiceRecord[recordIndex] === undefined) {\r\n        practiceRecord[recordIndex] = 0;\r\n    }\r\n    else {\r\n        practiceRecord[recordIndex] += 1;\r\n    }\r\n}\r\nAUNLG.updatePracticeRecord = updatePracticeRecord;\r\nfunction decrementPracticeRecord(recordIndex) {\r\n    if (practiceRecord[recordIndex] !== undefined) {\r\n        if (practiceRecord[recordIndex] <= 0) {\r\n            practiceRecord[recordIndex] = undefined;\r\n        }\r\n        else {\r\n            practiceRecord[recordIndex] -= 1;\r\n        }\r\n    }\r\n}\r\nAUNLG.decrementPracticeRecord = decrementPracticeRecord;\r\nfunction setCurrentPracticeStateInfo(plabel, slabel, alabel) {\r\n    currentPracticeLabel = plabel;\r\n    currentStageLabel = slabel;\r\n    currentActionLabel = alabel;\r\n}\r\nAUNLG.setCurrentPracticeStateInfo = setCurrentPracticeStateInfo;\r\nvar SpecializedLocution = (function () {\r\n    function SpecializedLocution(pToken) {\r\n        this.specializedWord = parseLocutionData(pToken, dataDelimiter)[0];\r\n    }\r\n    SpecializedLocution.prototype.renderText = function (pCharacterRole, pBindings) {\r\n        var characterData = getCharacterData(pCharacterRole, pBindings);\r\n        var specialWord = characterData.specialWords[this.specializedWord];\r\n        return typeof (specialWord) !== \"undefined\" ? specialWord : \"\";\r\n    };\r\n    return SpecializedLocution;\r\n})();\r\nfunction getCharacterData(pCharacterRole, pBindings) {\r\n    var cast = cif.getCharactersWithMetadata();\r\n    var characterName = pBindings[pCharacterRole];\r\n    for (var _i = 0, cast_1 = cast; _i < cast_1.length; _i++) {\r\n        var character = cast_1[_i];\r\n        if (character.name === characterName) {\r\n            return character;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction parseLocutionData(pRawData, pDelim) {\r\n    var dataValue = \"\";\r\n    var escapeChar = \"\\\\\";\r\n    var singleQuote = \"'\";\r\n    var allValues = [];\r\n    var isSpaceValid = false;\r\n    if (\"(\" != pRawData.charAt(0) || \")\" != pRawData.charAt(pRawData.length - 1)) {\r\n        try {\r\n            throw new Error(\"Locution data is invalid, missing surrounding \" +\r\n                \"parentheses in: \" + pRawData);\r\n        }\r\n        catch (e) {\r\n            console.log(e.name + \": \" + e.message);\r\n            return undefined;\r\n        }\r\n    }\r\n    pRawData = pRawData.slice(1, pRawData.length - 1);\r\n    var i;\r\n    for (i = 0; i < pRawData.length; i++) {\r\n        var theChar = pRawData.charAt(i);\r\n        if (theChar === pDelim) {\r\n            if (dataValue) {\r\n                allValues.push(dataValue);\r\n            }\r\n            dataValue = \"\";\r\n            isSpaceValid = false;\r\n        }\r\n        else if (theChar === escapeChar) {\r\n            dataValue += pRawData.charAt(i + 1);\r\n            i += 1;\r\n        }\r\n        else if (theChar === \" \") {\r\n            if (isSpaceValid) {\r\n                dataValue += theChar;\r\n            }\r\n        }\r\n        else if (theChar === singleQuote) {\r\n            isSpaceValid = !isSpaceValid;\r\n        }\r\n        else {\r\n            dataValue += theChar;\r\n        }\r\n    }\r\n    if (dataValue) {\r\n        allValues.push(dataValue);\r\n    }\r\n    return allValues;\r\n}\r\nfunction preprocessDialogue(pRawDialogue) {\r\n    var SYM = \"%\";\r\n    var token = \"\";\r\n    var LocType;\r\n    (function (LocType) {\r\n        LocType[LocType[\"LITERAL\"] = 0] = \"LITERAL\";\r\n        LocType[LocType[\"NONLITERAL\"] = 1] = \"NONLITERAL\";\r\n    })(LocType || (LocType = {}));\r\n    var currentType = LocType.LITERAL;\r\n    var locutionList = [];\r\n    function createLocution(pToken) {\r\n        function trimType(pSource, pTypeString) {\r\n            return pSource.slice(pTypeString.length, pSource.length);\r\n        }\r\n        if (pToken.indexOf(\"random\") === 0) {\r\n            return new RandomLocution(trimType(pToken, \"random\"));\r\n        }\r\n        else if (pToken.indexOf(\"repeatVariation\") === 0) {\r\n            return new RepeatVariationLocution(trimType(pToken, \"repeatVariation\"));\r\n        }\r\n        else if (pToken.indexOf(\"specialized\") === 0) {\r\n            return new SpecializedLocution(trimType(pToken, \"specialized\"));\r\n        }\r\n        else if (pToken.indexOf(\"gendered\") === 0) {\r\n            return new GenderedLocution(trimType(pToken, \"gendered\"));\r\n        }\r\n        else if (pToken.indexOf(\"characterValue\") === 0) {\r\n            return new CharacterValueLocution(trimType(pToken, \"characterValue\"));\r\n        }\r\n        else if (pToken.indexOf(\"charVal\") === 0) {\r\n            return new CharacterValueLocution(trimType(pToken, \"charVal\"));\r\n        }\r\n        else if ([\"x\", \"y\", \"z\"].indexOf(pToken.charAt(0)) >= 0) {\r\n            var trimmed = (pToken.length > 1) ? trimType(pToken, \"x\") : undefined;\r\n            return new CharacterLocution(trimmed);\r\n        }\r\n        else {\r\n            console.log(\"Unknown locution type: %s\", pToken);\r\n            return undefined;\r\n        }\r\n    }\r\n    var i;\r\n    for (i = 0; i < pRawDialogue.length; i++) {\r\n        if (pRawDialogue.charAt(i) === SYM) {\r\n            if (currentType === LocType.LITERAL) {\r\n                if (token.length !== 0) {\r\n                    locutionList.push(new LiteralLocution(token));\r\n                }\r\n                currentType = LocType.NONLITERAL;\r\n            }\r\n            else if (currentType === LocType.NONLITERAL) {\r\n                if (token.length != 0) {\r\n                    var loc = createLocution(token);\r\n                    if (loc) {\r\n                        locutionList.push(loc);\r\n                    }\r\n                }\r\n                currentType = LocType.LITERAL;\r\n            }\r\n            token = \"\";\r\n        }\r\n        else {\r\n            token += pRawDialogue.charAt(i);\r\n        }\r\n    }\r\n    if (token) {\r\n        locutionList.push(new LiteralLocution(token));\r\n    }\r\n    return locutionList;\r\n}\r\nAUNLG.preprocessDialogue = preprocessDialogue;\r\nexport default AUNLG;","import logo from './logo.svg';\nimport './App.css';\nimport Game from './components/Game.js';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n\n        <Game/>\n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import * as cifInterface from '../cif-au/src/cif-interface.js';\n\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\nimport { HarmBlockThreshold, HarmCategory } from \"@google/generative-ai\";\n// const { GoogleGenerativeAI } = require(\"@google/generative-ai\");\n\nconst API_KEY = \"AIzaSyCextjQTBFbPcbhCsGwdWeYARTXK-zvbPI\";\nconst whichGeneratorAPI = \"gemini\"; // supported: gemini, ollama\nconst ollamaModel = \"tulu3\";\n\n// minimal, diegetic, state, instructions, emphasis, shots\nlet promptStyle = \"emphasis\";\n\nconst emphasisSymbolStart = \"\";//\"<emphasize>\";\nconst emphasisSymbolEnd = \"\";//\"</emphasize>\";\n\nlet config_modes = {\n    minimal: {\n        personify: true,\n        shots: false,\n        generalContext: true,\n        interactionHistory: false,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: false,\n        nowRules: false,\n        mtWithPositiveWeight: false,\n        mtWithNegativeWeight: false,\n        mtWithPositiveWeightOtherIntents: false,\n        mtWithNegativeWeightOtherIntents: false,\n        actionName: true,\n        effects: false,\n        playerFocusedDialogue: false,\n        speechStyle: false,\n        knowledgeOfNames: false,\n        pronouns: false,\n        characterNotes: false,\n        plead: false,\n        noteToLLM: false,\n        avoidStiltedness: false,\n        genre: false,\n        requestToLLM: true,\n        emphasisPriority: false\n    },\n    diegetic: {\n        personify: true,\n        shots: false,\n        generalContext: true,\n        interactionHistory: true,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: false,\n        nowRules: false,\n        mtWithPositiveWeight: false,\n        mtWithNegativeWeight: false,\n        mtWithPositiveWeightOtherIntents: false,\n        mtWithNegativeWeightOtherIntents: false,\n        actionName: true,\n        effects: false,\n        playerFocusedDialogue: true,\n        speechStyle: true,\n        knowledgeOfNames: false,\n        pronouns: false,\n        characterNotes: true,\n        plead: false,\n        noteToLLM: false,\n        avoidStiltedness: false,\n        genre: false,\n        requestToLLM: true,\n        emphasisPriority: false\n    },\n    state: {\n        personify: true,\n        shots: false,\n        generalContext: true,\n        interactionHistory: true,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: true,\n        nowRules: true,\n        mtWithPositiveWeight: true,\n        mtWithNegativeWeight: true,\n        mtWithPositiveWeightOtherIntents: true,\n        mtWithNegativeWeightOtherIntents: true,\n        actionName: true,\n        effects: true,\n        playerFocusedDialogue: true,\n        speechStyle: true,\n        knowledgeOfNames: true,\n        pronouns: true,\n        characterNotes: true,\n        plead: false,\n        noteToLLM: false,\n        avoidStiltedness: false,\n        genre: false,\n        requestToLLM: true,\n        emphasisPriority: false\n    },\n    instructions: {\n        personify: true,\n        shots: false,\n        generalContext: true,\n        interactionHistory: true,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: true,\n        nowRules: true,\n        mtWithPositiveWeight: true,\n        mtWithNegativeWeight: true,\n        mtWithPositiveWeightOtherIntents: true,\n        mtWithNegativeWeightOtherIntents: true,\n        actionName: true,\n        effects: true,\n        playerFocusedDialogue: true,\n        speechStyle: true,\n        knowledgeOfNames: true,\n        pronouns: true,\n        characterNotes: true,\n        plead: true,\n        noteToLLM: true,\n        avoidStiltedness: true,\n        genre: true,\n        requestToLLM: true,\n        emphasisPriority: false\n    },\n    emphasis: {\n        personify: true,\n        shots: false,\n        generalContext: true,\n        interactionHistory: true,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: true,\n        nowRules: true,\n        mtWithPositiveWeight: true,\n        mtWithNegativeWeight: true,\n        mtWithPositiveWeightOtherIntents: true,\n        mtWithNegativeWeightOtherIntents: true,\n        actionName: true,\n        effects: true,\n        playerFocusedDialogue: true,\n        speechStyle: true,\n        knowledgeOfNames: true,\n        pronouns: true,\n        characterNotes: true,\n        plead: true,\n        noteToLLM: true,\n        avoidStiltedness: true,\n        genre: true,\n        requestToLLM: true,\n        emphasisPriority: true\n    },\n    shots: {\n        personify: true,\n        shots: true,\n        generalContext: true,\n        interactionHistory: true,\n        previousDialogue: true,\n        speakerAndIntent: true,\n        preconditions: true,\n        nowRules: true,\n        mtWithPositiveWeight: true,\n        mtWithNegativeWeight: true,\n        mtWithPositiveWeightOtherIntents: true,\n        mtWithNegativeWeightOtherIntents: true,\n        actionName: true,\n        effects: true,\n        playerFocusedDialogue: true,\n        speechStyle: true,\n        knowledgeOfNames: true,\n        pronouns: true,\n        characterNotes: true,\n        plead: true,\n        noteToLLM: true,\n        avoidStiltedness: true,\n        genre: true,\n        requestToLLM: true,\n        emphasisPriority: true\n    }\n}\n\nconst promptConfig = {\n    personify: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: -9999,\n        useTag: false,\n        tag: \"PERSONIFY\"\n    },\n    shots: {\n        include: true,\n        emphasize: false,\n        count: 2,\n        telegraphExamples: true,\n        rationale: false,\n        order: -999999,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"SHOTS\"\n    },\n    // emphasisSymbol: {\n    //     include: false,\n    //     emphasize: false,\n    //     importance: -1,\n    //     order: 0,\n    //     useTag: false,\n    //     tag: \"EMPHASIS\"\n    // },\n    generalContext: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 10,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"GENERAL-CONTEXT\"\n    },\n    interactionHistory: {\n        include: true,\n        emphasize: true,\n        importance: 1,\n        order: 20,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"INTERACTION-HISTORY\"\n    },\n    previousDialogue: {\n        include: true,\n        emphasize: true,\n        importance: 10,\n        order: 40,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"CURRENT-CONVERSATION\"\n    },\n    speakerAndIntent: {\n        include: true,\n        emphasize: true,\n        importance: 9,\n        order: 50,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"SPEAKER-INTENT\"\n    },\n    preconditions: {\n        include: true,\n        emphasize: true,\n        importance: 0,\n        order: 60,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"PRECONDITIONS\"\n    },\n    nowRules: {\n        include: true,\n        emphasize: false,\n        importance: 0,\n        order: 61,\n        useTag: false,\n        eligibleForTag: true,\n        tag: \"NOW-RULES\"\n    },\n    mtWithPositiveWeight: {\n        include: true,\n        emphasize: true,\n        importance: 4,\n        order: 70,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"MOTIVATIONS\"\n    },\n    mtWithNegativeWeight: {\n        include: false,\n        emphasize: false,\n        importance: -1,\n        order: 80,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"RESERVATIONS\"\n    },\n    mtWithPositiveWeightOtherIntents: {\n        include: true,\n        emphasize: true,\n        importance: 4,\n        order: 81,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"MOTIVATIONS-FOR-OTHER-ACTIONS\"\n    },\n    mtWithNegativeWeightOtherIntents: {\n        include: false,\n        emphasize: false,\n        importance: -1,\n        order: 82,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"RESERVATIONS-FOR-OTHER-ACTIONS\"\n    },\n    actionName: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 90,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"ACTION-NAME\"\n    },\n    effects: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 100,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"STATE-CHANGES\"\n    },\n    playerFocusedDialogue: {\n        include: true,\n        emphasize: true,\n        importance: 3,\n        order: 120,\n        useTag: false,\n        eligibleForTag: true,\n        tag: \"ACTION-SUMMARY\"\n    },\n    speechStyle: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 140,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"SPEECH-STYLE\"\n    },\n    knowledgeOfNames: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 184,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"KNOWLEDGE-OF-NAMES\"\n    },\n    pronouns: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 150,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"PRONOUNS\"\n    },\n    characterNotes: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 151,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"CHARACTER-NOTES\"\n    },\n    plead: {\n        include: true,\n        emphasize: false,\n        importance: 4,\n        order: 130,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"PLEAD\"\n    },\n    noteToLLM: {\n        include: true,\n        emphasize: true,\n        importance: 8,\n        order: 132,\n        useTag: true,\n        eligibleForTag: true,\n        tag: \"ACTION-NOTE-TO-LLM\"\n    },\n    avoidStiltedness: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 160,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"GENERATOR-REFINEMENTS\"\n    },\n    genre: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 170,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"GENRE\"\n    },\n    requestToLLM: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 185,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"REQUEST\"\n    },    \n    emphasisPriority: {\n        include: true,\n        emphasize: false,\n        importance: -1,\n        order: 186,\n        useTag: false,\n        eligibleForTag: false,\n        tag: \"EMPHASIZE\"\n    }\n}\n\n\n\n\nlet exampleShots = [\n    {\n        prompt: `INPUT:\nYou are a writer trying to come up with an appropriate line of dialogue for a character to say in a complex situation.\n\nClaire and Simon are in a conversation inside a pizza parlor.\n<br>Claire and Simon are engaged in a conversation that can generally be described as: Talk About Pizza.\n\nHere is a list of Claire and Simon's history of interactions in the recent past:\n- Simon ordered food from Claire, and because she was on break, she responded with sarcasm saying she didn't know what he meant.\n- During a conversation, Simon shared trivia about pizza being a pie to Claire, who sarcastically responded due to her experience in the food industry.\n\nSo far, this is what they have said in this discussion: \n- Simon said the following with the intent of flirt: \"You know, you seem to know quite a bit about pizza, being in the food industry and what-not. I was gonna ask you what pizza you'd recommend to somebody who knows nothing about pizza, but I think you already know the perfect pizza for me.\". \n\nClaire is going to respond with the intent of being rude.\n\nThis action was only available to be selected because the following precondition was met: \n- Claire is not dining_partner Simon\n\nThe reasons Claire has the intent of being rude to Simon are:\n- People are more rude to people they haven't met (i.e. Claire is not met Simon -> intent to rude +2)\n- People are a little more rude to people they don't feel friendly with (i.e. Claire has less than 4 friend for Simon -> intent to rude +4)\n- People are much more rude to those that they don't respect (i.e. Claire has less than 4 respect for Simon -> intent to rude +4)\n- Employees are more rude to non-employees when they are on break (i.e. Claire is on_break, Claire is employee, Simon is not employee -> intent to rude +2)\n\nThe reservations Claire has about having the intent of being rude to Simon are:\n- People are less rude to those who have flirted with them recently (i.e. Simon was flirted_with Claire -> intent to rude -2)\n\nThe way Claire is going to act can be generally be described as 'Brush off unsolicited pizza talk' (with the intent of being rude).\n\nAfter this action, the social state will be changed in the following ways: \n- Claire has 1 less respect for Simon\n- Claire is was_rude_to Simon\n\nThe line should come across as communicating someting along the lines as 'Why are you talking to me?', but with more detail.\n\nThe line should be two sentence at most, and should use simple language. Also, try to represent the reasons they intend to respond in that way in the line of dialogue as much as possible. Additionally, try to have them refer to their history of interactions from the past listed above.\n\nClaire's style of speech should be able to be described as relaxed.\n\nClaire uses the pronouns she/her, and Simon uses the pronouns he/him.\n\nBefore you generate the line, most of the time the dialogue that you generate sounds overly formal. Please try to make the line sound conversational and informal if anything.\n\nThe generated line of dialogue should be in the style of a television sitcom line of dialogue.\n\nClaire and Simon do not know each other's names.\n\nPlease create a single line of dialogue that Claire would say in the situation just described.\n\nThe line of dialogue should try to emphasize the content contained within the following tags using the following order of priority:\n1. <CURRENT-CONVERSATION></CURRENT-CONVERSATION>\n2. <SPEAKER-INTENT></SPEAKER-INTENT>\n3. <MOTIVATIONS></MOTIVATIONS>\n4. <ACTION-SUMMARY></ACTION-SUMMARY>\n5. <INTERACTION-HISTORY></INTERACTION-HISTORY>\n6. <PRECONDITIONS></PRECONDITIONS>\n\n\nOUTPUT:\\n`,\n        response: `Look, I don't respect you, I don't want to flirt with you, and I certainly don't want to waste the last 10 minutes of my break discussing pizza trivia with a stranger.\\n`\n    },\n    {\n        prompt: `INPUT:\nYou are a writer trying to come up with an appropriate line of dialogue for a character to say in a complex situation.\n\n<GENERAL-CONTEXT>\nEdward and Tara are in a conversation inside a pizza parlor.\nEdward and Tara are engaged in a conversation that can generally be described as: Small Talk.\n</GENERAL-CONTEXT>\n\n<INTERACTION-HISTORY>\nHere is a list of Edward and Tara's history of interactions in the recent past:\n- Tara and Edward joked about Tara's legendary pizza-eating abilities, sharing humorous anecdotes from the past.\n- Tara and Edward flirtatiously discussed her competitive pizza-eating abilities and Edward's charm.\n</INTERACTION-HISTORY>\n\n<CURRENT-CONVERSATION>\nSo far, this is what they have said in this discussion: \n- Tara said the following with the intent of impress: \"Did you know that ancient Roman pizza was more like an herbed flatbread than a modern pizza? I don't know why, but I always found that to be fascinating.\". \n</CURRENT-CONVERSATION>\n\n<SPEAKER-INTENT>\nEdward is going to respond with the intent of being kind.\n</SPEAKER-INTENT>\n\n<MOTIVATIONS>\nThe reasons Edward has the intent of being kind to Tara are:\n- People are kind to people they have high friendly feelings for (i.e. Edward has more than 7 friend for Tara -> intent to kind +3)\n- Loyal people are kind (i.e. Edward is loyal -> intent to kind +1)\n- Friendly people are kind (i.e. Edward is friendly -> intent to kind +3)\n- People are nice to friends of their family (i.e. Edward is family Simon, Tara is not family Edward, Tara is not family Simon, Tara has more than 7 friend for Simon -> intent to kind +3)\n</MOTIVATIONS>\n\n<RESERVATIONS>\n</RESERVATIONS>\n\nThe way Edward is going to act can be generally be described as 'Just a normal chat chat response to someone they like' (with the intent of being kind).\n\n<STATE-CHANGES>\nAfter this action, the social state will be changed in the following way: \n- Edward has 1 more friend for Tara\n</STATE-CHANGES>\n\nThe line should come across as communicating someting along the lines as 'Cool, what's new with you?', but with more detail.\n\nThe line should be two sentence at most, and should use simple language. Also, try to represent the reasons they intend to respond in that way in the line of dialogue as much as possible. Additionally, try to have them refer to their history of interactions from the past listed above.\n\nEdward's style of speech should be able to be described as formal.\n\nEdward uses the pronouns he/him, and Tara uses the pronouns she/her.\n\nBefore you generate the line, most of the time the dialogue that you generate sounds overly formal. Please try to make the line sound conversational and informal if anything.\n\nThe generated line of dialogue should be in the style of a television sitcom line of dialogue.\n\nEdward and Tara know each other's names.\n\nPlease create a single line of dialogue that Edward would say in the situation just described.\n\nThe line of dialogue should try to emphasize the content contained within the following tags using the following order of priority:\n1. <CURRENT-CONVERSATION></CURRENT-CONVERSATION>\n2. <SPEAKER-INTENT></SPEAKER-INTENT>\n3. <MOTIVATIONS></MOTIVATIONS>\n4. <ACTION-SUMMARY></ACTION-SUMMARY>\n5. <INTERACTION-HISTORY></INTERACTION-HISTORY>\n6. <PRECONDITIONS></PRECONDITIONS>\n\n\nOUTPUT:\\n`,\n        response: `That's fascinating. Simon and I were just talking about how smart you are. How are you doing? What else is new?\\n`\n    }\n]\n\nasync function getGeneratedText(prompt) {\n    if (whichGeneratorAPI == \"gemini\") {\n        return getGeminiText(prompt);\n    }\n    if (whichGeneratorAPI == \"ollama\") {\n        return getOllamaText(prompt);\n    }\n    throw new Error(\"Unrecognized generator API: \" + whichGeneratorAPI);\n}\n\n// Access your API key (see \"Set up your API key\" above)\nconst genAI = new GoogleGenerativeAI(API_KEY);\n\nasync function getGeminiText(prompt) {\n    const generationConfig = {\n        maxOutputTokens: 100,\n//        temperature: 0.9, // randomness\n//        topP: 0.1,\n//        topK: 16,\n    };\n    const safetySettings = [\n        {\n            category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n            threshold: HarmBlockThreshold.BLOCK_ONLY_HIGH,\n        },\n        {\n            category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n            threshold: HarmBlockThreshold.BLOCK_ONLY_HIGH,\n        },\n        {\n            category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n            threshold: HarmBlockThreshold.BLOCK_ONLY_HIGH,\n        },\n        {\n            category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n            threshold: HarmBlockThreshold.BLOCK_ONLY_HIGH,\n        },\n    ];\n\n    const model = genAI.getGenerativeModel(\n      { model: \"gemini-pro\",\n        generationConfig: generationConfig,\n        safetySettings: safetySettings\n      });\n\n    let text = \"Hi there.\";\n    let gotGoodText = false;\n    let i = 0;\n    while (i < 10 && !gotGoodText) {\n        try {\n            const result = await model.generateContent(prompt);\n            const response = await result.response;\n            text = response.text();\n            gotGoodText = true;\n        } catch(e) {\n            console.log(\"***FORBIDDEN TEXT GENERATED***\");\n            console.log(\"Here is the error\");\n            console.log(e);\n        }\n        i++;\n    }\n    return text;\n}\n\nasync function getOllamaText(prompt) {\n    const query = {\n        model: ollamaModel,\n        prompt: prompt,\n        stream: false\n    };\n    const result = await fetch(\"http://localhost:11434/api/generate\",\n                               { method: \"POST\",\n                                 body: JSON.stringify(query) });\n    const response = await result.json();\n    return response.response;\n}\n\n// const prompt = \"Sam is friends with Ellis. Ellis is Sam's boss. Sam is jealous of Ellis. Joeseph recently made fun of Sam. Now Sam is going to try to say something embarrassing to Ellis. What does Same say? Give me one linbe of dialogue.\";\n// console.log(await getGeminiText(prompt));\n\n// Pull (download) and load (into RAM) model weights on startup, if using a local model via Ollama\nif (whichGeneratorAPI == \"ollama\") {\n    console.log(\"Loading ollama model \" + ollamaModel + \"...\");\n    // pull the model\n    const query = {\n        model: ollamaModel,\n        stream: false\n    };\n    await fetch(\"http://localhost:11434/api/pull\",\n                { method: \"POST\",\n                  body: JSON.stringify(query) });\n    // load the model (by sending an empty prompt)\n    getOllamaText(\"\");\n}\n\nlet generatePrompt = function(config) {\n    let initiatorName = cifInterface.initiatorName;\n    let responderName = cifInterface.responderName;\n\n    //mostRecentVolitionInfo = {\n    //    initiatorName: initiatorName,\n    //    responderName: responderName,\n    //    mts: scoredMTInfos,\n    //    actions: actionInfos,\n    //    selectedAction: selectedAction,\n    //    volitionInfoAsStrings: volitionInfoAsStrings\n    //}\n    //mostRecentActionPerformedInfo = {\n    //    initiator: initiatorName,\n    //    responder: responderName,\n    //    performance: dialogue,\n    //    chosenAction: chosenAction\n    //}\n    //volitionInfoAsStrings = {\n    //    \"intentName\": [\n    //        ruleInfoInStringForm1,\n    //        ruleInfoInStringForm2\n    //     ]\n    //}\n    //ruleInfoInStringForm = {\n    //    \"description\": rule.name,\n    //    \"predicates\": [],\n    //    \"weight\": rule.effects[0].weight,\n    //    \"intent\": mtInfoName\n    //};\n\n    let subPrompts = [];\n\n    let relevantPracticeSummaries = cifInterface.cif.practiceManager.getRelevantPracticeSummaries(initiatorName, responderName);\n    let bindings = cifInterface.mostRecentVolitionInfo.selectedAction.chosenRoleBindings;\n    let practice = cifInterface.cif.practiceManager.getCurrentPractice();\n    let selectedAction = cifInterface.mostRecentVolitionInfo.selectedAction;\n\n    if (config.personify.include) {\n        subPrompts.push({\n            order: config.personify.order,\n            subPrompt: `You are a writer trying to come up with an appropriate line of dialogue for a character to say in a complex situation.\\n`\n        })\n    }\n\n\n    // shots: {\n    //     include: true,\n    //     telegraphExamples: true,\n    //     count: 2,\n    //     order: -999999\n    // },\n    if (config.shots.include) {\n        let exampleCount = (config.shots.count < exampleShots.length) ? config.shots.count : exampleShots.length;\n\n        if (config.shots.telegraphExamples) {\n            subPrompts.push({\n                order: config.shots.order - config.shots.count - 2,\n                subPrompt: `Below are ${exampleCount} examples (between the <EXAMPLE> tags) that show INPUT and appropriate OUTPUT. Try to model your OUTPUT after the examples.\\n`\n            })\n        }\n        for (let i = 0; i < exampleCount; i++) {\n            subPrompts.push({\n                order: config.shots.order - config.shots.count + i - 1,\n                subPrompt: getExampleShotSubPrompt(i, config.shots)\n            })\n        }\n    }\n\n    // General context\n    if (config.generalContext.include) {\n        let subPrompt = `${initiatorName} and ${responderName} are in a conversation inside a pizza parlor.\\n`;\n        subPrompt += \"\\n\";\n        subPrompt += `${initiatorName} and ${responderName} are engaged in a conversation that can generally be described as: ${practice.label}.\\n`;\n        subPrompts.push({\n            order: config.generalContext.order,\n            subPrompt: processSubPrompt(config.generalContext, subPrompt)\n        });\n    }\n\n    // History of recent interactions (a summary string)\n    if (config.interactionHistory.include) {\n        if (relevantPracticeSummaries.length > 0) {\n            let subPrompt = `Here is a list of ${initiatorName} and ${responderName}'s history of interactions in the recent past:\\n`;\n            for (let summary of relevantPracticeSummaries) {\n                subPrompt += `- ${summary.summary}\\n`\n            }\n            subPrompts.push({\n                order: config.interactionHistory.order,\n                subPrompt: processSubPrompt(config.interactionHistory, subPrompt)\n            });\n        }\n    }\n\n    // What has been said in the current practice so far\n    if (config.previousDialogue.include) {\n        if (cifInterface.practiceDialogueHistory.length > 0) {\n            let subPrompt =  \"So far, this is what they have said in this discussion: \\n\";\n            let first = true;\n            for (let history of cifInterface.practiceDialogueHistory) {\n                let line = (first) ? \"said the following\" : \"responded\";\n                first = false;\n                subPrompt += \"- \" + history.speaker + \" \" + line + \" with the intent of \" + history.intent + \": \\\"\" + history.line + \"\\\". \\n\";\n            }\n            subPrompts.push({\n                order: config.previousDialogue.order,\n                subPrompt: processSubPrompt(config.previousDialogue, subPrompt)\n            });\n        }\n    }   \n\n    // Establish who is about to talk and with what intent\n    if (config.speakerAndIntent.include) {\n        let line = (cifInterface.practiceDialogueHistory.length > 0) ? \"respond\" : \"say something\";\n        let subPrompt = initiatorName + \" is going to \" + line + \" with the intent of being \" + selectedAction.intent + \".\\n\"\n        subPrompts.push({\n            order: config.speakerAndIntent.order,\n            subPrompt: processSubPrompt(config.speakerAndIntent, subPrompt)\n        });\n    }\n\n    if (config.preconditions.include) {\n        if (selectedAction.preconditions.length > 0) {\n            let boundPreds = cifInterface.cif.practiceManager.getCloneOfBoundPredicates(selectedAction.preconditions, bindings);\n            let firstPredPrinted = false;\n            let subPrompt = \"\";\n            for (let preconditionPred of boundPreds) {\n                if (!firstPredPrinted) {\n                    subPrompt += \"This action was only available to be selected because the following precondition was met: \\n\"\n                    firstPredPrinted = true;\n                }        \n                // subPrompt += `- ${cif.predicateToEnglish(preconditionPred).text}\\n`;\n                subPrompt += `- ${cifInterface.cif.predicateNLG(preconditionPred).text}\\n`;\n            }\n            subPrompts.push({\n                order: config.preconditions.order,\n                subPrompt: processSubPrompt(config.preconditions, subPrompt)\n            });\n        }\n    }\n\n    let intentClass = cifInterface.cif.rawSchema.schema.find((element) => element.class === \"intent\");\n    let mtInfos = [];\n    for (let intent of intentClass.types) {\n        mtInfos[intent] = getMTsFromMostRecentVolitionInfo(true, intent);\n    }\n    mtInfos.sort( (a,b) => a.score - b.score);\n\n    // let mtToString = getMTsFromMostRecentVolitionInfo(true, mostRecentVolitionInfo.selectedAction.intent);\n    // All of the positive reasons why the speaker has the intent\n    if (config.mtWithPositiveWeight.include) {\n        subPrompts.push({\n            order: config.mtWithPositiveWeight.order,\n            subPrompt: processSubPrompt(config.mtWithPositiveWeight, mtInfos[cifInterface.mostRecentVolitionInfo.selectedAction.intent].positiveCompleteString)\n        });\n    }\n    // All of the reasons why the speaker doesn't have that intent\n    if (config.mtWithNegativeWeight.include) {\n        subPrompts.push({\n            order: config.mtWithNegativeWeight.order,\n            subPrompt: processSubPrompt(config.mtWithNegativeWeight, mtInfos[cifInterface.mostRecentVolitionInfo.selectedAction.intent].negativeCompleteString)\n        });\n    }\n    // Positive other intent rules\n    if (config.mtWithPositiveWeightOtherIntents.include) {\n        let otherIntentsString = \"\";\n        for (let intentKey in mtInfos) {\n            if (intentKey !== cifInterface.mostRecentVolitionInfo.selectedAction.intent) {\n                otherIntentsString += mtInfos[intentKey].positiveCompleteString;\n            }\n            otherIntentsString += \"\\n\";\n        }\n\n        subPrompts.push({\n            order: config.mtWithPositiveWeightOtherIntents.order,\n            subPrompt: processSubPrompt(config.mtWithPositiveWeightOtherIntents, otherIntentsString)\n        });\n    }\n    // Negative other intent rules\n    if (config.mtWithNegativeWeightOtherIntents.include) {\n        let otherIntentsString = \"\";\n        for (let intentKey in mtInfos) {\n            if (intentKey !== cifInterface.mostRecentVolitionInfo.selectedAction.intent) {\n                otherIntentsString += mtInfos[intentKey].negativeCompleteString;\n            }\n            otherIntentsString += \"\\n\";\n        }\n\n        subPrompts.push({\n            order: config.mtWithNegativeWeightOtherIntents.order,\n            subPrompt: processSubPrompt(config.mtWithNegativeWeightOtherIntents, otherIntentsString)\n        });\n    }\n\n    // Establish the name of the action that is about to be taken (with intent)\n    if (config.actionName.include) {\n        let subPrompt = \"The way \" + initiatorName + \" is going to act can be generally be described as '\" + selectedAction.label + \"' (with the intent of being \" + selectedAction.intent + \").\\n\";\n        subPrompts.push({\n            order: config.actionName.order,\n            subPrompt: processSubPrompt(config.actionName, subPrompt)\n        });\n    }\n\n    // How the social state will change after the action is taken\n    if (config.effects.include) {\n        if (selectedAction.effects.length > 0) {\n            let boundPreds = cifInterface.cif.practiceManager.getCloneOfBoundPredicates(selectedAction.effects, bindings);\n            let firstEffectPrinted = false;\n            let subPrompt = \"\";\n            for (let effectPred of boundPreds) {\n                if (!firstEffectPrinted) {\n                    subPrompt += `After this action, the social state will be changed in the following way${(selectedAction.effects.length>1)?\"s\":\"\"}: \\n`\n                    firstEffectPrinted = true;\n                }        \n                subPrompt += \"- \" + cifInterface.cif.predicateNLG(effectPred).text + \"\\n\";\n                // subPrompt += \"- \" + cif.predicateToEnglish(effectPred).text + \"\\n\";\n            }\n            subPrompts.push({\n                order: config.effects.order,\n                subPrompt: processSubPrompt(config.effects, subPrompt)\n            });\n        }\n    }\n\n    // The actual command to generate a line\n    if (config.requestToLLM.include) {\n        let subPrompt = \"Please create a single line of dialogue that \" + initiatorName + \" would say in the situation just described.\\n\";\n        subPrompts.push({\n            order: config.requestToLLM.order,\n            subPrompt: processSubPrompt(config.requestToLLM, subPrompt)\n        });\n    }\n        \n    if (config.emphasisPriority.include) {\n        // Now deal with emphasis\n        let emphasizedSubPrompts = [];\n        for (let configKey in config) {\n            if (config[configKey].include && config[configKey].emphasize) {\n                emphasizedSubPrompts.push(config[configKey]);\n            }\n        }\n        emphasizedSubPrompts.sort((a, b) => (a.importance > b.importance ? -1 : b.importance > a.importance ? 1 : 0));\n\n        let subPrompt = \"\";\n        let count = 0;\n        for (let emphasizedSubPrompt of emphasizedSubPrompts) {\n            if (count === 0) {\n                subPrompt += `The line of dialogue should try to emphasize the content contained within the following tags using the following order of priority:\\n`;\n            }\n            count++;\n            subPrompt += `${count}. <${emphasizedSubPrompt.tag}></${emphasizedSubPrompt.tag}>\\n`\n        }\n\n        subPrompts.push({\n            order: config.requestToLLM.order,\n            subPrompt: processSubPrompt(config.requestToLLM, subPrompt)\n        });\n    }\n\n    \n\n    // Plead with llm to pay attention to the detail provided (emphasize what should be salient to the generator)\n    if (config.plead.include) {\n        let subPrompt = \"The line should be two sentence at most, and should use simple language. Also, try to represent the reasons they intend to respond in that way in the line of dialogue as much as possible. Additionally, try to have them refer to their history of interactions from the past listed above.\\n\"\n        subPrompts.push({\n            order: config.plead.order,\n            subPrompt: processSubPrompt(config.plead, subPrompt)\n        });\n    }\n\n    // Plead with llm to pay attention to the detail provided (emphasize what should be salient to the generator)\n    if (selectedAction.noteToLLM && selectedAction.noteToLLM !== \"\" && config.noteToLLM.include) {\n        let subPrompt = `Here are some notes about this action to be considered while generating dialogue: ${selectedAction.noteToLLM}\\n`\n        subPrompts.push({\n            order: config.noteToLLM.order,\n            subPrompt: processSubPrompt(config.noteToLLM, subPrompt)\n        });\n    }\n\n    // Player focused prototype for what behavior the agent is about to engage in (tone/intent)\n    if (config.playerFocusedDialogue.include) {\n        if (selectedAction.quote !== undefined) {\n            let subPrompt = \"The line should come across as communicating someting along the lines as '\" + selectedAction.quote + \"', but with more detail.\\n\";\n            subPrompts.push({\n                order: config.playerFocusedDialogue.order,\n                subPrompt: processSubPrompt(config.playerFocusedDialogue, subPrompt)\n            });\n        }\n    }\n    \n    // Character speech style\n    if (config.speechStyle.include) {\n        let subPrompt = initiatorName + \"'s style of speech should be able to be described as \" + cifInterface.cif.getCharData(initiatorName).speechStyle + \".\\n\";\n        subPrompts.push({\n            order: config.speechStyle.order,\n            subPrompt: processSubPrompt(config.speechStyle, subPrompt)\n        });\n    }\n\n    // Character pronouns\n    if (config.pronouns.include) {\n        let subPrompt = `${initiatorName} uses the pronouns ${cifInterface.cif.getCharData(initiatorName).pronouns}, and ${responderName} uses the pronouns ${cifInterface.cif.getCharData(responderName).pronouns}.\\n`;\n        subPrompts.push({\n            order: config.pronouns.order,\n            subPrompt: processSubPrompt(config.pronouns, subPrompt)\n        });\n    }    \n    \n    // Character Notes\n    if (config.characterNotes.include) {\n\n        let initiatorCharacterNotes = cifInterface.cif.getCharData(initiatorName).characterNotes;\n        let responderCharacterNotes = cifInterface.cif.getCharData(responderName).characterNotes;\n\n        let subPrompt = `Here are some facts about ${initiatorName} and ${responderName}:\\n`;\n        for (let charName in initiatorCharacterNotes) {\n            if (charName === responderName) {\n                for (let charNote of initiatorCharacterNotes[charName]) {\n                    subPrompt += `- ${charNote}\\n`\n                }\n            }\n        }\n        for (let charName in responderCharacterNotes) {\n            if (charName === initiatorName) {\n                for (let charNote of responderCharacterNotes[charName]) {\n                    subPrompt += `- ${charNote}\\n`\n                }\n            }\n        }\n\n        subPrompts.push({\n            order: config.characterNotes.order,\n            subPrompt: processSubPrompt(config.characterNotes, subPrompt)\n        });\n    }\n\n    // Style request 1: informal and not stilted\n    if (config.avoidStiltedness.include) {\n        let subPrompt = \"Before you generate the line, most of the time the dialogue that you generate sounds overly formal. Please try to make the line sound conversational and informal if anything.\\n\"\n        subPrompts.push({\n            order: config.avoidStiltedness.order,\n            subPrompt: processSubPrompt(config.avoidStiltedness, subPrompt)\n        });\n    }\n\n    // Style request 2: genre\n    if (config.genre.include) {\n        let subPrompt = \"The generated line of dialogue should be in the style of a television sitcom line of dialogue.\\n\"\n        subPrompts.push({\n            order: config.genre.order,\n            subPrompt: processSubPrompt(config.genre, subPrompt)\n        });\n    }\n\n\n    if (config.knowledgeOfNames.include) {\n        let conditions = [\n            {\n                category: \"relationship\",\n                type: \"met\",\n                first: \"x\",\n                second: \"y\",\n                value : true\n            }\n        ]\n        let result = cifInterface.cif.practiceManager.evaluateRule(conditions, bindings, cifInterface.cif.getCharacters());\n        let knowNames = (!result.success) ? \"do not know\" : \"know\";\n        let subPrompt = `${initiatorName} and ${responderName} ${knowNames} each other's names.\\n`;\n        subPrompts.push({\n            order: config.knowledgeOfNames.order,\n            subPrompt: processSubPrompt(config.knowledgeOfNames, subPrompt)\n        });\n    }\n\n\n    // if (config.emphasisSymbol.include) {\n    //     let subPrompt = `Whevever the symbol '${emphasisSymbolStart}' appears at the start of a line in the prompt, make sure that the information is incorporated into the line of dialouge. The dialogue shoud never contain any of the following symbols: 'RESPONSE', '<', '>', or '/'.\\n`;\n    //     subPrompts.push({\n    //         order: config.emphasisSymbol.order,\n    //         subPrompt: processSubPrompt(config.emphasisSymbol, subPrompt)\n    //     });\n    // }\n\n    subPrompts.sort((a, b) => (a.order > b.order ? 1 : b.order > a.order ? -1 : 0));\n\n    let prompt = \"\";\n    for (let subPrompt of subPrompts) {\n        if (prompt !== \"\") {\n            prompt += \"\\n\";\n        }\n        prompt += subPrompt.subPrompt;\n    }\n\n    prompt = \"INPUT:\\n\" + prompt + \"\\n\\nOUTPUT:\\n\";\n\n    return prompt;\n}\n\n// This will add emphasis and importance to an entire subPrompt section (i.e. it is multi-line).\nlet processSubPrompt = function(config, subPrompt) {\n    let subPromptLines = subPrompt.split(/\\r?\\n/);\n    let processedSubPrompt = \"\";\n    if (config.useTag) {\n        processedSubPrompt += `<${config.tag}>\\n`;\n    }\n    let first = true;\n    for (let subPromptLine of subPromptLines) {\n        if (subPromptLine !== '') {\n            if (config.include && config.emphasize) {\n                if (subPromptLines.length > 1 && first) {\n                    // for the multi line ones, don't add emphasis on the first line?\n                    first = false;\n                    subPromptLine = `${subPromptLine}`;\n                } else {\n                    subPromptLine = `${emphasisSymbolStart}${subPromptLine}${emphasisSymbolEnd}`;\n                    // subPromptLine += (config.importance !== -1) ? importanceSymbol(config.importance): \"\";\n                }\n            }\n            subPromptLine += \"\\n\";\n            processedSubPrompt += subPromptLine;\n        }\n    }\n    if (config.useTag) {\n        processedSubPrompt += `</${config.tag}>\\n`;\n    }\n    return processedSubPrompt;\n}\n\n\n\nlet getMTsFromMostRecentVolitionInfo = function(addContextText, intent) {\n\n    let mtToString = {\n        positiveCompleteString: \"\",\n        negativeCompleteString: \"\",\n        score: 0\n    }\n\n    let positiveRules = [];\n    let negativeRules = [];\n    // console.log(mostRecentVolitionInfo.mts);\n    // console.log(\"8888888888\");\n    // console.log(intent);\n    for (let rule of cifInterface.mostRecentVolitionInfo.mts[intent].trueRules) {\n        mtToString.score += rule.score;\n        if (rule.score > 0) {\n            positiveRules.push(rule);\n        } else if (rule.score < 0) {\n            negativeRules.push(rule);\n        }\n    }\n    if (positiveRules.length > 0) {\n        mtToString.positiveCompleteString = (addContextText)?`The reasons ${cifInterface.mostRecentVolitionInfo.initiatorName} has the intent of being ${intent} to ${cifInterface.mostRecentVolitionInfo.responderName} are:\\n`:\"\";\n        for (let rule of positiveRules) {\n            // Here are the two options:\n            // 1. mostRecentVolitionInfo.selectedAction.chosenRoleBindings // doesn't appear to have 'other' roles bound\n            // 2. rule.result.possibleRoleBindings[0] // This works!\n            let ruleString = cifInterface.cif.practiceManager.volitionRuleToString(rule, rule.result.possibleRoleBindings[0], true);\n            mtToString.positiveCompleteString += `- ${rule.title} (+${rule.effects[0].weight}): ${ruleString}\\n`;\n        }\n    }\n    if (negativeRules.length > 0) {\n        mtToString.negativeCompleteString = (addContextText)?`The reservations ${cifInterface.mostRecentVolitionInfo.initiatorName} has about having the intent of being ${intent} to ${cifInterface.mostRecentVolitionInfo.responderName} are:\\n`:\"\";\n        for (let rule of negativeRules) {\n            let ruleString = cifInterface.cif.practiceManager.volitionRuleToString(rule, rule.result.possibleRoleBindings[0], true);\n            mtToString.negativeCompleteString += `- ${rule.title} (${rule.effects[0].weight}): ${ruleString}\\n`;\n        }\n    }\n    return mtToString;\n}\n\n\nlet ruleToStringWithPredNotation = function(rule, bindings) {\n    let ruleString = \"\";\n    let boundConditions = cif.practiceManager.getCloneOfBoundPredicates(rule.conditions, bindings);\n    for (let i = 0; i < boundConditions.length; i++) {\n        \n        ruleString += `${predicateObjectToPredicateString(boundConditions[i], false)}`;\n        ruleString += `${(i<boundConditions.length-1)?\"^ \":\"\"}`;\n    }\n    \n    ruleString += ` -> ${predicateObjectToPredicateString(rule.effects[0], true)}`\n    return ruleString;\n}\n\nfunction predicateObjectToPredicateString(predObj, isEffect) {\n    let schemaClass = cifInterface.cif.rawSchema.schema.find((element) => element.class === predObj.class);\n\n    let predString = \"\";\n\n    if (schemaClass.isBoolean && !predObj.value) {\n        predString += \"~\";\n    }\n\n    predString += predObj.type;\n    predString += \"(\";\n    predString += predObj.first;\n    if (schemaClass.directionType === \"directed\" || schemaClass.directionType === \"reciprocal\") {\n        predString += \",\";\n        predString += predObj.second;\n    }\n    if (predObj.operator !== undefined && predObj.operator !== \"\" && !schemaClass.isBoolean) {\n        predString += \",\";\n        predString += predObj.operator;\n        \n        if (schemaClass.class === \"intent\") {\n            predString += \",\";\n            predString += (predObj.weight >= 0) ? \"+,\": \"-,\";\n            predString += Math.abs(predObj.weight);\n        } else if (schemaClass.class === \"network\") {\n            predString += \",\";\n            predString += (!isEffect) ? predObj.value : predObj.value;\n        } else if (schemaClass.class === \"history\") {\n            predString += \",\";\n            predString += getHistoryWindow(predObj.turnsAgoBetween);\n        } else if (predObj.value !== undefined && predObj.value !== \"\") {\n            predString += \",\";\n            predString += predObj.value;\n        } \n    }\n    predString += \")\"\n\n    return predString;\n}\n\nfunction getHistoryWindow(turnsAgoBetween) {\n    if (turnsAgoBetween[0] === 0 && turnsAgoBetween[1] === 8) {\n        return \"recently\";\n    } else if (turnsAgoBetween[0] === 0 && turnsAgoBetween[1] === 2) {\n        return \"just_now\";\n    }\n}\n\n\nlet importanceSymbol = function(importance) {\n    let symbol = \"<-IMPORTANT\";\n    for (let i = 0; i < importance; i++) {\n        symbol += \"!\";\n    }\n    return symbol;\n}\n\n\nlet getExampleShotSubPrompt = function (index, config) {\n    let subPrompt = \"\";\n    subPrompt += `<EXAMPLE>\\n`;\n    subPrompt += `INPUT:\\n`\n    subPrompt += exampleShots[index].prompt;\n    subPrompt += \"\\n\";\n    // subPrompt += `RESPONSE ${index + 1}:\\n`\n    subPrompt += `OUTPUT:\\n`\n    subPrompt += exampleShots[index].response;\n    subPrompt += `</EXAMPLE>\\n`;\n    subPrompt += `\\n`;\n    subPrompt += (config.rationale) ? `Here's the reasons why that would be considered a good response: ${exampleShots[index].rationale}\\n`:``;\n    return subPrompt;\n}\n\n\nlet generatePracticeSummary = async function() {\n    // Time to generate a PRS\n    let prompt = cifInterface.initiatorName + \" and \" + cifInterface.responderName + \" just engaged in a conversation generally referred to as: \" + cifInterface.cif.practiceManager.getCurrentPractice().label + \". Below is a list of what was said:\\n\";\n    let first = true;\n    for (let history of cifInterface.practiceDialogueHistory) {\n        let line = (first) ? \"said the following\" : \"responded\";\n        first = false;\n        // prompt += \"- \" + history.speaker + \" \" + line + \" with the intent of \" + history.intent + \": \\\"\" + history.line + \"\\\". \\n\";\n        prompt += \"- \" + history.speaker + \" \" + line + \": \\\"\" + history.line + \"\\\". \\n\";\n    }\n    prompt += \"Please create a short sentence that summarizes what was said.\";\n    prompt += ` ${cifInterface.initiatorName} uses the pronouns ${cifInterface.cif.getCharData(cifInterface.initiatorName).pronouns}, and ${cifInterface.responderName} uses the pronouns ${cifInterface.cif.getCharData(cifInterface.responderName).pronouns}.`\n    console.log(prompt);\n    console.log(\"***************\");\n    let prs = await getGeminiText(prompt);\n    let prsObj = {\n        initiator: cifInterface.initiatorName,\n        responder: cifInterface.responderName,\n        summary: prs,\n        // dialogue: cif.util.clone(practiceDialogueHistory), //history.speaker, history.line\n        dialogue: structuredClone(cifInterface.practiceDialogueHistory),\n        practice: cifInterface.cif.practiceManager.getCurrentPractice().label,\n        time: cifInterface.cif.sfdb.getCurrentTimeStep() - cifInterface.practiceDialogueHistory.length\n    }\n    return prsObj;\n}\n\n\nlet generateAllAtOnce = async function(practiceName, initiatorName, responderName, actionPerformedInfos) {\n    let prompt = `${initiatorName} and ${responderName} had a conversation generally described as ${practiceName}.\\n`;\n    prompt += `Here's an abstract summary of what they said and why they said it:\\n`;\n    for (let api of actionPerformedInfos) {\n        prompt += `- ${api.initiator} said something that can be described as ${api.chosenAction.label} with the intent of being ${api.chosenAction.intent}.\\n`\n    }\n    prompt += `Can you please generate a conversation between ${initiatorName} and ${responderName} where each item in the list represented with a line of dialogue?\\n`;\n    let conversation = await getGeminiText(prompt);\n    console.log(\"--------\");\n    console.log(prompt);\n    console.log(\"--------\");\n    console.log(conversation);\n}\n\n\n\nexport {\n    generatePrompt,\n    getGeminiText,\n    getOllamaText,\n    getGeneratedText,\n    generatePracticeSummary,\n    generateAllAtOnce,\n    promptStyle,\n    config_modes,\n    promptConfig,\n    getMTsFromMostRecentVolitionInfo\n};","// Package: Util\r\n// Library of useful functions.\r\n\r\n/*jshint smarttabs: true */\r\n/*global define */\r\n\r\n\r\n\r\n/* Function: isArray\r\nDetermines if the given object is an array.\r\n\r\nParameters:\r\nobj - an object\r\n\r\nReturns:\r\nboolean - true if obj is an array.\r\n*/\r\nvar isArray = function (obj) {\r\n\treturn toString.call(obj) === \"[object Array]\";\r\n},\r\n\r\n\tisInt = function (val) {\r\n\t\tif ((parseFloat(val) == parseInt(val)) && !isNaN(val)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\r\n\t/* Function: nl2br\r\n\tTakes all newlines in a string and inserts breaklines instead.\r\n\r\n\tParameters:\r\n\tstr - string to convert\r\n\tis_xhtml - boolean\r\n\r\n\tReturns:\r\n\tstring - new string with breaklines inserted.\r\n\t*/\r\n\tnl2br = function (str, is_xhtml) {\r\n\t\tvar breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';\r\n\t\treturn (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + breakTag + '$2');\r\n\t},\r\n\r\n\t/* Function: has\r\n\tDetermines if the given object is in an array.\r\n\r\n\tParameters:\r\n\tarray - an array\r\n\titem - obj to search for in the array\r\n\r\n\tReturns:\r\n\tboolean - true if item is an array.\r\n\t*/\r\n\thas = function (array, item) {\r\n\t\tif (array === undefined) return false;\r\n\t\treturn array.indexOf(item) > -1;\r\n\t},\r\n\r\n\t/* Function: randomKey\r\n\tKeturns a random Key from an object.\r\n\r\n\tParameters:\r\n\tobject - an object\r\n\r\n\tReturns:\r\n\tstring - a random key from the object.\r\n\t*/\r\n\trandomKey = function (obj) {\r\n\t\treturn oneOf(Object.keys(obj));\r\n\t},\r\n\r\n\t/* Function: randomNumber\r\n\tReturns a random integer from 1 to max. Return 1 if max <= 1 or not a number.\r\n\r\n\tParameters:\r\n\tmax - an integer, the highest number that might be returned.\r\n\r\n\tReturns:\r\n\tnumber (integer) between 1 and max.\r\n\t*/\r\n\trandomNumber = function (max, min) {\r\n\t\tif (min === undefined) {\r\n\t\t\tif (max <= 1 || typeof max !== \"number\") {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn Math.floor(Math.random() * Math.round(max)) + 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (max <= 1 || typeof max !== \"number\" || max <= min || typeof min !== \"number\") {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n\t\t}\r\n\t},\r\n\r\n\t_noRepeatTracker = {},\r\n\r\n\t/* Function: randomNoRepeat\r\n\tLike <randomNumber>, but returns a number that tries to be different from the last random number requested for this same key.\r\n\r\n\tParameters:\r\n\tkey - a string representing a unique key. For the same key, calls to randomNoRepeat will try to return a different number than the last call.\r\n\tmax - an integer, the highest number that might be returned.\r\n\r\n\tReturns:\r\n\tnumber (integer) between 1 and max.\r\n\t*/\r\n\trandomNoRepeat = function (key, max) {\r\n\t\tvar num = 0,\r\n\t\t\tlastTime = _noRepeatTracker[key];\r\n\r\n\t\tif (typeof max !== \"number\") {\r\n\t\t\tthrow new Error(\"util.randomNoRepeat(): called with max of \" + max + \" which is \" + typeof max + \" instead of number.\");\r\n\t\t}\r\n\t\tif (max <= 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tif (lastTime === undefined) {\r\n\t\t\tnum = randomNumber(max);\r\n\t\t} else {\r\n\t\t\tnum = randomNumber(max - 1);\r\n\t\t\tif (num >= lastTime) {\r\n\t\t\t\tnum += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_noRepeatTracker[key] = num;\r\n\t\treturn num;\r\n\t},\r\n\r\n\t/* Function: randomJitter\r\n\tWhen given a number and a jitter value, returns the number modified a little (to the maximum of number * jitter and minimum of number / jitter). Values closer to number are more likely than those on the edges.\r\n\r\n\tParameters:\r\n\tnumber - an integer\r\n\tjitter - a float >= 1 (1 = no jitter)\r\n\r\n\tReturns\r\n\ta float value based on number\r\n\t*/\r\n\trandomJitter = function (number, jitter) {\r\n\t\tif (jitter <= 1) {\r\n\t\t\treturn number;\r\n\t\t}\r\n\t\tvar lowest = number / jitter;\r\n\t\tvar highest = number * jitter;\r\n\t\tvar range = highest - lowest;\r\n\t\tvar total = (Math.random() * (range / 3)) + (Math.random() * (range / 3)) + (Math.random() * (range / 3));\r\n\t\treturn total + lowest;\r\n\t},\r\n\r\n\t_iterators = {},\r\n\r\n\t/* Function: iterator\r\n\tGiven a key, returns a number that starts at 1 and increases by 1 each time the function is called for the same key.\r\n\r\n\tParameters:\r\n\tkey - a string\r\n\r\n\tReturns:\r\n\tnumber (integer)\r\n\t*/\r\n\titerator = function (key) {\r\n\t\tif (_iterators[key] === undefined) {\r\n\t\t\t_iterators[key] = 0;\r\n\t\t}\r\n\t\t_iterators[key] += 1;\r\n\t\treturn _iterators[key];\r\n\t},\r\n\r\n\t/* Function: resetIterator\r\n\tResets the iterator for a given key, so the next time <iterator> is called with that key it will return 1 again.\r\n\r\n\tParameters:\r\n\tkey - a string\r\n\t*/\r\n\tresetIterator = function (key) {\r\n\t\t_iterators[key] = 0;\r\n\t},\r\n\r\n\t/* Function: oneOf\r\n\tReturns a random entry from an array, or undefined if the array is empty or not an array.\r\n\r\n\tParameters:\r\n\tarr - an array of anything\r\n\r\n\tReturns:\r\n\tan entry from a random position in arr.\r\n\t*/\r\n\toneOf = function (arr) {\r\n\t\treturn arr[randomNumber(arr.length) - 1];\r\n\t},\r\n\r\n\t/* Function: oneOfNoRepeat\r\n\tLike <oneOf>, except attempts to return a different entry each time the function is called with the same key.\r\n\r\n\tParameters:\r\n\tkey - a string\r\n\tarr - an array of anything\r\n\r\n\tReturns:\r\n\tan entry from a random position in arr.\r\n\t*/\r\n\toneOfNoRepeat = function (key, arr) {\r\n\t\tif (!isArray(arr) || arr.length === 0) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (arr.length === 1) {\r\n\t\t\treturn arr[0];\r\n\t\t}\r\n\t\treturn arr[randomNoRepeat(key, arr.length) - 1];\r\n\t},\r\n\r\n\t/* Function: listWriter\r\n\tTakes an array of strings and returns a single string representing it as an English list. [\"one\", \"two\", \"three\"] becomes \"one, two, and three\".\r\n\r\n\tParameters:\r\n\tstringList - an array of strings.\r\n\tseparator - (optional) string, the word to use as the final conjunction. Defaults to \"and\" if not specified.\r\n\twrapper - (optional) string, will be wrapped around each parameter (usually a quote mark)\r\n\r\n\tReturns:\r\n\ta string\r\n\t*/\r\n\tlistWriter = function listWriter(_stringList, _separator, _wrapper) {\r\n\t\tvar separator = _separator || \"and\";\r\n\t\tvar wrapper = _wrapper || \"\";\r\n\t\tvar output = \"\";\r\n\t\tvar stringList = clone(_stringList);\t// because arrays are pass by reference\r\n\t\tvar origLength = stringList.length;\r\n\t\twhile (stringList.length > 0) {\r\n\t\t\tvar item = stringList.shift();\r\n\t\t\toutput += wrapper + item + wrapper;\r\n\t\t\tif (stringList.length == 1) {\r\n\t\t\t\tif (origLength == 2) {\r\n\t\t\t\t\toutput += \" \" + separator + \" \";\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput += \", \" + separator + \" \";\r\n\t\t\t\t}\r\n\t\t\t} else if (stringList.length !== 0) {\r\n\t\t\t\toutput += \", \";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t},\r\n\r\n\t/* Function: randomOrder\r\n\tSorts an array in random order and returns it.\r\n\r\n\tParameters:\r\n\tarr - the array to be sorted.\r\n\r\n\tReturns:\r\n\tarr sorted in a random order.\r\n\t*/\r\n\trandomOrder = function (arr) {\r\n\t\tvar workArr = [],\t// get fresh copy of arr\r\n\t\t\tsortedArr = [],\r\n\t\t\trandomIndex = -1;\r\n\t\tif (!isArray(arr)) {\r\n\t\t\tthrow new Error(\"util.randomOrder: Called randomOrder on \" + arr + \" which is not an array.\");\r\n\t\t}\r\n\t\tif (arr.length <= 1) {\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\tworkArr = arr.slice(0);\r\n\t\twhile (workArr.length > 0) {\r\n\t\t\trandomIndex = randomNumber(workArr.length) - 1;\r\n\t\t\tsortedArr.push(workArr[randomIndex]);\r\n\t\t\tworkArr.splice(randomIndex, 1);\r\n\t\t}\r\n\t\treturn sortedArr;\r\n\t},\r\n\r\n\t/* Function: safeAdd\r\n\tAdds two numbers, but never exceeds a given maximum or drops below an optional minimum.\r\n\r\n\tParameters:\r\n\tnum - the first number\r\n\tval - the number to add to num\r\n\tmax - an upper limit for the largest value num can be.\r\n\tmin - (optional) a lower limit for the smallest value num can be.\r\n\r\n\tReturns:\r\n\ta number - The new value of num.\r\n\t*/\r\n\tsafeAdd = function (num, val, max, min) {\r\n\t\tif (typeof num !== \"number\" || typeof val !== \"number\" ||\r\n\t\t\t(max !== undefined && typeof max !== \"number\") ||\r\n\t\t\t(min !== undefined && typeof min !== \"number\")) {\r\n\t\t\tthrow new Error(\"util.safeAdd: called with non-numeric value (parameters were \" + num + \", \" + val + \", \" + max + \")\");\r\n\t\t}\r\n\t\tnum = num + val;\r\n\t\tif (num > max) {\r\n\t\t\tnum = max;\r\n\t\t}\r\n\t\tif (min !== undefined && num < min) {\r\n\t\t\tnum = min;\r\n\t\t}\r\n\t\treturn num;\r\n\t},\r\n\r\n\tsafeOp = function (num, val, op, min, max) {\r\n\t\tif (typeof num !== \"number\" || typeof val !== \"number\" ||\r\n\t\t\t(typeof max !== \"number\" && max !== undefined) ||\r\n\t\t\ttypeof min !== \"number\" && min !== undefined) {\r\n\t\t\tthrow new Error(\"util.safeOp: called with non-numeric value (parameters were num:\" + num + \", val:\" + val + \", min:\" + min + \", max:\" + max + \")\");\r\n\t\t}\r\n\t\tswitch (op) {\r\n\t\t\tcase \"+\": num = num + val; break;\r\n\t\t\tcase \"*\": num = num * val; break;\r\n\t\t\tcase \"-\": num = num - val; break;\r\n\t\t\tcase \"/\":\r\n\t\t\t\tif (val === 0) {\r\n\t\t\t\t\tnum = num;\r\n\t\t\t\t\tconsole.log(\"util.safeOp: divide by 0, returning num instead. (num=\" + num + \", val=\" + val + \", op=\" + op + \", min=\" + min + \", max=\" + max);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnum = num / val;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (max !== undefined && num > max) {\r\n\t\t\tnum = max;\r\n\t\t}\r\n\t\tif (num < min) {\r\n\t\t\tnum = min;\r\n\t\t}\r\n\t\treturn num;\r\n\t},\r\n\r\n\tsafeMultiply = function (num, val, max) {\r\n\t\treturn safeOp(num, val, \"*\", 0, max)\r\n\t},\r\n\tsafeAdd = function (num, val, max) {\r\n\t\treturn safeOp(num, val, \"+\", 0, max)\r\n\t},\r\n\tsafeSubtract = function (num, val, min) {\r\n\t\treturn safeOp(num, val, \"-\", min, undefined)\r\n\t},\r\n\tsafeDivide = function (num, val, min) {\r\n\t\treturn safeOp(num, val, \"/\", min, undefined)\r\n\t},\r\n\r\n\t/* Function: iCap\r\n\tTakes a string and ensures the first letter is capitalized. Assumes the string begins with a letter, not a space or non-alpha.\r\n\r\n\tParameters:\r\n\tstr - the string in question\r\n\r\n\tReturns:\r\n\tstr with the first letter capitalized\r\n\r\n\tNote:\r\n\tYou can also say iUpper for parity with <iLower>.\r\n\t*/\r\n\tiCap = function (str) {\r\n\t\tif (typeof str !== \"string\") {\r\n\t\t\tthrow new Error(\"util.iCap(): called iCap on \" + str + \" which is not a string.\");\r\n\t\t}\r\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n\t},\r\n\r\n\t/* Function: iLower\r\n\tTakes a string and ensures the first letter is lower case. Assumes the string begins with a letter, not a space or non-alpha.\r\n\r\n\tParameters:\r\n\tstr - the string in question\r\n\r\n\tReturns:\r\n\tstr with the first letter in lower case\r\n\t*/\r\n\tiLower = function (str) {\r\n\t\tif (typeof str !== \"string\") {\r\n\t\t\tthrow new Error(\"util.iLower: called iLower on \" + str + \" which is not a string.\");\r\n\t\t}\r\n\t\treturn str.charAt(0).toLowerCase() + str.slice(1);\r\n\t},\r\n\r\n\t/* Function: titleCase\r\n\tTakes a string and ensures the first letter of each word is capitalized.\r\n\r\n\tParameters:\r\n\tstr - the string in question\r\n\r\n\tReturns:\r\n\tstr with the first letter of each word capitalized\r\n\t*/\r\n\ttitleCase = function (str) {\r\n\t\tvar strList = [],\r\n\t\t\tfinalStr = \"\",\r\n\t\t\tsPos = 0;\r\n\t\tif (typeof str !== \"string\") {\r\n\t\t\tthrow new Error(\"util.titleCase(): called titleCase on \" + str + \" which is not a string.\");\r\n\t\t}\r\n\t\tstrList = str.trim().split(\" \");\r\n\t\tfor (sPos in strList) {\r\n\t\t\tfinalStr += iCap(strList[sPos]) + \" \";\r\n\t\t}\r\n\t\treturn finalStr.trim();\r\n\t},\r\n\r\n\t/* Function: isOneOf\r\n\tTakes a string and an array of strings and returns true if the first string appears in the array, case insensitively.\r\n\r\n\tParameters:\r\n\tbase - the string to check\r\n\toptions - an array of strings to check against. If base appears in options we return true.\r\n\r\n\tReturns:\r\n\tboolean - true if base is in options.\r\n\t*/\r\n\tisOneOf = function (base, options) {\r\n\t\tvar b = \"\",\r\n\t\t\toption = \"\";\r\n\t\tif (typeof base !== \"string\" || !isArray(options) || typeof options[0] !== \"string\") {\r\n\t\t\tthrow new Error(\"util.isOneOf:Called isOneOf with wrong type of inputs (should be string, array of strings; instead was \" + base + \" (\" + typeof base + \"), \" + options + \" (\" + typeof options + \")\");\r\n\t\t}\r\n\t\tb = base.toLowerCase();\r\n\t\tfor (option in options) {\r\n\t\t\tif (b === options[option].toLowerCase()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/* Function: listify\r\n\tTake an object and produce a comma-separated list of its keys.\r\n\r\n\tParameters:\r\n\tobj - the object in question\r\n\r\n\tReturns:\r\n\tstring - the list of keys.\r\n\t*/\r\n\tlistify = function (obj) {\r\n\t\tvar str = \"\",\r\n\t\t\tctr = 0,\r\n\t\t\tkey = \"\";\r\n\t\tfor (key in obj) {\r\n\t\t\tif (ctr === 0) {\r\n\t\t\t\tstr += key;\r\n\t\t\t} else {\r\n\t\t\t\tstr += \", \" + key;\r\n\t\t\t}\r\n\t\t\tctr += 1;\r\n\t\t}\r\n\t\treturn str;\r\n\t},\r\n\r\n\t/* Function: haveSameContents\r\n\tReturns true if the two given arrays contain the same elements, order aside.\r\n\r\n\tParameters:\r\n\tarr1 - the first array\r\n\tarr2 - the second\r\n\r\n\tReturns:\r\n\tboolean - true if the two arrays contain the same contents, order aside; false otherwise.\r\n\t*/\r\n\thaveSameContents = function (arr1, arr2) {\r\n\t\tvar i = 0,\r\n\t\t\tchecklist = [];\r\n\t\tif (!isArray(arr1) || !isArray(arr2)) {\r\n\t\t\tthrow new Error(\"util.haveSameContents(): called with a non-array parameter.\");\r\n\t\t}\r\n\t\tif (arr1.length !== arr2.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tchecklist = arr2.slice(0); // create a deep copy\r\n\t\tfor (i in arr1) {\r\n\t\t\tvar matchPos = checklist.indexOf(arr1[i]);\r\n\t\t\tif (matchPos >= 0) {\r\n\t\t\t\tchecklist.splice(matchPos, 1);\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (checklist.length === 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/* Function: degToRad\r\n\tTakes a number in degrees and returns in radians.\r\n\r\n\tParameters:\r\n\tnum - a number in degrees\r\n\r\n\tReturns:\r\n\ta number in radians\r\n\t*/\r\n\tdegToRad = function (num) {\r\n\t\treturn num * (Math.PI / 180);\r\n\t},\r\n\r\n\t/* Function: radToDeg\r\n\tTakes a number in radians and returns in degrees.\r\n\r\n\tParameters:\r\n\tnum - a number in radians\r\n\r\n\tReturns:\r\n\ta number in degrees\r\n\t*/\r\n\tradToDeg = function (num) {\r\n\t\treturn num * (180 / Math.PI);\r\n\t},\r\n\r\n\t/* Function: roundTo\r\n\tRound to nearest given decimal. roundNumber(2.432, 1) equals 2.4\r\n\r\n\tParameters:\r\n\tnum - the number to round\r\n\tdec - an integer, the number of significant digits after the decimal to round to.\r\n\r\n\tReturns:\r\n\ta number\r\n\r\n\tNote:\r\n\tIf you're doing this to display as a string, Javascript has the built-in function num.toFixed(precision)\r\n\t*/\r\n\troundTo = function (num, dec) {\r\n\t\tvar result = Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec);\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/* Function: remap\r\n\tReturns a val in the given old range converted to its position in the given new range, as a float.\r\n\r\n\tExample:\r\n\tremap(10, 1, 10, 1, 100) = 100 (read: If you take 10 on a scale of 1 to 10, and ask what its equivalent is on a scale of 1 to 100, the answer is 100.)\r\n\r\n\tParameters:\r\n\tval - the number to remap\r\n\toldRangeL - the bottom end of the old range\r\n\toldRangeU - the upper end of the old range\r\n\tnewRangeL - the bottom end of the new range\r\n\tnewRangeU - the upper end of the new range\r\n\r\n\tReturns:\r\n\ta number, val remapped to the new range.\r\n\t*/\r\n\tremap = function (val, oldRangeL, oldRangeU, newRangeL, newRangeU) {\r\n\t\treturn (((val - oldRangeL) / (oldRangeU - oldRangeL)) * (newRangeU - newRangeL)) + newRangeL;\r\n\t},\r\n\r\n\t// Returns a number as a spelled-out equivalent, like 20 --> twenty, for any number up to 9999. Four-digit numbers are printed like years (nineteen fifty-six). Return a string unchanged.\r\n\tprintedNumber = function (num) {\r\n\t\tif (typeof num === \"string\") return num;\r\n\t\tvar s = \"\";\r\n\t\tif (num < 20) {\r\n\t\t\tswitch (num) {\r\n\t\t\t\tcase 0: s = \"zero\"; break;\r\n\t\t\t\tcase 1: s = \"one\"; break;\r\n\t\t\t\tcase 2: s = \"two\"; break;\r\n\t\t\t\tcase 3: s = \"three\"; break;\r\n\t\t\t\tcase 4: s = \"four\"; break;\r\n\t\t\t\tcase 5: s = \"five\"; break;\r\n\t\t\t\tcase 6: s = \"six\"; break;\r\n\t\t\t\tcase 7: s = \"seven\"; break;\r\n\t\t\t\tcase 8: s = \"eight\"; break;\r\n\t\t\t\tcase 9: s = \"nine\"; break;\r\n\t\t\t\tcase 10: s = \"ten\"; break;\r\n\t\t\t\tcase 11: s = \"eleven\"; break;\r\n\t\t\t\tcase 12: s = \"twelve\"; break;\r\n\t\t\t\tcase 13: s = \"thirteen\"; break;\r\n\t\t\t\tcase 14: s = \"fourteen\"; break;\r\n\t\t\t\tcase 15: s = \"fifteen\"; break;\r\n\t\t\t\tcase 16: s = \"sixteen\"; break;\r\n\t\t\t\tcase 17: s = \"seventeen\"; break;\r\n\t\t\t\tcase 18: s = \"eighteen\"; break;\r\n\t\t\t\tcase 19: s = \"nineteen\"; break;\r\n\t\t\t\tdefault: s = \"less than zero\"; break;\r\n\t\t\t}\r\n\t\t} else if (num < 100) {\r\n\t\t\tswitch (Math.floor(num / 10)) {\r\n\t\t\t\tcase 2: s = \"twenty\"; break;\r\n\t\t\t\tcase 3: s = \"thirty\"; break;\r\n\t\t\t\tcase 4: s = \"forty\"; break;\r\n\t\t\t\tcase 5: s = \"fifty\"; break;\r\n\t\t\t\tcase 6: s = \"sixty\"; break;\r\n\t\t\t\tcase 7: s = \"seventy\"; break;\r\n\t\t\t\tcase 8: s = \"eighty\"; break;\r\n\t\t\t\tcase 9: s = \"ninety\"; break;\r\n\t\t\t}\r\n\t\t\tif (num % 10 != 0) {\r\n\t\t\t\ts = s + \"-\" + printedNumber(num % 10);\r\n\t\t\t}\r\n\t\t} else if (num < 200) {\r\n\t\t\ts = \"a hundred\";\r\n\t\t\tif (num - 100 > 0) s = s + \" and \" + printedNumber(num - 100);\r\n\t\t} else if (num < 1000) {\r\n\t\t\ts = printedNumber(Math.floor(num / 100)) + \" hundred\";\r\n\t\t\tif (num % 100 != 0) s = s + \" and \" + printedNumber(num % 100);\r\n\t\t} else if (num < 9999) {\r\n\t\t\ts = printedNumber(Math.floor(num / 100));\r\n\t\t\tif (num % 100 != 0) {\r\n\t\t\t\ts = s + \" \" + printedNumber(num % 100);\r\n\t\t\t} else {\r\n\t\t\t\ts = s + \" hundred\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ts = \"at least ten thousand\";\r\n\t\t}\r\n\t\treturn s;\r\n\t},\r\n\r\n\tordinalNumber = function (num) {\r\n\t\tif (typeof num === \"string\") return num;\r\n\t\tvar s = printedNumber(num) + \"th\";\r\n\t\tswitch (num) {\r\n\t\t\tcase 0: s = \"zeroth\"; break;\r\n\t\t\tcase 1: s = \"first\"; break;\r\n\t\t\tcase 2: s = \"second\"; break;\r\n\t\t\tcase 3: s = \"third\"; break;\r\n\t\t\tcase 5: s = \"fifth\"; break;\r\n\t\t\tcase 8: s = \"eighth\"; break;\r\n\t\t\tcase 9: s = \"ninth\"; break;\r\n\t\t\tcase 12: s = \"twelfth\"; break;\r\n\t\t\tcase 20: s = \"twentieth\"; break;\r\n\t\t}\r\n\t\tif (num > 20) {\r\n\t\t\tvar numAsStr = \"\" + num;\r\n\t\t\tvar lastDigit = numAsStr[numAsStr.length - 1];\r\n\t\t\tswitch (lastDigit) {\r\n\t\t\t\tcase \"1\": s = num + \"st\"; break\r\n\t\t\t\tcase \"2\": s = num + \"nd\"; break;\r\n\t\t\t\tcase \"3\": s = num + \"rd\"; break;\r\n\t\t\t\tdefault: s = num + \"th\"; break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t},\r\n\r\n\t/* Function: clone\r\n\tCreates a clone (non-reference version) of an array or object. Code courtesy A. Levy on Stackoverflow.\r\n\r\n\tParameters:\r\n\tobj - the object to clone\r\n\r\n\tReturns:\r\n\ta new object identical to obj\r\n\t*/\r\n\tclone = function (obj) {\r\n\t\t// Handle the 3 simple types, and null or undefined\r\n\t\tif (null === obj || \"object\" !== typeof obj) return obj;\r\n\r\n\t\t// Handle Array\r\n\t\tif (obj instanceof Array) {\r\n\t\t\tvar copy = [];\r\n\t\t\tfor (var i = 0, len = obj.length; i < len; i++) {\r\n\t\t\t\tcopy[i] = clone(obj[i]);\r\n\t\t\t}\r\n\t\t\treturn copy;\r\n\t\t}\r\n\r\n\t\t// Handle Object\r\n\t\tif (obj instanceof Object) {\r\n\t\t\tvar copy = {};\r\n\t\t\tfor (var attr in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\r\n\t\t\t}\r\n\t\t\treturn copy;\r\n\t\t}\r\n\r\n\t\tthrow new Error(\"Unable to copy obj! Its type isn't supported.\");\r\n\t},\r\n\r\n\tassert = function (condition, messageIfFalse) {\r\n\t\tif (condition) {\r\n\t\t\tconsole.log(\"Passed\");\r\n\t\t} else {\r\n\t\t\tconsole.log(\"FAILED: \" + messageIfFalse);\r\n\t\t\tfor (var i = 2; i <= arguments.length; i++) {\r\n\t\t\t\tconsole.log(arguments[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tobjToText = function (obj, indentLevel) {\r\n\t\tif (indentLevel === undefined) {\r\n\t\t\tindentLevel = 0;\r\n\t\t}\r\n\t\tvar str = \"\";\r\n\t\tvar spaces = Array(indentLevel + 1).join(\" \");\r\n\t\tfor (var key in obj) {\r\n\t\t\tif (typeof obj[key] === \"object\") {\r\n\t\t\t\tstr += spaces + key + \": \" + \"\\n\"\r\n\t\t\t\tstr += objToText(obj[key], indentLevel + 2);\r\n\t\t\t} else {\r\n\t\t\t\tstr += spaces + key + \": \" + obj[key] + \"\\n\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t};\r\n\r\n// Adds support for trim if using a browser that doesn't provide it.\r\nif (!String.prototype.trim) {\r\n\tString.prototype.trim = function () {\r\n\t\treturn this.replace(/^\\s+|\\s+$/g, '');\r\n\t};\r\n}\r\n\r\n\r\n// revealing public API\r\n// Note: The reason we do it this way is to let us declare private variables next to the functions they relate to, rather than having to put them all at the top before the \"return\" block exposing the functions.\r\nlet utilInterface = {\r\n\trandomKey: randomKey,\r\n\tisArray: isArray,\r\n\tisInt: isInt,\r\n\thas: has,\r\n\trandomNumber: randomNumber,\r\n\trandomNoRepeat: randomNoRepeat,\r\n\trandomJitter: randomJitter,\r\n\titerator: iterator,\r\n\tresetIterator: resetIterator,\r\n\toneOf: oneOf,\r\n\toneOfNoRepeat: oneOfNoRepeat,\r\n\trandomOrder: randomOrder,\r\n\tsafeAdd: safeAdd,\r\n\tsafeMultiply: safeMultiply,\r\n\tsafeSubtract: safeSubtract,\r\n\tsafeDivide: safeDivide,\r\n\t// strip: strip,\t\t// Same as built-in trim.\r\n\tiCap: iCap,\r\n\tiUpper: iCap,\t\t\t// Alias\r\n\tiLower: iLower,\r\n\ttitleCase: titleCase,\r\n\tisOneOf: isOneOf,\r\n\tlistify: listify,\r\n\thaveSameContents: haveSameContents,\r\n\tdegToRad: degToRad,\r\n\tradToDeg: radToDeg,\r\n\troundTo: roundTo,\r\n\tremap: remap,\r\n\tlistWriter: listWriter,\r\n\tclone: clone,\r\n\tprintedNumber: printedNumber,\r\n\tordinalNumber: ordinalNumber,\r\n\tnl2br: nl2br,\r\n\r\n\tobjToText: objToText,\r\n\r\n\tassert: assert\r\n};\r\n\r\nexport default utilInterface;\r\n","/*global define */\r\n/**\r\n * This class is the top level interface into CiF.\r\n *\r\n *\r\n * @class CiF\r\n */\r\n\r\nimport util from \"./util.js\";\r\n// import _ from \"./underscore-min.js\";\r\nimport ruleLibrary from \"./RuleLibrary.js\";\r\nimport actionLibrary from \"./ActionLibrary.js\";\r\nimport sfdb from \"./SFDB.js\";\r\nimport validate from \"./Validate.js\";\r\nimport practiceManager from \"./PracticeManager.js\";\r\n\r\n// let directoryPath = \"../../data/\";\r\nlet directoryPath = \"./data/\";\r\nlet rawSchema, rawCast, rawHistory, rawPractices, rawMTSet, rawNLG, rawGoals;\r\nconst loadAllData = async () => {\r\n    if (typeof window === 'undefined') {\r\n        // Node.js environment\r\n        const imports = await Promise.all([\r\n            import(directoryPath + 'schema.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'cast.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'history.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'socialPractices.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'microtheories.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'nlg.json', { with: { type: 'json' } }),\r\n            import(directoryPath + 'goals.json', { with: { type: 'json' } })\r\n        ]);\r\n        [rawSchema, rawCast, rawHistory, rawPractices, rawMTSet, rawNLG, rawGoals] = \r\n            imports.map(module => module.default);\r\n    } else {\r\n        // Browser environment - NOTE: This only works in react because the data folder is symlinked to public? Oh god.\r\n\t\t// If that's the case, why does it have a \"../..\" in front of it? The the data symlink is just right there in public...\r\n        const responses = await Promise.all([\r\n            fetch(directoryPath + 'schema.json'),\r\n            fetch(directoryPath + 'cast.json'),\r\n            fetch(directoryPath + 'history.json'),\r\n            fetch(directoryPath + 'socialPractices.json'),\r\n            fetch(directoryPath + 'microtheories.json'),\r\n            fetch(directoryPath + 'nlg.json'),\r\n            fetch(directoryPath + 'goals.json')\r\n        ]);\r\n        const jsonData = await Promise.all(responses.map(response => response.json()));\r\n        [rawSchema, rawCast, rawHistory, rawPractices, rawMTSet, rawNLG, rawGoals] = jsonData;\r\n    }\r\n    return { rawSchema, rawCast, rawHistory, rawPractices, rawMTSet, rawNLG, rawGoals };\r\n};\r\n\r\nawait loadAllData();\r\n\r\n\r\n\r\n// This works in the browser (React), but not in Node.js\r\n// import rawSchema from '../../data/schema.json';\r\n// import rawCast from '../../data/cast.json';\r\n// import rawHistory from '../../data/history.json';\r\n// import rawPractices from '../../data/socialPractices.json';\r\n// import rawMTSet from '../../data/microtheories.json';\r\n// import rawNLG from '../../data/nlg.json';\r\n// import rawGoals from '../../data/goals.json';\r\n\r\n// This works in Node.js, but not in the browser (React)\r\n// import rawSchema from '../../data/schema.json' with { type: 'json' };\r\n// import rawCast from '../../data/cast.json' with { type: 'json' };\r\n// import rawHistory from '../../data/history.json' with { type: 'json' };\r\n// import rawPractices from '../../data/socialPractices.json' with { type: 'json' };\r\n// import rawMTSet from '../../data/microtheories.json' with { type: 'json' };\r\n// import rawNLG from '../../data/nlg.json' with { type: 'json' };\r\n// import rawGoals from '../../data/goals.json' with { type: 'json' };\r\n\r\n\r\n/**\r\n * @method loadBaseBlueprints\r\n * @memberof CiF\r\n * @private\r\n *\r\n * @description Loads a stock set of blueprints useful for testing. (relationship, networks, etc.)\r\n *\r\n * @param {Object} bp - a blueprint object.\r\n *\r\n * @return {Object} An object with an interface to the loaded factories.\r\n */\r\nvar loadBaseBlueprints = function (bp) {\r\n\tsfdb.clearEverything();\r\n\treturn loadSocialStructure(bp);\r\n};\r\n\r\n\r\n/**\r\n * @method loadFile\r\n * @memberof CiF\r\n * @public\r\n *\r\n * @description Will load in a file representing some data object for the CiF world. This function will need to be called with your triggerRules, volitionRules, and socialSchema, among others.\r\n *\r\n * @param {Object} filename - The relative path to the data file.\r\n *\r\n * @return {Object} A JSON object representing the parsed contents of the filename.\r\n */\r\nvar loadFile = function (filename) {\r\n\r\n\tvar fileResults;\r\n\r\n\t// if (!window.XMLHttpRequest) {\r\n\t// \tconsole.log(\"Browser doesn't support XMLHttpRequest.\");\r\n\t// \treturn false;\r\n\t// }\r\n\r\n\tif (typeof window === 'undefined') {\r\n\t\tvar fs = require('fs');\r\n\t\treadInFile = fs.readFileSync(filename, \"utf8\");\r\n\t\tfileResults = JSON.parse(readInFile);\r\n\t\treturn fileResults;\r\n\t}\r\n\telse {\r\n\t\t// require([\"xmlhttprequest\"], function(xmlhttp) {\r\n\t\tvar xmlhttp = new XMLHttpRequest();\r\n\r\n\t\txmlhttp.onreadystatechange = function () {\r\n\t\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n\t\t\t\tfileResults = JSON.parse(xmlhttp.responseText);\r\n\t\t\t\t// console.log(\"File results are \" + fileResults);\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"ready state is \" + xmlhttp.readyState);\r\n\t\t\t\t// console.log(\"status is \" + xmlhttp.status);\r\n\t\t\t\t// console.log(\"xmlhttp not ready!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txmlhttp.open(\"GET\", filename, false); // false = synchronously\r\n\t\txmlhttp.send();\r\n\t\t// console.log(\"The file result is \" + fileResults);\r\n\t\treturn fileResults;\r\n\t\t// });\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n* @method registerSocialType\r\n* @memberOf CiF\r\n* @private\r\n* @description Register an individual type for use with CiF.\r\n*\r\n* @param {Object} blueprint A blueprint specifying the parameters of this social type.\r\n*\r\n* @return {Object} A copy of the blueprint.\r\n*/\r\nvar registerSocialType = function (blueprint) {\r\n\tvar factory = {};\r\n\tfactory.class = blueprint.class;\r\n\tfactory.type = blueprint.type;\r\n\tfactory.directionType = blueprint.directionType;\r\n\tfactory.isBoolean = blueprint.isBoolean;\r\n\tfactory.cloneEachTimeStep = blueprint.cloneEachTimeStep;\r\n\tfactory.duration = blueprint.duration;\r\n\tfactory.min = blueprint.minValue;\r\n\tfactory.max = blueprint.maxValue;\r\n\tfactory.defaultVal = blueprint.defaultValue;\r\n\tfactory.allowIntent = blueprint.allowIntent;\r\n\treturn factory;\r\n}\r\n\r\nvar socialStructure;\r\n\r\n/**\r\n * @method loadSocialStructure\r\n * @memberOf CiF\r\n * @public\r\n * @description Take an object specifying a set of social relation types, and generate a\r\n * set of factories with interfaces into that specification. See\r\n * sampleGame/data/schema.json for an example of structure.\r\n *\r\n * @param  {Object} data The object to load\r\n *\r\n * @return {Object} An object with parameters for each class name specified in the data file.\r\n */\r\nvar loadSocialStructure = function (data) {\r\n\tvar structure = {};\r\n\r\n\tvar blueprints;\r\n\t// console.log(data);\r\n\ttry {\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\t// console.log(\"1123\");\r\n\t\t\tblueprints = (JSON.parse(data)).schema;\r\n\t\t} else if (typeof data === \"object\") {\r\n\t\t\t// console.log(\"2\");\r\n\t\t\tblueprints = data.schema;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"unexpected value:\", data);\r\n\t\t\tthrow new Error(\"Error load social structure: unexpected data value: \", typeof data);\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tconsole.log(e instanceof SyntaxError); // true\r\n\t\tconsole.log(e.message);                // \"Hello\"\r\n\t\tconsole.log(e.name);                   // \"SyntaxError\"\r\n\t\tconsole.log(e.fileName);               // \"someFile.js\"\r\n\t\tconsole.log(e.lineNumber);             // 10\r\n\t\tconsole.log(e.columnNumber);           // 0\r\n\t\tconsole.log(e.stack);\r\n\t\tconsole.log(data);                  // \"@Scratchpad/2:11:9\\n\"\r\n\t\tthrow new Error(\"JSON Error load social structure (blueprints): \" + e);\r\n\t}\r\n\tif (blueprints === undefined) {\r\n\t\tthrow new Error(\"Error: social structure data file must be JSON that defines a top-level key 'schema'\");\r\n\t}\r\n\tvar atLeastOneClassAllowsIntent = false;\r\n\tfor (var i = 0; i < blueprints.length; i++) {\r\n\t\tvar classBlueprint = blueprints[i];\r\n\r\n\t\t// Error Checking\r\n\t\tif (classBlueprint.allowIntent === true) {\r\n\t\t\tatLeastOneClassAllowsIntent = true;\r\n\t\t}\r\n\t\tif (structure[classBlueprint.class]) {\r\n\t\t\tthrow new Error(\"DATA ERROR in CiF.loadSocialStructure: the class '\" + classBlueprint.class + \"' is defined more than once.\");\r\n\t\t}\r\n\r\n\t\tvalidate.blueprint(classBlueprint, \"Examining blueprint  #\" + i);\r\n\r\n\t\tsfdb.registerDuration(classBlueprint);\r\n\t\tsfdb.registerDefault(classBlueprint);\r\n\t\tsfdb.registerDirection(classBlueprint);\r\n\t\tsfdb.registerIsBoolean(classBlueprint);\r\n\t\tsfdb.registerMaxValue(classBlueprint);\r\n\t\tsfdb.registerMinValue(classBlueprint);\r\n\r\n\t\t// Create an interface for each type within this class.\r\n\t\tstructure[classBlueprint.class] = {};\r\n\t\tfor (var j = 0; j < classBlueprint.types.length; j++) {\r\n\t\t\tvar type = classBlueprint.types[j].toLowerCase();\r\n\t\t\tvar typeBlueprint = util.clone(classBlueprint);\r\n\t\t\ttypeBlueprint.type = type;\r\n\t\t\tstructure[classBlueprint.class][type] = registerSocialType(typeBlueprint);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif (!atLeastOneClassAllowsIntent) {\r\n\t\tthrow new Error(\"SCHEMA ERROR: A schema must include at least one class where allowIntent is true, otherwise there are no possible actions for characters to take.\");\r\n\t}\r\n\r\n\tsocialStructure = structure;\r\n\tvalidate.registerSocialStructure(socialStructure);\r\n\treturn socialStructure;\r\n};\r\n\r\n/**\r\n * @method getSocialStructure\r\n * @memberOf CiF\r\n * @public\r\n * @description Returns an object reference describing the social structure loaded into CiF.\r\n *\r\n * @return {Object} A dictionary with top level keys will be each of the social \"classes\" (a la \"relationship\", \"network\", etc.). Each of these contains a dictionary of its subtypes.\r\n */\r\nvar getSocialStructure = function () {\r\n\treturn socialStructure;\r\n}\r\n\r\n/**\r\n * @method getClassDescriptors\r\n * @memberOf CiF\r\n * @public\r\n * @description Returns an object containing fields describing the properties of a given class registered with CiF\r\n *\r\n * @param  {String} className The social class to get information about.\r\n *\r\n * @return {Object} A dictionary with keys for each piece of metadata about the social class: \"directionType\" will be directed, undirected, or reciprocal; \"isBoolean\" will be true or false (false = numeric).\r\n */\r\nvar getClassDescriptors = function (className) {\r\n\tvar descriptors = {};\r\n\tvar c = socialStructure[className];\r\n\tif (c === undefined) {\r\n\t\treturn false;\r\n\t}\r\n\t// The details for every type within a class should be the same, so just go with the first one.\r\n\tfor (var typeName in c) {\r\n\t\tvar t = c[typeName];\r\n\t\tdescriptors.directionType = t.directionType;\r\n\t\tdescriptors.isBoolean = t.isBoolean;\r\n\t\tdescriptors.cloneEachTimeStep = t.cloneEachTimeStep === undefined ? true : t.cloneEachTimeStep;\r\n\t\tdescriptors.duration = t.duration;\r\n\t\tdescriptors.min = t.min;\r\n\t\tdescriptors.max = t.max;\r\n\t\tdescriptors.defaultVal = t.defaultVal;\r\n\t\treturn descriptors;\r\n\t}\r\n\t// If the class was somehow empty, also return false.\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * @method getClassFromType\r\n * @memberOf CiF\r\n * @public\r\n * @description Returns the class name associated with a particular type. TODO: This method is unreliable if we allow the same type name to appear in multiple classes, which we currently do.\r\n *\r\n * @param  {String} type A type from a social scheme (i.e. \"friends\").\r\n *\r\n * @return {String} The name of the social class to which that type belongs (i.e. \"relationships\"), or false if none was found.\r\n */\r\nvar getClassFromType = function (type) {\r\n\tfor (var className in socialStructure) {\r\n\t\tif (socialStructure[className][type] !== undefined) {\r\n\t\t\treturn className;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar isValidTypeForClass = function (type, className) {\r\n\tvar cn = socialStructure[className];\r\n\tif (cn === undefined) return false;\r\n\tif (cn[type] === undefined) return false;\r\n\treturn true;\r\n}\r\n\r\n\r\nvar getSortedTurnsTuple = function (tab) {\r\n\tvar t0Val = tab[0];\r\n\tvar t1Val = tab[1];\r\n\tif (t0Val === \"START\") {\r\n\t\tt0Val = 9999999999;\r\n\t}\r\n\tif (t0Val === \"NOW\") {\r\n\t\tt0Val = 0;\r\n\t}\r\n\tif (t1Val === \"START\") {\r\n\t\tt1Val = 9999999999;\r\n\t}\r\n\tif (t1Val === \"NOW\") {\r\n\t\tt1Val = 0;\r\n\t}\r\n\tif (t0Val > t1Val) {\r\n\t\tvar tmp = tab[0];\r\n\t\ttab[0] = tab[1];\r\n\t\ttab[1] = tmp;\r\n\t}\r\n\treturn tab;\r\n}\r\n\r\nvar savedChars;\r\n\r\n/**\r\n * @method addCharacters\r\n * @public\r\n * @memberOf CiF\r\n *\r\n * @description Load a character definition object.\r\n *\r\n * @param {Object} data A file defining the characters in this story. Should contain a single top-level key, \"cast\", which holds a dictionary of character identifiers, each containing an object with character metadata. If the object contains a key \"name\" with the printed name of the character, the getCharName function can be used to quickly return this.\r\n *\r\n * @return {Array}      An array of strings with all character keys (same as will be used in sfdb entries, etc..\r\n */\r\n\r\nvar addCharacters = function (data) {\r\n\t// STUB: For the moment we aren't doing anything with this data,\r\n\t// other than returning an array of keys.\r\n\tvar charData = data;\r\n\tvar chars = charData.characters;\r\n\tvar objects = charData.objects;\r\n\r\n\tvar i;\r\n\r\n\tsavedChars = [];\r\n\r\n\tfor (i = 0; i < chars.length; i++) {\r\n\t\tvar tempObject = util.clone(chars[i]);\r\n\t\t// tempObject.name = chars[i].name;\r\n\t\ttempObject.type = \"character\";\r\n\t\tsavedChars.push(tempObject);\r\n\t}\r\n\tfor (i = 0; objects !== undefined && i < objects.length; i++) {\r\n\t\tvar tempObject = util.clone(objects[i]);\r\n\t\t// tempObject.name = objects[i].name;\r\n\t\ttempObject.type = \"object\";\r\n\t\tsavedChars.push(tempObject);\r\n\t}\r\n\treturn getCharacters();\r\n};\r\n\r\n/**\r\n * @method getCharacters\r\n * @public\r\n * @memberOf CiF\r\n * Returns an array of character IDs for all registered characters.\r\n *\r\n * @return {Array}      An array of strings with all character keys (same as will be used in sfdb entries, etc..\r\n */\r\nvar getCharacters = function () {\r\n\tlet charNames = [];\r\n\tfor (let character in savedChars) {\r\n\t\tcharNames.push(savedChars[character].name);\r\n\t}\r\n\treturn charNames;\r\n\t// return _.map(savedChars, function (character) { return character.name; });\r\n};\r\n\r\n/**\r\n * @method getCharactersWithMetadata\r\n * @public\r\n * @memberOf CiF\r\n * Returns the full dictionary of all character info.\r\n *\r\n * @return {Object}      A dictionary with the full record of all registered characters.\r\n */\r\nvar getCharactersWithMetadata = function () {\r\n\treturn util.clone(savedChars);\r\n};\r\n\r\n/**\r\n * @method getCharData\r\n * @public\r\n * @memberOf CiF\r\n * Returns a specific piece of metadata for a registered character.\r\n *\r\n * @param {String} char The ID of a registered character.\r\n * @param {String} key The metadata field requested.\r\n *\r\n * @return {Object}      The metadata value for the requested character and key, or undefined if no such key or character were found. The type of the return result is dependent on the type of the requested metadata field.\r\n */\r\nvar getCharData = function (char, key) {\r\n\tfor (let character in savedChars) {\r\n\t\tif (savedChars[character].name === char) {\r\n\t\t\treturn savedChars[character];\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n\t// var character = _.find(savedChars, function (x) { return x.name == char });\r\n\t// if (character === undefined) {\r\n\t// \treturn undefined;\r\n\t// }\r\n\t// return character[key];\r\n};\r\n\r\n/**\r\n * @method getCharName\r\n * @public\r\n * @memberOf CiF\r\n * Shorthand function to return the printed name of a registered character. getCharName(\"sarah\") is identical to getCharData(\"sarah\", \"name\"). Returns the character key if no \"name\" field was found, or undefined if the requested character ID was not found.\r\n *\r\n * @param {String} char The ID of a registered character.\r\n *\r\n * @return {String}      The printed name of the requested character.\r\n */\r\nvar getCharName = function (char) {\r\n\tvar name = getCharData(char, \"name\");\r\n\r\n\t// If name is undefined, just return the character's ID.\r\n\treturn name || char;\r\n};\r\n\r\n/**\r\n * @method addProcessedRules\r\n * @private\r\n * @memberOf CiF\r\n * @description Takes a preprocessed rule object and metadata, validates it, and registers it. Note: addRules() should be called by outside modules, which does the preprocessing.\r\n *\r\n * @param {String} ruleType The key to identify this ruleset. If \"trigger\" or \"volition\", run extra validation code to verify these kinds of rules are constructed properly.\r\n * @param {String} fileName Identifying info about the source of these rules, useful if we need to print error messages.\r\n * @param {Object} rues An array of rule objects, each of which should specify a human-readable \"name\" key.\r\n *\r\n * @return {Array}      An array of strings, unique IDs for each rule added, in the form type_num (i.e. triggerRules_14).\r\n */\r\nvar addProcessedRules = function (ruleType, fileName, rules) {\r\n\r\n\tvar conditionValFunc;\r\n\tvar effectValFunc;\r\n\r\n\tvar ids = [];\r\n\r\n\tconditionValFunc = ruleType === \"trigger\" ? validate.triggerCondition : validate.volitionCondition;\r\n\teffectValFunc = ruleType === \"trigger\" ? validate.triggerEffect : validate.volitionEffect;\r\n\r\n\t// Validate data.\r\n\tvar i, j, rule, tab;\r\n\tfor (i = 0; i < rules.length; i++) {\r\n\r\n\t\trule = rules[i];\r\n\t\tif (rule.name === undefined) {\r\n\t\t\tconsole.log(\"Warning: \" + ruleType + \" Rule #\" + i + \" is missing a 'name'.\");\r\n\t\t}\r\n\t\t//Store the 'origin' of this rule, so we'll always be able to know where it came from, and give it a unique ID.\r\n\t\trule.origin = fileName;\r\n\t\tvar newId = ruleType + \"_\" + util.iterator(\"rules\");\r\n\t\tids.push(newId);\r\n\t\trule.id = newId;\r\n\r\n\t\t// Check conditions\r\n\t\tif (conditionValFunc !== undefined) {\r\n\t\t\tfor (j = 0; j < rule.conditions.length; j++) {\r\n\t\t\t\tconditionValFunc(rule.conditions[j], \"Examining \" + ruleType + \" rule #\" + i + \": '\" + rule.name + \"' Validating condition at position \" + j);\r\n\t\t\t\t// Sort turnsAgoBetween tuple, if present, low-hi.\r\n\t\t\t\tif (rule.conditions[j].turnsAgoBetween !== undefined) {\r\n\t\t\t\t\trule.conditions[j].turnsAgoBetween = getSortedTurnsTuple(rule.conditions[j].turnsAgoBetween);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check effects\r\n\t\tif (effectValFunc !== undefined) {\r\n\t\t\tfor (j = 0; j < rule.effects.length; j++) {\r\n\t\t\t\teffectValFunc(rule.effects[j], \"Examining \" + ruleType + \" rule #\" + i + \": '\" + rule.name + \"' Validating effect at position \" + j);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (rules.length > 0) {\r\n\t\truleLibrary.addRuleSet(ruleType, rules);\r\n\t\treturn ids;\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\n/**\r\n *@method addRules\r\n *@memberof CiF\r\n *@public\r\n *\r\n * @description Takes raw rules data, parses out metadata and verifies everything expected is there, then calls the private function addProcessedRules to validate and register these rules. This function should be the only one used to add rules.\r\n *\r\n * TODO: To fully support custom rulesets, we will need to add another function to RuleLibrary: getRulesByKey(key) that takes in a key, and returns the ruleset specified by that key.\r\n *\r\n * @param {Object} data -- Stringified JSON or Object which should define top level keys \"fileName\", \"ruleType\", and \"rules\".\r\n *\r\n * @return {Array}      An array of strings, unique IDs for each rule added, in the form type_num (i.e. triggerRules_14).\r\n *\r\n */\r\nvar addRules = function (data) {\r\n\tvar parsedData;\r\n\tvar ruleType;\r\n\tvar fileName;\r\n\tvar rules;\r\n\r\n\ttry {\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\tparsedData = JSON.parse(data);\r\n\t\t} else if (typeof data === \"object\") {\r\n\t\t\tparsedData = data;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"unexpected value:\", data);\r\n\t\t\tthrow new Error(\"Error adding rules: unexpected data value: \", typeof data);\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tthrow new Error(\"JSON Error loading rules: \" + e);\r\n\t}\r\n\t// console.log(\"parsedData\", parsedData);\r\n\r\n\tfileName = parsedData.fileName;\r\n\trules = parsedData.rules;\r\n\truleType = parsedData.type;\r\n\r\n\tif (rules === undefined) {\r\n\t\tthrow new Error(\"Error: \" + ruleType + \" rules data file must include a top-level key 'rules'\");\r\n\t}\r\n\tif (ruleType === undefined) {\r\n\t\tthrow new Error(\"Error: \" + ruleType + \" rules data file must include a top-level key 'type' that is either 'trigger', 'volition', or a custom ruleset key.\");\r\n\t}\r\n\r\n\treturn addProcessedRules(ruleType, fileName, rules);\r\n\r\n};\r\n\r\n/**\r\n *@method getRules\r\n *@memberof CiF\r\n *@public\r\n *\r\n * @description TTakes a name of a rule set and returns the corresponding\r\n * rule set.\r\n *\r\n *\r\n * @param {Object} ruleSetName -- The string name of the rule set.\r\n *\r\n * @return {Array} An array containing rules or an empty array if no rule\r\n *\t\tcorrespond to the ruleSetName was found.\r\n *\r\n */\r\nvar getRules = function (ruleSetName) {\r\n\tif (ruleSetName === \"trigger\") {\r\n\t\treturn ruleLibrary.getTriggerRules();\r\n\t}\r\n\tif (ruleSetName === \"volition\") {\r\n\t\treturn ruleLibrary.getVolitionRules();\r\n\t}\r\n\t//add support for arbitrary ruleSet labels\r\n\treturn ruleLibrary.getRuleSet(ruleSetName);\r\n\r\n}\r\n\r\nvar setRuleById = function (label, rule) {\r\n\r\n\tvar ruleSet = label.substring(0, label.lastIndexOf(\"_\"));\r\n\t//\t\tvar ruleSet = label.split(\"_\")[0];\r\n\r\n\t// Ensure the new rule is valid.\r\n\tvar results = validate.rule(rule);\r\n\tif (typeof results === \"string\") {\r\n\t\t// Validation failed.\r\n\t\tconsole.log(\"Tried to setRulesById for '\" + label + \"' but validation failed: \" + results);\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// DISABLED check for existing rule, b/c this flags as true when updating a rule! What we actually need is a way for isRuleAlreadyInRuleSet to return the ID of the matching rule(s), so we could allow that in this case.\r\n\t// if (ruleLibrary.isRuleAlreadyInRuleSet(ruleSet, rule)) {\r\n\t// \tconsole.log(\"Tried to setRulesById for '\" + label + \"' but an identical rule already exists.\");\r\n\t// \treturn false;\r\n\t// }\r\n\r\n\treturn ruleLibrary.setRuleById(label, rule);\r\n}\r\n\r\n// Public-facing function to access the SFDB. Does verification on input. Internal functions should use sfdb.get instead.\r\nvar getSFDB = function (searchPredicate, mostRecentTime, lessRecentTime) {\r\n\r\n\t// TODO: Make sure operator is not + or -\r\n\r\n\t// Ensure time window. Set to 0 if undefined.\r\n\tmostRecentTime = mostRecentTime || 0;\r\n\tlessRecentTime = lessRecentTime || 0;\r\n\r\n\t// Convert turnsAgoBetween to time window.\r\n\tif (searchPredicate.turnsAgoBetween !== undefined) {\r\n\t\tmostRecentTime += searchPredicate.turnsAgoBetween[0];\r\n\t\tlessRecentTime += searchPredicate.turnsAgoBetween[1];\r\n\t}\r\n\r\n\t// Ensure proper time window ordering.\r\n\tif (mostRecentTime > lessRecentTime) {\r\n\t\tvar tmp = mostRecentTime;\r\n\t\tmostRecentTime = lessRecentTime;\r\n\t\tlessRecentTime = tmp;\r\n\t}\r\n\r\n\t// Ensure SFDB has been initialized.\r\n\tif (sfdb.getCurrentTimeStep() === -1) {\r\n\t\tsfdb.setupNextTimeStep(0);\r\n\t}\r\n\r\n\treturn sfdb.get(searchPredicate, mostRecentTime, lessRecentTime);\r\n};\r\n\r\n//public facing function to put a character offstage.\r\n\r\nvar setCharacterOffstage = function (characterName) {\r\n\tsfdb.putCharacterOffstage(characterName);\r\n};\r\n\r\n//public facing function to see if a character is offstage or not.\r\nvar getIsCharacterOffstage = function (characterName) {\r\n\treturn (sfdb.getIsCharacterOffstage(characterName));\r\n};\r\n\r\n//public facing function to place a character onstage.\r\nvar setCharacterOnstage = function (characterName) {\r\n\tsfdb.putCharacterOnstage(characterName);\r\n};\r\n\r\n//public facing function to see if a character is onstage or not.\r\nvar getIsCharacterOnstage = function (characterName) {\r\n\tvar characterOffstage = sfdb.getIsCharacterOffstage(characterName);\r\n\treturn (!characterOffstage);\r\n};\r\n\r\n//public facing function to see if a character has been eliminated.\r\nvar setCharacterEliminated = function (characterName) {\r\n\tsfdb.eliminateCharacter(characterName);\r\n};\r\n\r\n//public facing function to see if a character has been eliminated or not.\r\nvar getIsCharacterEliminated = function (characterName) {\r\n\tsfdb.getIsCharacterEliminated(characterName);\r\n};\r\n\r\n//public facing function to make two characters perform an action.\r\nvar doAction = function (actionName, initiator, responder, registeredVolitions) {\r\n\tactionLibrary.doAction(actionName, initiator, responder, registeredVolitions);\r\n};\r\n\r\n\r\n/**\r\n * @method reset\r\n * @public\r\n * @memberOf CiF\r\n * @description Completely resets CiF to a blank-slate state.\r\n *\r\n */\r\nvar reset = function () {\r\n\t// Clear all social structure info.\r\n\tsocialStructure = undefined;\r\n\r\n\t// Clear all character info\r\n\t// For now, we aren't storing this anyway.\r\n\r\n\t// Clear the SFDB History.\r\n\tsfdb.clearEverything();\r\n\r\n\t// Clear all rules.\r\n\truleLibrary.clearRuleLibrary();\r\n};\r\n\r\nvar predicateNLG = function(pred) {\r\n\tlet authoredNLGForPred = rawNLG.nlg[pred.class][pred.type];\r\n\tlet schemaForPredType = rawSchema.schema.filter((entry)=>entry.class===pred.class)[0];\r\n\tlet authoredNLG = \"\";\r\n\tif (schemaForPredType.isBoolean) {\r\n\t\tauthoredNLG = (pred.value) ? authoredNLGForPred.true : authoredNLGForPred.false;\r\n\t} else {\r\n\t\t// This means it is numerical\r\n\t\tlet highestValidNumber = -9999;\r\n\t\tfor (let key in authoredNLGForPred) {\r\n\t\t\tlet number = Number(key);\r\n\t\t\tlet predValueOrWeight = pred.weight ?? pred.value; // prioritize weight (this is for microtheory rules from practice manager)\r\n\t\t\tif (authoredNLG === \"\" || (number < predValueOrWeight && number > highestValidNumber)) {\r\n\t\t\t\thighestValidNumber = number;\r\n\t\t\t\tauthoredNLG = authoredNLGForPred[highestValidNumber];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// now put the character names in there\r\n\tlet predString = authoredNLG.replace(\"%x%\", pred.first);\r\n\tif (schemaForPredType.directionType !== \"undirected\") {\r\n\t\tpredString = predString.replace(\"%y%\", pred.second);\r\n\t}\r\n\treturn predString;\r\n}\r\n\r\n\r\n\r\n/***************************************************************/\r\n/* INTERFACE */\r\n/***************************************************************/\r\n\r\n/**\r\n * @method init\r\n * @public\r\n * @memberOf CiF\r\n * @description initializes cif to be ready for use.\r\n * @return {String} Returns a success message upon initialization.\r\n *\r\n */\r\nvar init = function () {\r\n\tsfdb.init();\r\n\treturn \"Ok\";\r\n};\r\n\r\nvar cifInterface = {\r\n\tinit: init,\r\n\tloadSocialStructure: loadSocialStructure,\r\n\tgetSocialStructure: getSocialStructure,\r\n\tgetClassDescriptors: getClassDescriptors,\r\n\tgetClassFromType: getClassFromType,\r\n\tisValidTypeForClass: isValidTypeForClass,\r\n\taddCharacters: addCharacters,\r\n\tgetCharacters: getCharacters,\r\n\tgetCharactersWithMetadata: getCharactersWithMetadata,\r\n\tgetCharData: getCharData,\r\n\tgetCharName: getCharName,\r\n\r\n\tloadBaseBlueprints: loadBaseBlueprints,\r\n\tloadFile: loadFile,\r\n\r\n\tcalculateVolition: ruleLibrary.calculateVolition,\r\n\trunTriggerRules: ruleLibrary.runTriggerRules,\r\n\truleToEnglish: ruleLibrary.ruleToEnglish,\r\n\tpredicateToEnglish: ruleLibrary.predicateToEnglish,\r\n\tpredicateNLG: predicateNLG,\r\n\r\n\tpredicateArrayToEnglish: ruleLibrary.predicateArrayToEnglish,\r\n\tdumpSFDB: sfdb.dumpSFDB,\r\n\tset: sfdb.set,\r\n\tget: getSFDB,\r\n\tsetCharacterOffstage: setCharacterOffstage,\r\n\tgetIsCharacterOffstage: getIsCharacterOffstage,\r\n\tsetCharacterOnstage: setCharacterOnstage,\r\n\tgetIsCharacterOnstage: getIsCharacterOnstage,\r\n\tsetCharacterEliminated: setCharacterEliminated,\r\n\tgetIsCharacterEliminated: getIsCharacterEliminated,\r\n\tsetupNextTimeStep: sfdb.setupNextTimeStep,\r\n\tgetRegisteredDirection: sfdb.getRegisteredDirection,\r\n\tgetAction: actionLibrary.getAction,\r\n\tgetActions: actionLibrary.getActions,\r\n\taddActions: actionLibrary.parseActions,\r\n\taddHistory: sfdb.addHistory,\r\n\r\n\taddRules: addRules,\r\n\tgetRules: getRules,\r\n\tsetRuleById: setRuleById,\r\n\tgetRuleById: ruleLibrary.getRuleById,\r\n\tdeleteRuleById: ruleLibrary.deleteRuleById,\r\n\r\n\tdoAction: doAction,\r\n\r\n\treset: reset,\r\n\r\n\tpracticeManager: practiceManager,\r\n\tactionLibrary: actionLibrary,\r\n\truleLibrary: ruleLibrary,\r\n\tsfdb: sfdb,\r\n\tvalidate: validate,\r\n\r\n\trawSchema: rawSchema,\r\n\trawCast: rawCast,\r\n\trawHistory: rawHistory,\r\n\trawPractices: rawPractices,\r\n\trawMTSet: rawMTSet,\r\n\trawGoals: rawGoals,\r\n\trawNLG: rawNLG\r\n};\r\n\r\n/* test-code */\r\n/* end-test-code */\r\n\r\n//EXPERIMENT: don't think we want these to be public.\r\n//addTriggerRules\t\t\t: addTriggerRules,\r\n//addVolitionRules\t\t: addVolitionRules,\r\n\r\n// // cif = ensembleInterface;\r\n// var event = document.createEvent('Event');\r\n// event.initEvent('cifLoaded', true, true);\r\n// document.dispatchEvent(event);\r\n\r\nexport default cifInterface;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 261;\nmodule.exports = webpackEmptyAsyncContext;","/**\n * This is the class Validate, for verification of predicates and other data.\n *\n */\n\n\nimport util from \"./util.js\";\n// import _ from \"./underscore-min.js\";\n\nvar allowedDirTypes = [\"directed\", \"undirected\", \"reciprocal\"];\nvar allowedOpsConditions = [\">\", \"<\", \"=\"];\nvar allowedOpsEffects = [\"+\", \"-\", \"=\"];\nvar allowedTurnConstants = [\"now\", \"start\"];\n\nvar socialStructure;\n/**\n * @method registerSocialStructure\n * @memberOf Validate\n * @description Store a local copy of the registered social structure, to check predicates for validity. Called by cif.loadSocialStructure. Shouldn't be needed by end users.\n *\n * @param  {Object} ss     A reference to the social schema registered in cif.\n *\n */\nvar registerSocialStructure = function (ss) {\n\tsocialStructure = ss;\n};\n\n/**\n * @method triggerCondition\n * @memberOf Validate\n * @description Checks that a trigger condition predicate is structured properly, throwing an error if it is not, and returning the predicate reference back if is.\n *\n * @param  {Object} pred     A trigger condition predicate object.\n * @param  {String} preamble Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invalid predicate can contain this information.\n *\n * @return {Object}          The same predicate reference passed in, if valid.\n */\nvar triggerCondition = function (pred, preamble) {\n\tcheckPredicate(pred, \"condition\", \"trigger\", preamble);\n\treturn pred;\n};\n\n/**\n * @method triggerEffect\n * @memberOf Validate\n * @description Checks that a trigger effect predicate is structured properly, throwing an error if it is not, and returning the predicate reference back if is.\n *\n * @param  {Object} pred     A trigger effect predicate object.\n * @param  {String} preamble Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invalid predicate can contain this information.\n *\n * @return {Object}          The same predicate reference passed in, if valid.\n */\nvar triggerEffect = function (pred, preamble) {\n\tcheckPredicate(pred, \"effect\", \"trigger\", preamble);\n\treturn pred;\n};\n\n/**\n * @method volitionCondition\n * @memberOf Validate\n * @description Checks that a volition condition predicate is structured properly, throwing an error if it is not, and returning the predicate reference back if is.\n *\n * @param  {Object} pred     A volition condition predicate object.\n * @param  {String} preamble Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invalid predicate can contain this information.\n *\n * @return {Object}          The same predicate reference passed in, if valid.\n */\nvar volitionCondition = function (pred, preamble) {\n\tcheckPredicate(pred, \"condition\", \"volition\", preamble);\n\treturn pred;\n};\n\n/**\n * @method volitionEffect\n * @memberOf Validate\n * @description Checks that a volition effect predicate is structured properly, throwing an error if it is not, and returning the predicate reference back if is.\n *\n * @param  {Object} pred     A volition effect predicate object.\n * @param  {String} preamble Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invalid predicate can contain this information.\n *\n * @return {Object}          The same predicate reference passed in, if valid.\n */\nvar volitionEffect = function (pred, preamble) {\n\tcheckPredicate(pred, \"effect\", \"volition\", preamble);\n\treturn pred;\n};\n\n/**\n * @method blueprint\n * @memberOf Validate\n * @description Checks that a blueprint predicate is structured properly, throwing an error if it is not, and returning the predicate reference back if is.\n *\n * @param  {Object} pred     A blueprint predicate object.\n * @param  {String} preamble Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invalid predicate can contain this information.\n *\n * @return {Object}          The same predicate reference passed in, if valid.\n */\n\nvar blueprint = function (pred, preamble) {\n\tcheckPredicate(pred, \"blueprint\", \"\", preamble);\n\treturn pred;\n};\n\n/**\n * @method rule\n * @memberOf Validate\n * @description Checks to ensure a whole trigger or volition rule is valid. Returns the error message explaining what's wrong if it's not, otherwise returns the whole rule.\n *\n * @param  {Object} rule     An object containing a trigger or volition rule. Should have top level keys \"conditions\" and \"effects\". Auto-determines what kind of rule it is by checking to see whether the first effect includes a weight.\n *\n * @return {Object}          Either an object if valid (the original rule) or a string if invalid (the error message).\n */\nvar rule = function (rule) {\n\tvar isVolition = rule.effects[0].weight !== undefined;\n\tvar effectValidator = isVolition ? volitionEffect : triggerEffect;\n\tvar conditionValidator = isVolition ? volitionCondition : triggerCondition;\n\ttry {\n\t\tfor (var i = 0; i < rule.effects.length; i++) {\n\t\t\tvar effect = rule.effects[i];\n\t\t\teffectValidator(effect, \"\" + (isVolition ? \"Volition\" : \"Trigger\") + \" Rule Effect #\" + i);\n\t\t}\n\t\tfor (var i = 0; i < rule.conditions.length; i++) {\n\t\t\tvar condition = rule.conditions[i];\n\t\t\tconditionValidator(condition, \"\" + (isVolition ? \"Volition\" : \"Trigger\") + \" Rule Condition #\" + i);\n\t\t}\n\t} catch (e) {\n\t\treturn e.message;\n\t}\n\treturn rule;\n}\n\n/**\n * @method action\n * @memberOf Validate\n * @description Checks that an action is structured properly, throwing an error if it is not, and returning the predicate reference back if it is.\n * \n * @param  {[Object]} pred     [An action predicate object.]\n * @param  {[String]} preamble [Optional string explaining the context of this predicate, i.e. the specific unit test it's part of, so the error thrown for an invaid predicate can contain this information.]\n * \n * @return {[Object]}          [The same predicate reference passed in, if valid.]\n */\nvar action = function (pred, preamble) {\n\tconsole.log(\"TODO: Make Validate for reading in actions!\");\n\t//checkPredicate(pred, \"action\", \"\", preamble);\n\treturn pred;\n}\n\n/**\n * @method checkPredicate\n * @memberOf Validate\n * @description Internal function to deal with the wrapper functions triggerCondition, triggerEffect, volitionCondition, etc. Itself a wrapper for isPredBad, which handles the bulk of the work. Here we simply display diagnostic information to the console and throw an error if a bad predicate is found.\n * @private\n *\n * @param  {Object} pred     The predicate to check.\n * @param  {String} type     Predicate type, either \"condition\" or \"effect\"\n * @param  {String} category Subtype, if necessary (i.e. \"trigger\", \"volition\")\n * @param  {String} preamble Text explaining the origin of the predicate being tested.\n *\n * @return {Boolean}          Returns false (the result of isPredBad) or throws an error.\n */\nvar checkPredicate = function (pred, type, category, preamble) {\n\tvar result = isPredBad(pred, type, category);\n\tif (result !== false) {\n\t\tconsole.log(\"Bad predicate: \", pred);\n\t\tthrow new Error(preamble + \" and found a malformed predicate: \" + result + \".\");\n\t}\n\treturn result;\n};\n\nvar isPredBad = function (predicate, type, category) {\n\n\t// Make a local copy of the predicate. We will strip fields out of this copy until we've validated all of them, or we are left with extra unrecognized fields.\n\tvar pred = util.clone(predicate);\n\n\t// Create a variable to store information about what went wrong with the predicate.\n\tvar msg = \"\";\n\n\t// Skip SFDBLabel predicates for now.\n\tif (predicate.class === \"SFDBLabel\" || predicate.class === \"SFDBLabelUndirected\") return false;\n\n\t// Verify that the contents of a particular key exist and are of the expected type. If isRequired is false, it's okay for the given key to be missing. Add problem details to the isPredBad scoped \"msg\" variable.\n\tvar isTypeWrong = function (pred, key, type, isRequired) {\n\t\tif (pred[key] === undefined) {\n\t\t\tif (!isRequired) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tmsg += \"'\" + key + \"' was undefined\";\n\t\t\treturn true;\n\t\t}\n\t\tvar jsType = typeof pred[key];\n\t\tif (type === \"array\" && util.isArray(pred[key])) {\n\t\t\t// Allow this to pass.\n\t\t\ttype = \"object\";\n\t\t}\n\t\tif (jsType !== type) {\n\t\t\tmsg += \"'\" + key + \"' was '\" + pred[key] + \"' which seems to be of type '\" + jsType + \"' instead of '\" + type + \"'\";\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tif (isTypeWrong(pred, \"class\", \"string\", true)) {\n\t\treturn msg;\n\t}\n\n\t// Handle blueprints.\n\tif (type === \"blueprint\") {\n\t\tif (!util.isArray(pred.types) || pred.types.length === 0 || typeof pred.types[0] !== \"string\") {\n\t\t\treturn \"key 'types' should be a non-empty array of strings; was '\" + pred.types + \"'\";\n\t\t}\n\t\tdelete pred.types;\n\n\t\tif (isTypeWrong(pred, \"isBoolean\", \"boolean\", true)) return msg;\n\t\tif (isTypeWrong(pred, \"directionType\", \"string\", true)) return msg;\n\t\tif (allowedDirTypes.indexOf(pred.directionType) < 0) {\n\t\t\treturn \"directionType was '\" + pred.directionType + \"' but it should have been one of \" + util.listWriter(allowedDirTypes);\n\t\t}\n\t\tdelete pred.directionType;\n\n\t\tif (isTypeWrong(pred, \"duration\", \"number\", false)) return msg;\n\t\tif (pred.duration !== undefined && (pred.duration < 1 || !util.isInt(pred.duration))) {\n\t\t\treturn \"duration was '\" + pred.duration + \"' which does not seem to be an integer > 0.\";\n\t\t}\n\t\tdelete pred.duration;\n\n\t\tif (pred.defaultValue !== undefined && (pred.isBoolean === true && typeof pred.defaultValue !== \"boolean\") || (pred.isBoolean === false && typeof pred.defaultValue !== \"number\")) {\n\t\t\treturn \"mismatch between blueprint isBoolean '\" + pred.isBoolean + \"' and type of defaultValue '\" + pred.defaultValue + \"' (\" + typeof pred.defaultValue + \")\";\n\t\t}\n\t\tdelete pred.defaultValue;\n\n\t\tif (pred.isBoolean === true && ((pred.minValue !== undefined) || (pred.maxValue !== undefined))) {\n\t\t\treturn \"blueprint specifies this is a boolean type but provides a min ('\" + pred.minValue + \"') or max ('\" + pred.maxValue + \"') value: this is not allowed.\";\n\t\t}\n\t\tif (pred.minValue !== undefined && typeof pred.minValue !== \"number\") {\n\t\t\treturn \"mismatch between blueprint and type of minValue '\" + pred.minValue + \"' (\" + typeof pred.minValue + \"); expected a number.\";\n\t\t}\n\t\tdelete pred.minValue;\n\n\t\tif (pred.maxValue !== undefined && typeof pred.maxValue !== \"number\") {\n\t\t\treturn \"mismatch between blueprint and type of maxValue '\" + pred.maxValue + \"' (\" + typeof pred.maxValue + \"); expected a number.\";\n\t\t}\n\t\tdelete pred.maxValue;\n\n\t\tif (isTypeWrong(pred, \"allowIntent\", \"boolean\", false)) return msg;\n\t\tdelete pred.allowIntent;\n\n\t\tdelete pred.isBoolean;\n\t} else {// if type is not blueprint\n\n\t\t// Lookup details about this predicate.\n\t\tif (socialStructure[pred.class] === undefined) {\n\t\t\treturn \"class '\" + pred.class + \"' is not a registered social scheme category.\";\n\t\t}\n\t\tif (socialStructure[pred.class][pred.type] === undefined) {\n\t\t\tconsole.log(\"pred.class\", pred.class, \"pred.type\", pred.type);\n\t\t\tconsole.log(\"socialStructure\", socialStructure);\n\t\t\treturn \"found class \" + pred.class + \" type \" + pred.type + \" but that type does not appear to be registered for that class.\";\n\t\t}\n\t\tvar descriptors = socialStructure[pred.class][pred.type];\n\t\tvar dir = descriptors.directionType;\n\t\tvar isBool = descriptors.isBoolean;\n\n\t\tif (isTypeWrong(pred, \"type\", \"string\", true)) return msg;\n\n\t\tdelete pred.type;\n\n\t\tif (isTypeWrong(pred, \"first\", \"string\", true)) return msg;\n\t\t// Could strengthen here to register cast and check we are specifying a character that's been defined.\n\n\t\tvar okayOps = type === \"condition\" ? allowedOpsConditions : allowedOpsEffects;\n\n\t\tif (pred.operator !== undefined && okayOps.indexOf(pred.operator) < 0) {\n\t\t\treturn \"unrecognized operator: '\" + pred.operator + \"'. In \" + type + \" predicates, the only valid operators are \" + util.listWriter(okayOps);\n\t\t}\n\t\tdelete pred.operator;\n\n\t\tif (pred.second !== undefined && dir === \"undirected\") {\n\t\t\treturn \"key second: '\" + pred.second + \"' found but class '\" + predicate.class + \"' is undirected\";\n\t\t}\n\t\t// Temporarily relaxing the below constraint, because it makes it hard to swap roles in the Rule Editor. (Currently, the editor validates any change by verifying the changed rule is valid with this code; however, to swap two roles, you must first change one role to the other, which makes the rule invalid. In some ways this is a sort of higher-level validity check which we don't conceptually account for now: a rule with the same person in both roles is technically valid, it just can't ever be true.)\n\t\t// if (pred.second !== undefined && pred.second === pred.first) {\n\t\t// \treturn \"key second: '\" + pred.second + \"' found but this is the same as key first; this is not allowed.\";\n\t\t// }\n\t\tif (dir !== \"undirected\" && pred.second === undefined) {\n\t\t\treturn \"no 'second' found but type '\" + pred.type + \"' is \" + dir + \".\";\n\t\t}\n\t\tdelete pred.first;\n\t\tdelete pred.second;\n\n\t\tif (type === \"condition\" || (type === \"effect\" && category === \"trigger\")) {\n\t\t\tif (pred.value === undefined && !isBool) {\n\t\t\t\treturn \"'value' was undefined: for numeric types, must be defined\";\n\t\t\t}\n\t\t\tif (!isBool && typeof pred.value !== \"number\") {\n\t\t\t\treturn \"'value' was '\" + pred.value + \"' which seems to be of type '\" + typeof pred.value + \"' but class '\" + predicate.class + \"' specifies isBoolean false\";\n\t\t\t}\n\t\t\tif (!isBool && isNaN(pred.value)) {\n\t\t\t\treturn \"'value' was '\" + pred.value + \"' which is not a number: class '\" + predicate.class + \"' specifies numeric value\";\n\t\t\t}\n\t\t\tif (isBool && typeof pred.value !== \"boolean\" && pred.value !== undefined) {\n\t\t\t\treturn \"'value' was '\" + pred.value + \"' which seems to be of type '\" + typeof pred.value + \"' but class '\" + predicate.class + \"' specifies isBoolean true\";\n\t\t\t}\n\t\t\tif (!isBool) {\n\t\t\t\tif (typeof descriptors.max === \"number\" && pred.value > descriptors.max) {\n\t\t\t\t\treturn \"'value' was '\" + pred.value + \"' but that exceeds max of '\" + descriptors.max + \"' for class '\" + predicate.class + \"'\";\n\t\t\t\t}\n\t\t\t\tif (typeof descriptors.min === \"number\" && pred.value < descriptors.min) {\n\t\t\t\t\treturn \"'value' was '\" + pred.value + \"' but that's below min of '\" + descriptors.min + \"' for class '\" + predicate.class + \"'\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete pred.value;\n\t\t}\n\n\t\tif (type === \"condition\") {\n\n\t\t\tif (pred.turnsAgoBetween !== undefined) {\n\t\t\t\tif (isTypeWrong(pred, \"turnsAgoBetween\", \"array\", false)) return msg;\n\n\t\t\t\tvar tab = pred.turnsAgoBetween\n\t\t\t\tif (tab.length !== 2) {\n\t\t\t\t\treturn \"key turnsAgoBetween must be an array with exactly two entries; found \" + tab.length + \" (\" + tab.join(\", \") + \")\";\n\t\t\t\t}\n\n\t\t\t\tvar testTupleEntries = function (pos) {\n\t\t\t\t\tvar validmsg = \"entry \" + pos + \" of turnsAgoBetween tuple must be a positive integer representing a number of turns into the past to check, or a valid quoted keyword (\" + allowedTurnConstants.join(\", \") + \")\";\n\t\t\t\t\tif (typeof tab[pos] === \"string\") {\n\t\t\t\t\t\tif (allowedTurnConstants.indexOf(tab[pos].toLowerCase()) < 0) {\n\t\t\t\t\t\t\treturn validmsg + \"; instead saw string '\" + tab[pos] + \"'\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof tab[pos] === \"number\") {\n\t\t\t\t\t\tif (!util.isInt(tab[pos])) {\n\t\t\t\t\t\t\treturn validmsg + \"; instead saw number '\" + tab[pos] + \"'\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tab[pos] < 0) {\n\t\t\t\t\t\t\treturn validmsg + \"; instead saw negative integer '\" + tab[pos] + \"'\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn validmsg + \"; instead saw \" + typeof tab[pos] + \" '\" + tab[pos] + \"'.\";\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar res;\n\t\t\t\tres = testTupleEntries(0);\n\t\t\t\tif (res !== false) return res;\n\t\t\t\tres = testTupleEntries(1);\n\t\t\t\tif (res !== false) return res;\n\n\t\t\t\tdelete pred.turnsAgoBetween;\n\t\t\t}\n\n\t\t\tif (isTypeWrong(pred, \"order\", \"number\", false)) return msg;\n\t\t\tif (pred.order && (!util.isInt(pred.order) || pred.order < 0)) {\n\t\t\t\treturn \"key order: '\" + pred.order + \"' seems not to be a positive integer\";\n\t\t\t}\n\t\t\tdelete pred.order;\n\n\t\t} else if (type === \"effect\") {\n\n\t\t\tif (category === \"volition\") {\n\t\t\t\tif (isTypeWrong(pred, \"weight\", \"number\", true)) return msg;\n\t\t\t\tdelete pred.weight;\n\n\t\t\t\tif (isTypeWrong(pred, \"intentDirection\", \"boolean\", true)) return msg;\n\t\t\t\tdelete pred.intentDirection;\n\n\t\t\t\tdelete pred.value\n\t\t\t}\n\t\t}\n\t}\n\n\tdelete pred.class;\n\n\t// Look for extra keys.\n\tdelete pred.comment;\n\tvar remainingKeys = Object.keys(pred);\n\tfor (var i = 0; i < remainingKeys.length; i++) {\n\t\tif (pred[remainingKeys[i]] !== undefined) {\n\t\t\treturn \"found unexpected key for \" + type + \" predicate: '\" + remainingKeys[i] + \"'\";\n\t\t}\n\t}\n\treturn false;\n};\n\nvar validateInterface = {\n\n\trule: rule,\n\ttriggerCondition: triggerCondition,\n\ttriggerEffect: triggerEffect,\n\tvolitionCondition: volitionCondition,\n\tvolitionEffect: volitionEffect,\n\tblueprint: blueprint,\n\taction: action,\n\n\tregisterSocialStructure: registerSocialStructure\n\n};\n\n/* test-code */\n/* end-test-code */\n\nexport default validateInterface\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","/* jshint esversion:6, -W033 */\n/*\nThis may be better named as SocialPracticeManager. It could contain high-level\nfunctions dealing with social practices like: get choices, select actions,\napply effects and stage transition. Having it be the control point for using\nsocial practices could be good. It would be like an add-on component to cif.js.\n*/\nimport cif from \"./CiF.js\";\nimport ruleLibrary from \"./RuleLibrary.js\";\nimport util from \"./util.js\";\nimport sfdb from \"./SFDB.js\";\nimport aunlg from \"./AUNLG.js\";\n\n\nvar practices = [];\n\nvar practiceSummaries = [];\n\nvar currentPractice = {};\n\nvar currentRoleBindings = {};\n\nvar currentStage = {};\n\nvar currentCast;\n\nvar currentAction = {};\n\nvar possibleActions = [];\n\nvar usePerformanceTrees = false;\n\nvar scoredActionsInfo = [];\nvar scoredMTInfo = {};\n\nvar defaultPerformanceLine = \"\";\n\nvar addPractice = function (rawPractice) {\n\tpractices.push(rawPractice);\n}\n\nvar removePractice = function (practice) {\n\tvar index = practices.indexOf(practice);\n\tif (index !== -1) {\n\t\tpractices.splice(index, 1);\n\t\treturn;\n\t}\n\t//\tconsole.log(\"removePractice() - Tried to remove a practice that was not in practices.\");\n}\n\nvar setCast = function (cast) {\n\tcurrentCast = cast;\n}\n\nvar getPractices = function () { return practices; }\nvar setPractices = function (value) { practices = value; }\n\nvar getCurrentPractice = function () { return currentPractice; }\nvar getPracticeByName = function (practiceName) {\n\tvar practices = getPractices();\n\tfor (var practiceCount = 0; practiceCount < practices.length; practiceCount++) {\n\t\tif (practiceName === practices[practiceCount].label) {\n\t\t\treturn practices[practiceCount];\n\t\t}\n\t}\n}\n\nvar setCurrentPractice = function (value) {\n\tif (typeof value === \"string\") {\n\t\tcurrentPractice = getPracticeByName(value);\n\t}\n\telse {\n\t\tcurrentPractice = value;\n\t}\n\t//This is where we reset the contexts for a practice\n\tcurrentPractice.actionContexts = [];\n\tif (currentPractice.subject !== undefined) {\n\t\tdelete currentPractice.subject;\n\t}\n\t//contextHistory.push(currentPractice.actionContexts);\n}\n\nvar isEmptyObject = function (obj) {\n\tfor (var key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nvar getCurrentStage = function () { return currentStage; }\nvar setCurrentStage = function (value) {\n\tvar practice = getCurrentPractice();\n\tif (isEmptyObject(practice)) {\n\t\t//\t\tconsole.log(\"setCurrentStage(\" + value + \"): currentPractice not set.\");\n\t}\n\telse if (typeof value === \"string\") {\n\t\tvar stages = practice.stages;\n\t\tfor (var stageCount = 0; stageCount < stages.length; stageCount++) {\n\t\t\tif (value === stages[stageCount].label) {\n\t\t\t\tcurrentStage = stages[stageCount];\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value === undefined) {\n\t\t\tcurrentStage = value;\n\t\t}\n\t\t//console.log(\"setCurrentStage(\" + value + \"): Stage by name \" + value + \" was not found in the current practices stages.\");\n\t}\n\telse {\n\t\tcurrentStage = value;\n\t}\n}\n\nvar getPossibleActions = function () { return possibleActions; }\n\nvar getCurrentAction = function () { return currentAction; }\n//It is assumed that we always get current action based on the current stage\nvar setCurrentAction = function (value) {\n\tvar stage = getCurrentStage();\n\tif (isEmptyObject(stage) || stage === undefined) {\n\t\tconsole.log(\"setCurrentAction(\" + value + \"): currentStage not set.\");\n\t} else if (typeof value === \"string\") {\n\t\tvar actions = getPossibleActions();\n\t\tfor (var actionCount = 0; actionCount < actions.length; actionCount++) {\n\t\t\tif (value === actions[actionCount].label) {\n\t\t\t\tcurrentAction = actions[actionCount];\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\t\tconsole.log(\"setCurrentAction(\" + value + \"): Action by name \" + value + \" was not found in the current stage of the current practice.\");\n\t}\n\telse {\n\t\tcurrentAction = value;\n\t}\n}\n\nvar getCurrentRoleBindings = function () {\n\treturn currentRoleBindings;\n}\n\nvar launchStage = function (stage, x, y) {\n\tcurrentRoleBindings.x = x;\n\tcurrentRoleBindings.y = y;\n\tsetCurrentStage(stage);\n}\n\n\n// This function populates \"possibleActions\" with an array of actions that are \n// in the next stages, and have their preconditions met.\nvar generateActions = function (considerEventStages) {\n\tvar roleBindings = currentRoleBindings;\n\tvar cast = currentCast;\n\n\tvar actionList = [];\n\tvar ruleResult = {};\n\tvar actionCount = 0;\n\tvar stageActions = [];\n\tvar actionToPush = {};\n\n\t//get all actions from currentPractice's next stages\n\tvar stage = getCurrentStage();\n\tvar nextStages = [];\n\tif (stage === undefined) {\n\t\t//If we don't have a currentStage, assume we are at the beginning of a\n\t\t//practice and set nextStages to the currentPractice's entryStages.\n\t\tnextStages = getCurrentPractice().entryStages;\n\t} else {\n\t\tnextStages = stage.nextStages;\n\t}\n\n\tfor (var stageCount = 0; stageCount < nextStages.length; stageCount++) {\n\t\tvar nextStage = getStageByLabel(nextStages[stageCount]);\n\t\tstageActions = nextStage.actions;\n\t\tfor (actionCount = 0; actionCount < stageActions.length; actionCount++) {\n\t\t\tstageActions[actionCount].parentStage = nextStage.label;\n\t\t\t//if the precondition for the action is true\n\t\t\t// if (stageActions[actionCount].preconditions.length > 0) {\n\t\t\t// \tconsole.log(\"&&&&&&& \" + stageActions[actionCount].preconditions[0]);\n\t\t\t// }\n\t\t\truleResult = evaluateRule(stageActions[actionCount].preconditions, roleBindings, cast);\n\t\t\tif (ruleResult.success) {\n\t\t\t\t//NOTE: we are adding a element to this particular list of actions. This element is not part of the action class.\n\t\t\t\tactionToPush = util.clone(stageActions[actionCount]);\n\t\t\t\tactionToPush.possibleRoleBindings = ruleResult.possibleRoleBindings;\n\t\t\t\tactionList.push(actionToPush);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (considerEventStages) {\n\t\t//get all actions from eventStages\n\t\tvar eventStages = currentPractice.eventStages;\n\t\tfor (var eventCount = 0; eventCount < eventStages.length; eventCount++) {\n\t\t\tstageActions = eventStages[eventCount].actions;\n\t\t\tfor (actionCount = 0; actionCount < stageActions.length; actionCount++) {\n\t\t\t\truleResult = evaluateRule(stageActions[actionCount].preconditions, roleBindings, cast);\n\t\t\t\tif (ruleResult.success) {\n\t\t\t\t\t//NOTE: we are adding a element to this particular list of actions. This element is not part of the action class.\n\t\t\t\t\tactionToPush = util.clone(stageActions[actionCount]);\n\t\t\t\t\tactionToPush.possibleRoleBindings = ruleResult.possibleRoleBindings;\n\t\t\t\t\tactionList.push(actionToPush);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tpossibleActions = actionList;\n\t// console.log(possibleActions);\n};\n\n/*\nA context {practice, stage, action, roleBindings}\n*/\n\nvar getActionByName = function (actionName) {\n\tvar actionList = getPossibleActions();\n\n\tfor (var i = 0; i < actionList.length; i++) {\n\t\tif (actionList[i].label === actionName)\n\t\t\treturn actionList[i];\n\t}\n\n\treturn;\n}\n\nvar selectAction = function (cast, actionList) {\n\tif (actionList === undefined) {\n\t\tactionList = getPossibleActions();\n\t}\n\n\t//Clear our scoredInfo objects used for logging (for now)\n\tscoredActionsInfo = [];\n\tscoredMTInfo = {};\n\n\tvar selectedAction;\n\tvar maxScore;\n\tvar x = currentRoleBindings.x;//currentContext.roleBindings.x;\n\tvar y = currentRoleBindings.y;//currentContext.roleBindings.y;\n\tvar previousX = currentRoleBindings.y//previousContext.roleBindings.x;\n\tvar previousY = currentRoleBindings.x//previousContext.roleBindings.y;\n\tvar mtCache = {};\n\n\t// evaluate all of the microtheories (for each intent)\n\tlet schemaEntryForIntent = cif.rawSchema.schema.find(entry=>entry.class===\"intent\");\n\tfor (let intent of schemaEntryForIntent.types) {\n\t\tif (mtCache[intent] === undefined) {\n\t\t\tscoredMTInfo[intent] = {\n\t\t\t\trules: [],\n\t\t\t\ttrueRules: []\n\t\t\t};\n\t\t\tmtCache[intent] = 0;\n\n\t\t\tvar mt = ruleLibrary.getRuleSet(intent);\n\t\t\tfor (var ruleIndex = 0; ruleIndex < mt.length; ruleIndex++) {\n\t\t\t\tvar result = evaluateRule(mt[ruleIndex].conditions, { \"x\": x, \"y\": y }, cast, false);\n\t\t\t\tvar scoredRuleInfo = util.clone(mt[ruleIndex]);\n\t\t\t\tscoredRuleInfo.result = result;\n\t\t\t\tscoredMTInfo[intent].rules.push(scoredRuleInfo);\n\t\t\t\tscoredRuleInfo.score = 0;\n\t\t\t\tif (result.success) {\n\t\t\t\t\t/* Adding support for each predicate in the effects to have a weight. */\n\t\t\t\t\tvar currentMTRuleScore = 0;\n\t\t\t\t\tfor (var mtRuleEffectIndex = 0; mtRuleEffectIndex < mt[ruleIndex].effects.length; mtRuleEffectIndex++) {\n\t\t\t\t\t\tcurrentMTRuleScore += mt[ruleIndex].effects[mtRuleEffectIndex].weight;\n\t\t\t\t\t}\n\t\t\t\t\tmtCache[intent] += currentMTRuleScore;\n\t\t\t\t\tscoredRuleInfo.score = currentMTRuleScore;\n\n\t\t\t\t\tscoredMTInfo[intent].trueRules.push(scoredRuleInfo);\n\t\t\t\t}\n\t\t\t}\n\t\t\tscoredMTInfo[intent].score = mtCache[intent];\n\t\t}\n\t}\n\n\n\tfor (var actionIndex = 0; actionIndex < actionList.length; ++actionIndex) {\n\t\tvar score = 0;\n\t\t// var mtScore = 0; // already computed above\n\t\tvar nowScore = 0;\n\t\tvar carryScore = 0;\n\n\t\tvar action = actionList[actionIndex];\n\n\t\tvar actionInfo = {};\n\t\tscoredActionsInfo.push(actionInfo);\n\t\tactionInfo.label = action.label;\n\t\tactionInfo.quote = action.quote;\n\t\tactionInfo.intent = action.intent;\n\t\tactionInfo.parentStage = action.parentStage;\n\t\tactionInfo.terminal = true;\n\t\tactionInfo.atLeastPenultimate = false;\n\t\t// actionInfo.forSureGonnaHaveAChanceToRespond = false;\t// we can't know this... without running the simulation at least.\n\t\t// figure out if there is a next stage, or a stage after that\n\t\tlet stage = getStageByLabel(action.parentStage);\n\t\tif (stage.nextStages.length > 0) {\n\t\t\tactionInfo.terminal = false;\n\t\t\t// Now we need to look at all stages that follow, and see if there are any following stages\n\t\t\tlet thereAreMorePossibilities = false;\n\t\t\tfor (let stageName of stage.nextStages) {\n\t\t\t\tlet s = getStageByLabel(action.parentStage);\n\t\t\t\tif (s.nextStages.length > 0) {\n\t\t\t\t\tactionInfo.atLeastPenultimate = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//3. now rules\n\t\tvar maxNowRuleScore = undefined;\n\t\tvar nowRoleBinding = {};\n\t\tlet roleBinding = {};\n\t\tfor (var roleBindingIndex = 0; roleBindingIndex < action.possibleRoleBindings.length; roleBindingIndex++) {\n\t\t\troleBinding = action.possibleRoleBindings[roleBindingIndex];\n\t\t\tvar currentNowScore = 0;\n\n\t\t\tactionInfo.nowRules = [];\n\t\t\tfor (var nowIndex = 0; nowIndex < action.nowRules.length; nowIndex++) {\n\t\t\t\tvar nowRule = action.nowRules[nowIndex];\n\n\t\t\t\tvar nowRuleResult = evaluateRule(nowRule.conditions, roleBinding, cast, false);\n\n\t\t\t\tif (nowRuleResult.success) {\n\t\t\t\t\tvar trueNowRuleTotal = 0;\n\t\t\t\t\tfor (var nowEffectIndex = 0; nowEffectIndex < nowRule.effects.length; nowEffectIndex++) {\n\t\t\t\t\t\ttrueNowRuleTotal += nowRule.effects[nowEffectIndex].weight;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentNowScore += trueNowRuleTotal;\n\t\t\t\t\t// roleBinding = $.extend({}, roleBinding, nowRuleResult.possibleRoleBindings[0]);\n\n\t\t\t\t\tvar nowRuleInfo = util.clone(nowRule);\n\t\t\t\t\tnowRuleInfo.result = nowRuleResult;\n\t\t\t\t\tnowRuleInfo.score = currentNowScore;\n\t\t\t\t\tactionInfo.nowRules.push(nowRuleInfo);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (maxNowRuleScore === undefined) {\n\t\t\t\tmaxNowRuleScore = currentNowScore;\n\t\t\t\tnowRoleBinding = roleBinding;\n\t\t\t}\n\n\t\t\t//found a new action with the highest score so far\n\t\t\tif (currentNowScore > maxNowRuleScore) {\n\t\t\t\tmaxNowRuleScore = currentNowScore;\n\t\t\t\tnowRoleBinding = roleBinding;\n\t\t\t}\n\t\t}\n\n\t\tif (maxNowRuleScore === undefined) {\n\t\t\tmaxNowRuleScore = 0;\n\t\t}\n\t\tnowScore = maxNowRuleScore;\n\n\t\t//4. carry rules\n\t\tactionInfo.carryRules = [];\n\t\tfor (var carryIndex = 0; carryIndex < action.carryRules.length; carryIndex++) {\n\t\t\tvar carryRule = action.carryRules[carryIndex];\n\t\t\tvar carryRuleResult = evaluateRule(carryRule.conditions, { \"x\": previousX, \"y\": previousY }, cast, false);\n\t\t\tif (carryRuleResult.success) {\n\t\t\t\t/* Adding support for each predicate in the effects to have a weight. */\n\t\t\t\tfor (var carryEffectIndex = 0; carryEffectIndex < carryRule.effects.length; carryEffectIndex++) {\n\t\t\t\t\tcarryScore += carryRule.effects[carryEffectIndex].weight;\n\t\t\t\t}\n\n\t\t\t\tvar carryRuleInfo = util.clone(carryRule);\n\t\t\t\tcarryRuleInfo.result = carryRuleResult;\n\t\t\t\tactionInfo.carryRules.push(carryRuleInfo);\n\t\t\t}\n\t\t}\n\n\t\tscore = +action.defaultWeight + +mtCache[action.intent] + +nowScore + +carryScore;\n\n\t\t//console.log(\"final score of \" + action.label + \" in intent \" + intent + \" is \" + score);\n\n\t\tactionInfo.defaultWeight = action.defaultWeight;\n\t\tactionInfo.mtScore = mtCache[action.intent];\n\t\tactionInfo.nowScore = nowScore;\n\t\tactionInfo.carryScore = carryScore;\n\t\tactionInfo.score = score;\n\t\tactionInfo.chosenRoleBindings = nowRoleBinding;\n\n\t\t//console.log(\"Action \" + action.label + \" with intent \" + action.intent + \" has a score of \" + score + \" <\" + action.defaultWeight + \", \" + mtScore + \", \" + nowScore + \", \" + carryScore + \">\");\n\n\t\t/*The first action scored should become the current selection and\n\t\t set the max score.*/\n\t\tif (maxScore === undefined) {\n\t\t\tmaxScore = score;\n\t\t\tselectedAction = action;\n\t\t\tselectedAction.chosenRoleBindings = nowRoleBinding;\n\t\t}\n\n\t\t//found a new action with the highest score so far\n\t\tif (score > maxScore) {\n\t\t\tmaxScore = score;\n\t\t\tselectedAction = action;\n\t\t\tselectedAction.chosenRoleBindings = nowRoleBinding;\n\t\t}\n\t}\n\n\treturn selectedAction;\n};\n\nvar setBestRoleBindingForAction = function (action, cast) {\n\tvar action = selectAction(cast, [action]);\n\tsetCurrentAction(action);\n\tcurrentRoleBindings = action.chosenRoleBindings;\n}\n\nvar applyEffects = function () {\n\tvar action = getCurrentAction();\n\tvar effects = getCloneOfBoundPredicates(action.effects, currentRoleBindings);\n\n\t//If we have established a subject, make sure it is in the bindings, this\n\t//way we can apply effects about it.\n\t//NOTE: currently the only way that subjects are established is via\n\t//player interaction. The system does not choose this.\n\tif (currentPractice.subject !== undefined) {\n\t\tcurrentRoleBindings[\"subject\"] = currentPractice.subject;\n\t}\n\n\tfor (var effectCount = 0; effectCount < effects.length; effectCount++) {\n\t\t// console.log(\"$$$$$$$$$ APPLYING EFFECT! $$$$$$$$$$$$$$\");\n\t\t// console.log(effects[effectCount]);\n\t\tsfdb.set(effects[effectCount]);\n\t}\n\n\t//Create and add an actionContext for this action\n\tcurrentPractice.actionContexts.push({\n\t\t\"practice\": currentPractice.label,\n\t\t\"actionLabel\": action.label,\n\t\t\"time\": sfdb.getCurrentTimeStep(),\n\t\t\"bindings\": action.chosenRoleBindings,\n\t\t\"effects\": action.effects\n\t});\n\n\t//Keep a record that this action has happened between these two characters\n\t//initiator->responder->practice->stage->action->count\n\t//This is for use in the repeatedVariation locution (maybe other things?)\n\tvar recordIndex = currentRoleBindings.x + \"-\" + currentRoleBindings.y + \"-\" + getCurrentPractice().label + \"-\" + getCurrentStage().label + \"-\" + getCurrentAction().label;\n\taunlg.updatePracticeRecord(recordIndex);\n\n\tsfdb.setupNextTimeStep();\n\t//\tconsole.log(\"Current time: \" + sfdb.getCurrentTimeStep());\n\t//\tsfdb.dumpSFDB();\n};\n\nvar getCloneOfBoundPredicates = function (preds, bindings) {\n\tvar boundPreds = util.clone(preds);\n\tfor (var predCount = 0; predCount < boundPreds.length; predCount++) {\n\t\tvar pred = boundPreds[predCount];\n\t\tpred.first = bindings[pred.first];\n\t\tpred.second = bindings[pred.second];\n\t}\n\treturn boundPreds;\n}\n\nvar instantiatePerformance = function (action) {\n\tvar currentAction = action || getCurrentAction();\n\tvar performances = currentAction.performanceTree;\n\tvar performance;\n\n\tif (!usePerformanceTrees || performances === undefined || Object.keys(performances).length === 0) {\n\t\tif (currentAction.performance !== undefined) {\n\t\t\tperformance = currentAction.performance;\n\t\t} else {\n\t\t\tconsole.log(currentAction.label + \" doesn't have a performance or performance tree\");\n\t\t\tperformance = \"...ERROR...\";\n\t\t}\n\t} else {\n\t\t//This encodes the assumption that applyEffects MUST be called\n\t\t//before this instantiatePerformance function.\n\n\t\t//This means that we are generating a line for an action that hasn't\n\t\t//happened yet. Because of this, we will temporarily add an action context\n\t\t//so the performance tree behaves, then we will remove it.\n\t\t//Create and add an actionContext for this action\n\t\tif (action !== undefined) {\n\t\t\tcurrentPractice.actionContexts.push({\n\t\t\t\t\"practice\": currentPractice.label,\n\t\t\t\t\"actionLabel\": action.label,\n\t\t\t\t//\"time\": sfdb.getCurrentTimeStep(),\n\t\t\t\t\"bindings\": currentRoleBindings\n\t\t\t\t//\"effects\": action.effects\n\t\t\t});\n\t\t}\n\t\tvar performanceTreeErrorDetected = false;\n\t\tperformance = performances[currentPractice.actionContexts[0].actionLabel];\n\t\tif (performance === undefined) {\n\t\t\t//NOTE: This is (hopefully) just a patch that makes legacy practices default to the default line.\n\t\t\tperformance = currentAction.performance;\n\t\t} else {\n\t\t\tfor (var contextIndex = 1; contextIndex < currentPractice.actionContexts.length; contextIndex++) {\n\t\t\t\tvar context = currentPractice.actionContexts[contextIndex];\n\t\t\t\tif (performance[context.actionLabel] === undefined) {\n\t\t\t\t\tperformanceTreeErrorDetected = true;\n\t\t\t\t} else {\n\t\t\t\t\tperformance = performance[context.actionLabel];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (performanceTreeErrorDetected\n\t\t\t\t|| performance.line === \"\"\n\t\t\t\t|| performance.useDefault) {\n\t\t\t\t//No line found in the performance tree. Using default.\n\t\t\t\tif (currentAction.performance !== undefined) {\n\t\t\t\t\tperformance = currentAction.performance;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(currentAction.label + \" doesn't have a performance or performance tree\");\n\t\t\t\t\tperformance = \"...ERROR...\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//This means we found a line in the performance tree.\n\t\t\t\tperformance = performance.line;\n\t\t\t}\n\t\t}\n\t}\n\n\tperformance = performance.replace(/%X%/g, currentRoleBindings.x);\n\tperformance = performance.replace(/%Y%/g, currentRoleBindings.y);\n\tperformance = performance.replace(/%x%/g, currentRoleBindings.x);\n\tperformance = performance.replace(/%y%/g, currentRoleBindings.y);\n\tperformance = performance.replace(/%subject%/g, currentPractice.subject);\n\n\t//NOTE: This is wasteful, it could be done just once at the start\n\tvar locutions = aunlg.preprocessDialogue(performance);\n\n\t//NOTE: The following call is to get around some TypeScript meets require\n\t//      issue where I can't access practiceManager from inside aunlg\n\t//      The following call is necessary before calling updatePracticeRecord.\n\taunlg.setCurrentPracticeStateInfo(currentPractice.label, currentStage.label, currentAction.label);\n\n\t//Create the string that will output to the player\n\tvar finalPerformance = \"\";\n\tfor (var locution in locutions) {\n\t\tfinalPerformance += locutions[locution].renderText(\"x\", currentRoleBindings);\n\t}\n\n\t//Now we must remove the action context for the situation where we added one\n\t//for the performance trees to behave.\n\tif (action !== undefined) {\n\t\tcurrentPractice.actionContexts.splice(currentPractice.actionContexts.length - 1, 1);\n\t}\n\n\treturn finalPerformance;\n};\n\n\n\n// NOTE: this function is here for historical purposes. I have created a more appropriately\n// named function below and will be updating that one. DELETE THIS FUNCTION SOON.\nvar stageTransition = function () {\n\tvar nextStages = getCurrentStage().nextStages;\n\tvar currentActionLabel = getCurrentAction().label;\n\n\tfor (var nextStageCount = 0; nextStageCount < nextStages.length; nextStageCount++) {\n\t\tvar actions = getStageByLabel(nextStages[nextStageCount]).actions;\n\t\tfor (var actionCount = 0; actionCount < actions.length; actionCount++) {\n\t\t\tif (currentActionLabel === actions[actionCount].label) {\n\t\t\t\tsetCurrentStage(nextStages[nextStageCount]);\n\t\t\t\treturn;\n\t\t\t\t//console.log(\"There is a next stage!\");\n\t\t\t}\n\t\t}\n\t}\n\treturn;\n};\n\nvar transitionStageToTakenActionsStage = function () {\n\tvar nextStages = getCurrentStage().nextStages;\n\tvar currentActionLabel = getCurrentAction().label;\n\n\tfor (var nextStageCount = 0; nextStageCount < nextStages.length; nextStageCount++) {\n\t\tvar actions = getStageByLabel(nextStages[nextStageCount]).actions;\n\t\tfor (var actionCount = 0; actionCount < actions.length; actionCount++) {\n\t\t\tif (currentActionLabel === actions[actionCount].label) {\n\t\t\t\tsetCurrentStage(nextStages[nextStageCount]);\n\t\t\t\treturn;\n\t\t\t\t//console.log(\"There is a next stage!\");\n\t\t\t}\n\t\t}\n\t}\n\treturn;\n};\n\n\nvar getEventStageByLabel = function (stageName, practice) {\n\tpractice = practice || getCurrentPractice();\n\tfor (var stageCount = 0; stageCount < practice.eventStages.length; stageCount++) {\n\t\tvar stage = practice.eventStages[stageCount];\n\t\tif (stage.label === stageName)\n\t\t\treturn stage;\n\t}\n}\n\nvar getStageByLabel = function (stageName, practice) {\n\tpractice = practice || getCurrentPractice();\n\tfor (var stageCount = 0; stageCount < practice.stages.length; stageCount++) {\n\t\tvar stage = practice.stages[stageCount];\n\t\tif (stage.label === stageName) {\n\t\t\treturn stage;\n\t\t}\n\t}\n}\nvar getActionByLabel = function (actionName, practice) {\n\tpractice = practice || getCurrentPractice();\n\tvar actionToReturn;\n\t$.each(practice.stages, function (i, stage) {\n\t\t$.each(stage.actions, function (j, action) {\n\t\t\tif (action.label.toLowerCase() === actionName.toLowerCase()) {\n\t\t\t\tactionToReturn = action;\n\t\t\t}\n\t\t});\n\t});\n\treturn actionToReturn;\n}\n\nvar getActionByLabelFromAnyPractice = function (actionName) {\n\tvar actions = [];\n\tfor (var practice of practices) {\n\t\tfor (var stage of practice.stages) {\n\t\t\tfor (var action of stage.actions) {\n\t\t\t\tif (action.label.toLowerCase() === actionName.toLowerCase()) {\n\t\t\t\t\tactions.push(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn actions\n}\n\nvar inTerminalStage = function () {\n\tif (getCurrentStage().nextStages.length === 0) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n// if the stage is deleted, need to update the nextStage labels to not reference\n// it anymore\nvar deleteStage = function (practiceName, stageName) {\n\tsetCurrentPractice(practiceName);\n\n\t// if the stage we're deleting is in nextStages, remove it from the list\n\t$.each(currentPractice.stages, function (i, stage) {\n\t\tvar nextIndex = $.inArray(stageName, stage.nextStages);\n\t\tif (nextIndex !== -1) {\n\t\t\tstage.nextStages.splice(nextIndex, 1);\n\t\t}\n\t\tvar parentIndex = $.inArray(stageName, stage.parentStages);\n\t\tif (parentIndex !== -1) {\n\t\t\tstage.parentStages.splice(parentIndex, 1);\n\t\t}\n\t});\n\n}\n\n// if the stage name has changed, need to update the nextStage labels for other\n// stages that point to this one\nvar updateStage = function (practiceName, oldStageName, newStageName) {\n\t// reset practice with new stage info\n\tsetCurrentPractice(practiceName);\n\n\tif (newStageName !== oldStageName) {\n\t\t// stage name has updated and we need to update nextStage labels that may exist\n\t\t// go through the next stages of every other stage and see if references old name\n\t\t// of this stage. If so, update to new stage name.\n\t\tfor (var i = 0; i < currentPractice['stages'].length; i++) {\n\t\t\tvar curStage = currentPractice['stages'][i];\n\t\t\tfor (var j = 0; j < curStage.nextStages.length; j++) {\n\t\t\t\tif (curStage.nextStages[j] === oldStageName) {\n\t\t\t\t\tcurrentPractice.stages[i].nextStages[j] = newStageName;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n/*\nget/set\n\nadd/remove/get\n\tpractices\n\nload practices from json\n\tcall to cif to load individual rules\n\nMT to intent binding\n\nProcedures to place:\n\tscore given current stage and previous context\n\n\n*/\n\n/**************************************************************************\n * evaluateRule implementation and support functions.\n *************************************************************************/\n\n/*\n * TODO: NOTE: This function really accepts an array of conditions and not a rule.\n *\n * This no longer returns a simple true or false value. Now it needs to return\n * true/false and all of the known character bindings that made the rule's\n * condition evaluate to true.\n * returns: {success:true|false, knownRoleBindings[{}*]}\n */\nvar evaluateRule = function (conditions, knownRoleBindings, cast, runAll) {\n\n\t//console.log(\"BEST TEST: inside evaluateRule\" );\n\n\tif (conditions.length === 0) {\n\t\treturn { \"success\": true, \"possibleRoleBindings\": [knownRoleBindings] };\n\t}\n\n\tif (typeof runAll !== undefined) {\n\t\trunAll = true;\n\t}\n\n\t//console.log(\"BEST TEST: before hack\" );\n\n\t//----- BEGIN HACK -----\n\t//To improve performance for evluating conditions that do have the type of\n\t//character, if the conditions do not contain a role with the keyword\n\t//\"object\", we remove all cast members without \"type: 'character'\".\n\tvar objectPresentInARole = false;\n\n\tfor (var i = 0; i < conditions.length; i++) {\n\t\tvar condition = conditions[i];\n\t\tif (condition.first.indexOf(\"object\") != -1) {\n\t\t\tobjectPresentInARole = true;\n\t\t}\n\t\tif (condition.second !== undefined && condition.second.indexOf(\"object\") != -1) {\n\t\t\t//console.log(\"BEST TEST: Object is present in a role!\");\n\t\t\tobjectPresentInARole = true;\n\t\t}\n\t}\n\n\tif (!objectPresentInARole) {\n\t\t//Only add cast members with 'type: \"character\"'\n\t\tvar onlyCharacterCast = [];\n\t\t//console.log(\"BEST TEST: cast before hack \" );\n\t\t//console.log(cast);\n\t\tfor (var i = 0; i < cast.length; i++) {\n\t\t\t//console.log(\"BEST TEST: Looking at character \" + cast[i]);\n\t\t\tlet tempType = cif.getCharData(cast[i], \"type\");\n\t\t\t//console.log(\"BEST TEST: this is the type of the character I guess? \");\n\t\t\t//console.log(tempType);\n\t\t\tif (cif.getCharData(cast[i], \"type\") === \"character\") {\n\t\t\t\tonlyCharacterCast.push(cast[i]);\n\t\t\t}\n\n\t\t\t/*BEN CHANGE FOR PIZZA SIM*/\n\t\t\telse if(cif.getCharData(cast[i], \"type\").type === \"character\"){\n\t\t\t\tonlyCharacterCast.push(cast[i]);\n\t\t\t}\n\t\t}\n\t\tcast = onlyCharacterCast;\n\t\t//console.log(\"BEST TEST: here is the cast\" );\n\t\t//console.log(cast);\n\t}\n\t//----- END HACK -----\n\n\t//console.log(\"BEST TEST: after hack\" );\n\n\t//getUnkownRoles(conditions, knownRoleBindings)\n\tvar unkownRoles = getUnkownRoles(conditions, knownRoleBindings);\n\t//console.log(\"BEST TEST: unknown roles:\" );\n\t//console.log(unkownRoles);\n\n\t//getUnboundCast(knownRoleBindings, cast)\n\tvar unboundCast = getUnboundCast(knownRoleBindings, cast);\n\t//console.log(\"BEST TEST: unbound cast:\" );\n\t//console.log(unboundCast);\n\n\t//cast into array for order\n\tvar unboundCastArray = objectToArray(unboundCast);\n\n\t//turn unknown role bindings into an array\n\tvar unknownRolesToSearchIndex = objectToArray(unkownRoles);\n\n\tvar setOfAllTrueRoleBindings = [];\n\n\t//true if there is no longer a role binding search space left to search\n\tvar searchSpaceExhausted = false;\n\n\tvar searchState = [];\n\t//initialize search space into [0,1,2,3,..,length-1]\n\tfor (var i = 0; i < unknownRolesToSearchIndex.length; i++) {\n\t\tsearchState.push(i);\n\t}\n\n\t// The case where all the role bindings are known coming in to evaulateRule call.\n\t/*if(searchState.length < 1) {\n\t\tsearchSpaceExhausted = true;\n\t}*/\n\n\n\t//console.log(\"BEST TEST: before while loop\" );\n\tlet allRoleBindings = {};\n\twhile (!searchSpaceExhausted) {\n\t\tvar boundConditions = generateConditionsWithRoleBindings(conditions, searchState, unboundCast, knownRoleBindings, unknownRolesToSearchIndex);\n\n\t\t//console.log(\"BEST TEST: bound conditions are \"); \n\t\t//console.log(boundConditions);\n\n\t\tif (ruleLibrary.evaluateConditions(boundConditions, {}, {})) {\n\t\t\tallRoleBindings = generateRoleBindings(searchState, unboundCast, knownRoleBindings, unknownRolesToSearchIndex);\n\t\t\t//console.log(\"TRUE RULE: ***********\");\n\t\t\t//console.log(ruleLibrary.predicateArrayToEnglish(boundConditions, false));\n\t\t\t//console.log(\"---------------\");\n\t\t\tif (!runAll) {\n\t\t\t\treturn { \"success\": true, \"possibleRoleBindings\": [allRoleBindings] };\n\t\t\t}\n\t\t\tsetOfAllTrueRoleBindings.push(allRoleBindings);\n\t\t}\n\t\telse {\n\t\t\t//console.log(\"FALSE RULE: \");\n\t\t\t//console.log(ruleLibrary.predicateArrayToEnglish(boundConditions, false));\n\t\t\t//console.log(\"---------------\");\n\t\t}\n\n\t\t//wi means window index\n\t\tvar doneSlidingWindow = false;\n\t\tfor (var wi = searchState.length - 1; wi >= 0 && !doneSlidingWindow; wi--) {\n\t\t\tif (searchState[wi] > highestAvailable(wi, searchState, unboundCast.length)) {\n\t\t\t\tsearchState[wi] = -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsearchState[wi] = nextHighestAvailable(wi, searchState, unboundCast.length);\n\t\t\t\tdoneSlidingWindow = true;\n\t\t\t}\n\t\t}\n\n\t\tif (searchState[0] == -1 || searchState.length === 0) {\n\t\t\tsearchSpaceExhausted = true;\n\t\t}\n\n\t\tfor (var i = 0; i < searchState.length; i++) {\n\t\t\tif (searchState[i] == -1) {\n\t\t\t\tsearchState[i] = lowestAvailable(wi, searchState, unboundCast.length);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t//console.log(\"BEST TEST: after while loop\" );\n\n\tif (setOfAllTrueRoleBindings.length > 0) {\n\t\treturn { \"success\": true, \"possibleRoleBindings\": setOfAllTrueRoleBindings };\n\t}\n\treturn { \"success\": false, \"possibleRoleBindings\": [] };\n}\n\nvar testEvaluateRule = function () {\n\tvar conditions = [{ \"first\": \"X\", \"second\": \"Y\" }, { \"first\": \"X\", \"second\": \"Z\" }, { \"first\": \"X\", \"second\": \"W\" }];\n\tvar cast = { \"A\": {}, \"B\": {}, \"C\": {}, \"D\": {}, \"E\": {} };\n\tevaluateRule(conditions, { \"W\": \"A\" }, cast);\n}\n\n\nvar highestAvailable = function (wi, searchState, unboundCastLength) {\n\tvar valsInSearchState = {};\n\tfor (var i = 0; i < searchState.length; i++) {\n\t\t//Note, the value doesn't matter, we just want keys to be represented\n\t\tvalsInSearchState[searchState[i]] = i;\n\t}\n\tfor (var potentialHighestVal = unboundCastLength - 1; potentialHighestVal >= 0; potentialHighestVal--) {\n\t\tif (!(potentialHighestVal in valsInSearchState)) {\n\t\t\treturn potentialHighestVal;\n\t\t}\n\t}\n\t//\tconsole.log(\"highestAvailable() - There was no value left to be highest.\");\n}\n\nvar nextHighestAvailable = function (wi, searchState, unboundCastLength) {\n\tvar valsInSearchState = {};\n\tfor (var i = 0; i < searchState.length; i++) {\n\t\t//Note, the value doesn't matter, we just want keys to be represented\n\t\tvalsInSearchState[searchState[i]] = i;\n\t}\n\tfor (var potentialVal = searchState[wi] + 1; potentialVal < unboundCastLength; potentialVal++) {\n\t\tif (!(potentialVal in valsInSearchState)) {\n\t\t\treturn potentialVal;\n\t\t}\n\t}\n\t//\tconsole.log(\"nextHighestAvailable() - There was no value left to be next highest.\");\n\treturn -1\n}\n\nvar lowestAvailable = function (wi, searchState, unboundCastLength) {\n\tvar valsInSearchState = {};\n\tfor (var i = 0; i < searchState.length; i++) {\n\t\t//Note, the value doesn't matter, we just want keys to be represented\n\t\tvalsInSearchState[searchState[i]] = i;\n\t}\n\tfor (var potentialLowestVal = 0; potentialLowestVal < unboundCastLength; potentialLowestVal++) {\n\t\tif (!(potentialLowestVal in valsInSearchState)) {\n\t\t\treturn potentialLowestVal;\n\t\t}\n\t}\n\t//\tconsole.log(\"lowestAvailable() - There was no value left to be lowest.\");\n}\n\nvar generateConditionsWithRoleBindings = function (conditions, searchState, unboundCast, knownRoleBindings, unknownRolesToSearchIndex) {\n\tvar boundConditions = [];\n\n\tfor (var condIndex = 0; condIndex < conditions.length; condIndex++) {\n\t\tvar boundCondition = util.clone(conditions[condIndex]);\n\n\t\tif (boundCondition.first in knownRoleBindings) {\n\t\t\tboundCondition.first = knownRoleBindings[boundCondition.first];\n\t\t}\n\t\telse if (boundConditions !== undefined) {\n\t\t\tboundCondition.first = convertSearchStateIndexToCastMember(searchState, unboundCast, unknownRolesToSearchIndex, boundCondition.first);\n\t\t}\n\n\t\tif (boundCondition.second in knownRoleBindings) {\n\t\t\tboundCondition.second = knownRoleBindings[boundCondition.second];\n\t\t}\n\t\telse if (boundConditions !== undefined) {\n\t\t\tboundCondition.second = convertSearchStateIndexToCastMember(searchState, unboundCast, unknownRolesToSearchIndex, boundCondition.second);\n\t\t}\n\n\t\tboundConditions.push(boundCondition);\n\t}\n\n\treturn boundConditions;\n}\n\n//return all roles bound with characters for a rule\nvar generateRoleBindings = function (searchState, unboundCast, knownRoleBindings, unknownRolesToSearchIndex) {\n\tvar allBindings = util.clone(knownRoleBindings);\n\tfor (var searchStateIndex = 0; searchStateIndex < searchState.length; searchStateIndex++) {\n\t\tvar role = unknownRolesToSearchIndex[searchStateIndex];\n\t\tallBindings[role] = convertSearchStateIndexToCastMember(searchState, unboundCast, unknownRolesToSearchIndex, role);\n\t}\n\treturn allBindings;\n}\n\nvar convertSearchStateIndexToCastMember = function (searchState, unboundCast, unknownRolesToSearchIndex, roleName) {\n\tfor (var i = 0; i < unknownRolesToSearchIndex.length; i++) {\n\t\tif (unknownRolesToSearchIndex[i] === roleName) {\n\t\t\t//var roleIndex = unknownRolesToSearchIndex[i];\n\t\t\tvar unboundCastIndex = searchState[i];\n\t\t\treturn unboundCast[unboundCastIndex];\n\t\t}\n\t}\n}\n\nvar getUnkownRoles = function (conditions, knownRoleBindings) {\n\tvar unkownRoleBindings = {};\n\n\tfor (var condCount = 0; condCount < conditions.length; condCount++) {\n\t\tlet cond = conditions[condCount];\n\t\tif (!(cond.first in knownRoleBindings) && cond.first !== undefined) {\n\t\t\tunkownRoleBindings[cond.first] = \"\";\n\t\t}\n\t\tif (!(cond.second in knownRoleBindings) && cond.second !== undefined) {\n\t\t\tunkownRoleBindings[cond.second] = \"\";\n\t\t}\n\t}\n\n\treturn unkownRoleBindings;\n}\n\nvar getUnboundCast = function (knownRoleBindings, cast) {\n\tvar unknownCast = [];\n\tfor (var castCount = 0; castCount < cast.length; castCount++) {\n\t\tvar castName = cast[castCount];\n\t\tvar found = false;\n\t\tfor (var key in knownRoleBindings) {\n\t\t\tif (knownRoleBindings[key] === castName) {\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t}\n\t\tif (!found) {\n\t\t\tunknownCast.push(castName);\n\t\t}\n\t}\n\treturn unknownCast;\n}\n\n//makes an array from the first level of keys in the object.\nvar objectToArray = function (o) {\n\tvar array = [];\n\tfor (var key in o) {\n\t\tarray.push(key);\n\t}\n\treturn array;\n}\n\nvar getScoredActionsInfo = function () {\n\treturn scoredActionsInfo;\n}\n\nvar getScoredMTInfo = function () {\n\treturn scoredMTInfo;\n}\n\n\n//This is meant to be private\n//This function takes a merged perforamnce tree containing all parent and self\n//performance trees. It removes lines that are from parents. Default Lines are\n//added when a direct parent's old line is removed.\nvar modifyLeavesRecursively = function (subtree, actionLabelToAdd, defaultLine, actionLabelsToUpdate) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\tif ($.inArray(key, actionLabelsToUpdate) != -1) {\n\t\t\t\tif (value.line !== undefined && key !== actionLabelToAdd) {\n\t\t\t\t\tdelete value.line;\n\t\t\t\t}\n\t\t\t\tif (value[actionLabelToAdd] === undefined) {\n\t\t\t\t\tvalue[actionLabelToAdd] = { \"line\": defaultLine };\n\t\t\t\t}\n\t\t\t}\n\t\t\tmodifyLeavesRecursively(value, actionLabelToAdd, defaultLine, actionLabelsToUpdate);\n\t\t}\n\t});\n};\n\n//This is meant to be private\nvar markStagesThatNeedUpdating = function (stage) {\n\tstage.needsPerformanceTreeUpdate = true;\n\t$.each(stage.nextStages, function (i, nextStageName) {\n\t\tmarkStagesThatNeedUpdating(getStageByLabel(nextStageName, currentPractice));\n\t});\n};\n\nvar unmarkStagesThatNeedUpdating = function (stage) {\n\tif (stage.needsPerformanceTreeUpdate !== undefined) {\n\t\tdelete stage.needsPerformanceTreeUpdate;\n\t}\n\t$.each(stage.nextStages, function (i, nextStageName) {\n\t\tunmarkStagesThatNeedUpdating(getStageByLabel(nextStageName, currentPractice));\n\t});\n};\n\n//This is meant to be private\n//This function assumes that markStagesThatNeedUpdating was valled\nvar getTerminalStagesThatNeedsPerformanceTreeUpdate = function () {\n\tvar terminalStages = [];\n\t$.each(currentPractice.stages, function (i, stage) {\n\t\tif (stage.needsPerformanceTreeUpdate !== undefined) {\n\t\t\tif (stage.nextStages.length == 0 && stage.needsPerformanceTreeUpdate) {\n\t\t\t\tterminalStages.push(stage);\n\t\t\t}\n\t\t}\n\t});\n\treturn terminalStages;\n}\n\nvar updateActionPerformanceTrees = function (fromStage, toStage) {\n\tmarkStagesThatNeedUpdating(toStage);\n\tvar terminalStages = getTerminalStagesThatNeedsPerformanceTreeUpdate();\n\n\t$.each(terminalStages, function (i, stage) {\n\t\tupdatePerformanceTreesOfSingleStage(stage);\n\t});\n\tunmarkStagesThatNeedUpdating(toStage);\n}\n\nvar updatePerformanceTreesOfSingleStage = function (stage) {\n\tvar parentStages = [];\n\t$.each(stage.parentStages, function (i, value) {\n\t\tparentStages.push(getStageByLabel(value, currentPractice));\n\t});\n\t$.each(parentStages, function (i, parent) {\n\t\tif (parent.needsPerformanceTreeUpdate) {\n\t\t\tupdatePerformanceTreesOfSingleStage(parent);\n\t\t\tdelete parent.needsPerformanceTreeUpdate;\n\t\t}\n\t});\n\n\t//This will the merged performance trees from all actions, from all parent\n\tvar mergedParents = {};\n\tvar parentActionLabels = [];\n\t$.each(parentStages, function (i, parent) {\n\t\t$.each(parent.actions, function (i, action) {\n\t\t\t$.extend(true, mergedParents, action.performanceTree);\n\t\t\tparentActionLabels.push(action.label);\n\t\t});\n\t});\n\n\t$.each(stage.actions, function (i, action) {\n\t\tvar merged = {};\n\t\t$.extend(true, merged, mergedParents);\n\t\t//This condition strives to preserve orphaned stage's performanceTrees\n\t\tif (stage.parentStages.length >= 1) {\n\t\t\tif (action.performanceTree[action.label] !== undefined && action.performanceTree[action.label].line !== undefined) {\n\t\t\t\tdelete action.performanceTree[action.label];\n\t\t\t}\n\t\t}\n\t\t$.extend(true, merged, action.performanceTree);\n\n\t\tmodifyLeavesRecursively(merged, action.label, defaultPerformanceLine, parentActionLabels);\n\t\taction.performanceTree = merged;\n\t});\n\t//delete stage.needsPerformanceTreeUpdate;\n}\n\nvar updateActionLabelForAllPerformanceTrees = function (newLabel, oldLabel) {\n\t$.each(currentPractice.stages, function (i, stage) {\n\t\t$.each(stage.actions, function (i, action) {\n\t\t\tperformanceTreeLabelRename(newLabel, oldLabel, action.performanceTree);\n\t\t});\n\t});\n}\n//Meant to be private\nvar performanceTreeLabelRename = function (newLabel, oldLabel, subtree) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\tif (key === oldLabel) {\n\t\t\t\tsubtree[newLabel] = value;\n\t\t\t\tdelete subtree[key];\n\t\t\t}\n\t\t\tperformanceTreeLabelRename(newLabel, oldLabel, value);\n\t\t}\n\t});\n}\n\n//NOTE: The linkages between the currentStage.nextStages and currentStage.parentStages\n//have already been removed in the tool (this should probably be changed...)\nvar pruneParentFromPerformanceTree = function (parentLabelToPrune, childLabel) {\n\tvar parentStage = getStageByLabel(parentLabelToPrune);\n\tvar childStage = getStageByLabel(childLabel);\n\n\tmarkAllCandidateParentsForPerformanceTreeRemoval(parentStage);\n\t$.each(childStage.parentStages, function (i, parentLabel) {\n\t\tif (parentLabel !== parentLabelToPrune) {\n\t\t\tunmarkAllCandidateParentsForPerformanceTreeRemoval(getStageByLabel(parentLabel));\n\t\t}\n\t});\n\n\tvar actionLabelsMarkedForRemoval = [];\n\t$.each(currentPractice.stages, function (i, stage) {\n\t\tif (stage.markForPerformanceTreeRemoval !== undefined) {\n\t\t\tif (stage.markForPerformanceTreeRemoval) {\n\t\t\t\t$.each(stage.actions, function (i, action) {\n\t\t\t\t\tactionLabelsMarkedForRemoval.push(action.label);\n\t\t\t\t});\n\t\t\t\t//Now that we've pushed it in the array, we don't need the markings\n\t\t\t\tdelete stage.markForPerformanceTreeRemoval;\n\t\t\t}\n\t\t}\n\t});\n\tdeleteActionLabelsFromPerformanceTree(childStage, actionLabelsMarkedForRemoval);\n\n\t//Now we need to propagate pruning all paths down from child stage\n\tvar toActionLabelsForCut = [];\n\tvar fromActionLabelsForCut = [];\n\t$.each(parentStage.actions, function (i, action) {\n\t\tfromActionLabelsForCut.push(action.label);\n\t});\n\t$.each(childStage.actions, function (i, action) {\n\t\ttoActionLabelsForCut.push(action.label);\n\t});\n\tpruneCutFromStage(childStage, fromActionLabelsForCut, toActionLabelsForCut);\n\n\t//This is meant to capture a case where we're about to orphan a stage\n\tif (childStage.parentStages.length === 0) {\n\t\t$.each(childStage.actions, function (i, action) {\n\t\t\tif (action.performanceTree[action.label] === undefined) {\n\t\t\t\taction.performanceTree[action.label] = {\n\t\t\t\t\t\"line\": defaultPerformanceLine,\n\t\t\t\t\t\"useDefault\": true\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t//NOTE: This is not the most rigorous solution, but we can imagine one...\n\t//Now we need to clean up the performance trees that don't end in their own label\n\tremoveOrphanedParentStages(childStage);\n}\nvar removeOrphanedParentStages = function (stage) {\n\t$.each(stage.actions, function (i, action) {\n\t\tremoveOrphanedParents(action.performanceTree);\n\t});\n\t$.each(stage.nextStages, function (i, nextStageLabel) {\n\t\tremoveOrphanedParentStages(getStageByLabel(nextStageLabel));\n\t});\n}\nvar removeOrphanedParents = function (subtree) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\tremoveOrphanedParents(value);\n\t\t\tif (isEmptyObject(value)) {\n\t\t\t\tdelete subtree[key];\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar deleteActionFromAllPredecessors = function (stage, actionLabel) {\n\t$.each(stage.nextStages, function (i, nextStageLabel) {\n\t\tvar nextStage = getStageByLabel(nextStageLabel);\n\t\tdeleteActionLabelsFromPerformanceTree(nextStage, [actionLabel]);\n\t\tdeleteActionFromAllPredecessors(nextStage, actionLabel);\n\t});\n}\n\n\n//This is meant to be private\nvar pruneCutFromStage = function (stage, fromActionLabelsForCut, toActionLabelsForCut) {\n\t$.each(stage.actions, function (i, action) {\n\t\tpruneCutFromPerformanceTree(action.performanceTree, fromActionLabelsForCut, toActionLabelsForCut);\n\t});\n\t$.each(stage.nextStages, function (i, nextStageLabel) {\n\t\tpruneCutFromStage(getStageByLabel(nextStageLabel), fromActionLabelsForCut, toActionLabelsForCut);\n\t});\n}\nvar pruneCutFromPerformanceTree = function (subtree, fromActionLabelsForCut, toActionLabelsForCut) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\t$.each(fromActionLabelsForCut, function (i, fromLabel) {\n\t\t\t\tif (key === fromLabel) {\n\t\t\t\t\t$.each(toActionLabelsForCut, function (j, toLabel) {\n\t\t\t\t\t\tif (value[toLabel] !== undefined) {\n\t\t\t\t\t\t\tdelete value[toLabel];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tpruneCutFromPerformanceTree(value, fromActionLabelsForCut, toActionLabelsForCut);\n\t\t}\n\t});\n}\n\n//This is meant to be\nvar pruneLeavesRecursively = function (subtree, actionLabelsToPrune) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\tif ($.inArray(key, actionLabelsToPrune) != -1) {\n\t\t\t\tdelete subtree[key];\n\t\t\t} else {\n\t\t\t\tpruneLeavesRecursively(value, actionLabelsToPrune);\n\t\t\t}\n\t\t}\n\t});\n}\nvar deleteActionLabelsFromPerformanceTree = function (stage, actionLabelsMarkedForRemoval) {\n\t$.each(stage.actions, function (i, action) {\n\t\tpruneLeavesRecursively(action.performanceTree, actionLabelsMarkedForRemoval);\n\t});\n}\nvar markAllCandidateParentsForPerformanceTreeRemoval = function (stage) {\n\tstage.markForPerformanceTreeRemoval = true;\n\t$.each(stage.parentStages, function (i, parentLabel) {\n\t\tmarkAllCandidateParentsForPerformanceTreeRemoval(getStageByLabel(parentLabel));\n\t});\n}\nvar unmarkAllCandidateParentsForPerformanceTreeRemoval = function (stage) {\n\tdelete stage.markForPerformanceTreeRemoval;\n\t$.each(stage.parentStages, function (i, parentLabel) {\n\t\tunmarkAllCandidateParentsForPerformanceTreeRemoval(getStageByLabel(parentLabel));\n\t});\n}\n\nvar getPerformanceTreeSequences = function (action) {\n\tvar performanceTreeSequences = [];\n\n\tgeneratePerformanceTreeSequences(action.performanceTree, performanceTreeSequences, []);\n\n\treturn performanceTreeSequences;\n}\n//This is meant to be private\nvar generatePerformanceTreeSequences = function (subtree, performanceTreeSequences, subsequence) {\n\t$.each(subtree, function (key, value) {\n\t\tif (value instanceof Object) {\n\t\t\tvar clonedSubsequence = subsequence.slice(0);\n\t\t\tclonedSubsequence.push(key);\n\t\t\tgeneratePerformanceTreeSequences(value, performanceTreeSequences, clonedSubsequence);\n\t\t} else {\n\t\t\t//This means we've finished a path\n\t\t\tif (key === \"line\") {\n\t\t\t\tperformanceTreeSequences.push(subsequence);\n\t\t\t}\n\t\t}\n\t});\n}\nvar getDefaultPerformanceLine = function () {\n\treturn defaultPerformanceLine;\n};\n\nvar getAllPossibleBindingsForARole = function (conditions, knownRoleBindings, role) {\n\t//var evaluateRule = function(conditions, knownRoleBindings, cast, runAll)\n\t//return {\"success\":true, \"possibleRoleBindings\":setOfAllTrueRoleBindings};\n\tvar results = evaluateRule(conditions, knownRoleBindings, currentCast, true);\n\tvar bindingsForTheRole = [];\n\tif (results.success) {\n\t\t$.each(results.possibleRoleBindings, function (i, binding) {\n\t\t\t$.each(binding, function (roleName, castMember) {\n\t\t\t\tif (roleName === role) {\n\t\t\t\t\tif ($.inArray(castMember, bindingsForTheRole) === -1) {//not in array already\n\t\t\t\t\t\tbindingsForTheRole.push(castMember);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\treturn bindingsForTheRole;\n}\n\n\n/////////////////////////////////////////////////\n// NEW PERFORMANCE TREE UPDATE FUNCTIONALITY  //\n/////////////////////////////////////////////////\n\n\nvar updateAllPerformanceTreesInPractice = function (practice) {\n\tpractice = practice || getCurrentPractice();\n\n\t//Mark all stages as needing updating\n\tfor (var stage of practice.stages) {\n\t\tstage.performanceTreesNeedsUpdate = true;\n\t}\n\n\tvar leaves = findLeafStages(practice);\n\n\tfor (var leafStage of leaves) {\n\t\t//console.log(\"LEAF stage: \" + leafStage.label);\n\t\tupdateStageAndDependencies(leafStage);\n\t}\n\n\t//Mark all stages as needing updating\n\tfor (var stage of practice.stages) {\n\t\tdelete stage.performanceTreesNeedsUpdate;\n\t}\n}\n\nvar findLeafStages = function (practice) {\n\tvar leaves = [];\n\tfor (var stage of practice.stages) {\n\t\tif (stage.nextStages.length === 0) {\n\t\t\tleaves.push(stage);\n\t\t}\n\t}\n\treturn leaves;\n}\n\n/**\n * @description This is meant to be private. This function assumes that it\n * will never be called unless we've set performanceTreesNeedsUpdate. Once we\n * are done with making the tree we will delete it.\n\t@param stage\n*/\nvar updateStageAndDependencies = function (stage) {\n\t//Base case\n\t//console.trace();\n\t// console.log(\"^^^^^^^^^^updateStageAndDependencies for stage: \" + stage.label);\n\n\tif (stage.parentStages.length === 0) {\n\t\tfor (var action of stage.actions) {\n\t\t\tvar label = action.label;\n\t\t\tvar entryStagePerformanceTree = {};\n\t\t\tentryStagePerformanceTree[label] = { \"line\": defaultPerformanceLine, \"useDefault\": true };\n\n\t\t\tmergeTreeWithUpdatedSequencesWithExistingTree(action, entryStagePerformanceTree, {});//action.performanceTree);\n\t\t\tstage.performanceTreesNeedsUpdate = false;\n\t\t}\n\t\t// console.log(\"[updateStageAndDependencies] Base case at entry stage: \" + stage.label + \" for action: \" + action.label + \"<stage>\");\n\t\t// console.dir(stage);\n\t\treturn;\n\t}\n\n\t//Tail recursion and merge all parent performance trees\n\tvar mergedParents = {};\n\tfor (var parentStageName of stage.parentStages) {\n\t\tvar parentStage = getStageByLabel(parentStageName);\n\n\t\tupdateStageAndDependencies(parentStage);\n\n\t\tfor (var parentAction of parentStage.actions) {\n\t\t\t$.extend(true, mergedParents, parentAction.performanceTree);\n\t\t}\n\t}\n\t// console.log(\"[updateStageAndDependencies] all parents updated and merged for stage: \" + stage.label + \"<mergedParents>\");\n\t// console.dir(mergedParents);\n\n\t//Merge our parent's performance tree into ours\n\tfor (var action of stage.actions) {\n\t\t//0. Make copy of mergedParents for this action\n\t\tvar copiedMergedParents = util.clone(mergedParents);\n\t\t//1. Append default performance to each leaf of mergedParents\n\t\t// console.log(\"alter leaves in merged parents to be default value at \" + action.label + \" <leaf*, copiedMergedParents>\");\n\t\tvar performanceTreeLeaves = getPerformanceTreeLeaves(copiedMergedParents);\n\t\tif (performanceTreeLeaves.length === 0) {\n\t\t\tcopiedMergedParents[action.label] = {\n\t\t\t\t\"line\": defaultPerformanceLine,\n\t\t\t\t\"useDefault\": true\n\t\t\t};\n\t\t}\n\t\tfor (leaf of performanceTreeLeaves) {\n\t\t\t//remove the previous content at that leaf.\n\t\t\t//leaf = {};\n\t\t\tleaf[action.label] = {\n\t\t\t\t\"line\": defaultPerformanceLine,\n\t\t\t\t\"useDefault\": true\n\t\t\t};\n\t\t\t// console.log(leaf);\n\t\t}\n\t\t//This function has a side effect: It copies all things we need into copiedMergedParents\n\t\t// console.log(\"<<<<<<<<<<<<<Beginning update for action \" + action.label);\n\t\t// console.dir(action);\n\t\tmergeTreeWithUpdatedSequencesWithExistingTree(action, copiedMergedParents, action.performanceTree);\n\t\t// console.log(\">>>>>>>>>>>>>Ending update for action \" + action.label);\n\t\t// console.dir(action);\n\n\t\taction.performanceTree = copiedMergedParents;\n\t}\n\tstage.performanceTreesNeedsUpdate = false;\n}\n\n// var removeContentFromPerformanceTree = function removeContentFromPerformanceTree(subtree) {\n//\n// };\n\n//This is meant to be private\nvar getPerformanceTreeLeaves = function (subtree) {\n\tvar performanceTreeLeaves = [];\n\tfor (var key in subtree) {\n\t\tvar value = subtree[key];\n\t\tif (value.line !== undefined || Object.keys(value).length === 0) {\n\t\t\tperformanceTreeLeaves.push(value);\n\t\t\tfor (var innerKey in value) {\n\t\t\t\t//This is meant to delete the 'line', 'useDefault' from the parent stages\n\t\t\t\tdelete value[innerKey];\n\t\t\t}\n\t\t} else {\n\t\t\tperformanceTreeLeaves = performanceTreeLeaves.concat(getPerformanceTreeLeaves(value));\n\t\t}\n\t}\n\treturn performanceTreeLeaves;\n};\n\nvar mergeTreeWithUpdatedSequencesWithExistingTree = function (action, generatedSubtree, existingSubtree, sequence) {\n\n\tif (sequence === undefined) {\n\t\tsequence = {};\n\t\t//sequence[action.label] = {};\n\t}\n\n\n\tif (existingSubtree === undefined || Object.keys(existingSubtree).length === 0) {\n\t\t// existingSubtree = generatedSubtree;\n\t\tcachePerformanceTree(action, action.performanceTree);\n\t\taction.performanceTree = generatedSubtree;\n\t\treturn;\n\t}\n\n\t// console.log(\"[sequence]<sequence, generatedSubtree, existingSubtree> *****\");\n\t// console.dir(sequence);\n\t// console.dir(generatedSubtree);\n\t// console.dir(existingSubtree);\n\n\tfor (var generatedSubtreeKey in generatedSubtree) {\n\t\tif (existingSubtree[generatedSubtreeKey] !== undefined) {\n\t\t\tif (generatedSubtree[generatedSubtreeKey].line !== undefined) {\n\t\t\t\t//Generated is a leaf\n\t\t\t\tif (existingSubtree[generatedSubtreeKey].line !== undefined) {\n\t\t\t\t\t//Existing is a leaf\n\t\t\t\t\tgeneratedSubtree[generatedSubtreeKey] = util.clone(existingSubtree[generatedSubtreeKey]);\n\n\t\t\t\t\t//console.log(\"Both gen and existing are leaves. Take from existing: \" +generatedSubtree[generatedSubtreeKey].line);\n\t\t\t\t\t//console.dir(sequence);\n\t\t\t\t\t//console.dir(generatedSubtree);\n\t\t\t\t} else {\n\t\t\t\t\t//console.log(\"Gen is a leaf but existing is not. Either quit or update from cache. <sequence, clonedSequence, cachableSubtree>\");\n\t\t\t\t\t//update our sequence, it needs to be updated before caching or pulling\n\t\t\t\t\t//console.dir(sequence);\n\t\t\t\t\tvar clonedSequence = util.clone(sequence);\n\t\t\t\t\tvar toAppend = {};\n\t\t\t\t\ttoAppend[generatedSubtreeKey] = {};\n\t\t\t\t\tappendToEndOfObjectSequence(clonedSequence, toAppend);\n\n\t\t\t\t\t//clonedSequence[generatedSubtreeKey] = {};\n\t\t\t\t\t//console.dir(clonedSequence);\n\n\t\t\t\t\t//We have move existing subtree than we need. So we cache.\n\t\t\t\t\tvar cachableSubtree = util.clone(clonedSequence);\n\t\t\t\t\tappendToEndOfObjectSequence(cachableSubtree, existingSubtree[generatedSubtreeKey]);\n\t\t\t\t\t//cachableSubtree[generatedSubtreeKey] = existingSubtree[generatedSubtreeKey];\n\t\t\t\t\tcachePerformanceTree(action, cachableSubtree);\n\t\t\t\t\t//console.dir(cachableSubtree);\n\n\t\t\t\t\t//If there is something in the cache, use it in the generated\n\t\t\t\t\tvar cachedPerfromanceObj = pullFromPerformanceTreeCache(action, clonedSequence);\n\n\t\t\t\t\tif (cachedPerfromanceObj !== undefined) {\n\t\t\t\t\t\t//console.log(\"Used line from performance tree cache\");\n\t\t\t\t\t\t//console.dir(cachedPerfromanceObj);\n\t\t\t\t\t\tgeneratedSubtree[generatedSubtreeKey] = cachedPerfromanceObj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (existingSubtree[generatedSubtreeKey].line !== undefined) {\n\t\t\t\t//Existing is a leaf and generated is not\n\t\t\t\t//Cache\n\t\t\t\t//console.log(\"Existing is a leaf and generated is not. Cache and continue.\");\n\t\t\t\tvar cachableSubtree = util.clone(sequence);\n\t\t\t\tcachableSubtree[generatedSubtreeKey] = existingSubtree[generatedSubtreeKey];\n\t\t\t\tcachePerformanceTree(action, cachableSubtree);\n\n\t\t\t\tvar clonedSequence = util.clone(sequence);\n\t\t\t\t//clonedSequence[generatedSubtreeKey] = {};\n\t\t\t\tvar toAppend = {};\n\t\t\t\ttoAppend[generatedSubtreeKey] = {};\n\t\t\t\tappendToEndOfObjectSequence(clonedSequence, toAppend);\n\t\t\t\tmergeTreeWithUpdatedSequencesWithExistingTree(action, generatedSubtree[generatedSubtreeKey], existingSubtree[generatedSubtreeKey], clonedSequence);\n\t\t\t} else {\n\t\t\t\t//Neither are lines and sequence exists in both trees\n\t\t\t\t//console.log(\"Neither are lines and sequence exists in both trees\");\n\t\t\t\tvar clonedSequence = util.clone(sequence);\n\t\t\t\tvar toAppend = {};\n\t\t\t\ttoAppend[generatedSubtreeKey] = {};\n\t\t\t\tappendToEndOfObjectSequence(clonedSequence, toAppend);\n\t\t\t\t//clonedSequence[generatedSubtreeKey] = {};\n\t\t\t\tmergeTreeWithUpdatedSequencesWithExistingTree(action, generatedSubtree[generatedSubtreeKey], existingSubtree[generatedSubtreeKey], clonedSequence);\n\t\t\t}\n\t\t}\n\t}\n\n\t//This catches the case where the existing tree has contents, and the generated doesn't\n\t//In this case we want to cache.\n\tfor (var existingSubtreeKey in existingSubtree) {\n\t\tif (generatedSubtree[existingSubtreeKey] === undefined) {\n\t\t\t//console.log(\"Key in existing tree but not in generated. Time to cache!\");\n\t\t\tvar cachableSubtree = util.clone(sequence);\n\t\t\tvar toAppend = {};\n\t\t\ttoAppend[existingSubtreeKey] = existingSubtree[existingSubtreeKey];\n\t\t\tappendToEndOfObjectSequence(cachableSubtree, toAppend);\n\t\t\tcachableSubtree[existingSubtreeKey] = existingSubtree[existingSubtreeKey];\n\t\t\tcachePerformanceTree(action, cachableSubtree);\n\t\t}\n\t}\n}\n\nvar cachePerformanceTree = function (action, cachableSubtree) {\n\taction.performanceTreeCache = action.performanceTreeCache || {};\n\t$.extend(true, action.performanceTreeCache, cachableSubtree);\n\treturn;\n}\n\nvar pullFromPerformanceTreeCache = function (action, sequence) {\n\t//console.log(\"[\" +action.label+ \"] pullFromPerformanceTreeCache(): \" + Object.keys(sequence)[0]);\n\t//console.dir(sequence);\n\taction.performanceTreeCache = action.performanceTreeCache || {};\n\tvar subtree = util.clone(action.performanceTreeCache);\n\twhile (sequence !== undefined) {\n\t\tvar keys = Object.keys(sequence);\n\t\tif (keys.length < 1 || subtree[keys[0]] === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tsequence = sequence[keys[0]];\n\t\tsubtree = subtree[keys[0]];\n\t}\n\tif (subtree.line !== undefined) {\n\t\treturn subtree;\n\t}\n\treturn undefined;\n}\n\nvar appendToEndOfObjectSequence = function (sequence, toAppend) {\n\tvar keys = Object.keys(sequence);\n\tvar key;\n\tvar current = sequence;\n\tvar previous = {};\n\n\tif (keys.length === 0) {\n\t\treturn toAppend;\n\t}\n\n\twhile (keys.length !== 0) {\n\t\tkey = keys[0];\n\t\tprevious = current;\n\t\tcurrent = current[keys];\n\t\tkeys = Object.keys(current);\n\t}\n\n\tprevious[key] = toAppend;\n}\n\n\nvar updatePrePerformanceTreeLegacyPractice = function (practice) {\n\tsetCurrentPractice(practice);\n\t//Add parents to stages\n\tvar stage;\n\tfor (stage of practice.stages) {\n\t\tif (stage.parentStages === undefined) {\n\t\t\tconsole.log(\"new parent aray added to stage: \" + stage.label);\n\t\t\tstage.parentStages = [];\n\n\t\t}\n\t}\n\tfor (stage of practice.stages) {\n\t\tfor (var nextStageLabel of stage.nextStages) {\n\t\t\tvar nextStage = getStageByLabel(nextStageLabel);\n\t\t\tnextStage.parentStages.push(stage.label);\n\t\t\tconsole.log(\"stage label added: \" + stage.label);\n\t\t}\n\t}\n\t//Build a new performance tree!\n\tupdateAllPerformanceTreesInPractice(practice);\n}\n\n\nvar getPracticeRecord = function () {\n\treturn practiceRecord;\n}\n\n\nvar getVolitionInfoAsStrings = function(scoredMTInfos) {\n\tlet mtInfos = getScoredMTInfo();\n\tlet volitionInfoAsStrings = {};\n\tfor (let mtInfoName in mtInfos) {\n\t\tvolitionInfoAsStrings[mtInfoName] = [];\n\t\tfor (let rule of mtInfos[mtInfoName].trueRules) {\n\t\t\tlet ruleInfoInStringForm = {\n\t\t\t\t\"description\": rule.name,\n\t\t\t\t\"title\" : rule.title,\n\t\t\t\t\"predicates\": [],\n\t\t\t\t\"weight\": rule.effects[0].weight,\n\t\t\t\t\"intent\": mtInfoName\n\t\t\t};\n\t\t\t// Btw, I checked and the rules are cloned in the PracticeManager, so we can safely mess with them I'm pretty sure.\n\t\t\tlet bindings = rule.result.possibleRoleBindings[0];\n\t\t\tlet boundPreds = cif.practiceManager.getCloneOfBoundPredicates(rule.conditions, bindings);\n\t\t\tfor (let i = 0; i < boundPreds.length; i++) {\n\t\t\t\truleInfoInStringForm.predicates.push(cif.predicateNLG(boundPreds[i]));\n\t\t\t}\n\t\t\tvolitionInfoAsStrings[mtInfoName].push(ruleInfoInStringForm);\n\t\t}\n\t}\n\treturn volitionInfoAsStrings;\n}\n\nvar volitionRuleToString = function(rule, bindings, useActualHistory) {\n\tlet boundConditions = getCloneOfBoundPredicates(rule.conditions, bindings);\n\t// let boundEffects = getCloneOfBoundPredicates(rule.effects, bindings);\n\n\tif (useActualHistory) {\n\t\t// replace the bound preds with the actual history values (this only matters\n\t\t// for preds with schemas with isBoolean = false)\n\t\tfor (let i = 0; i < boundConditions.length; i++) {\n\t\t\tlet schemaEntry = cif.rawSchema.schema.filter(entry=>entry.class===boundConditions[i].class);\n\t\t\tif (!schemaEntry[0].isBoolean) {\n\t\t\t\t// cif.get without an operator will match without considering the value (so you can see what it is)\n\t\t\t\t// In other words, this is how you find out what the network value is betwee two people.\n\t\t\t\tboundConditions[i].operator = \"\";\n\t\t\t\tlet matchingPreds = cif.get(boundConditions[i]);\n\t\t\t\t// These preds should be cloned, so modifying them shouldn't matter\n\t\t\t\tboundConditions[i].value = matchingPreds[0].value;\n\t\t\t}\n\t\t}\n\t\t// We don't (shouldn't?) need to do the above for effects only because we know their structure \n\t\t// and treat them special (they are intents, and there should only be one pred).\n\t}\n\n\tlet result = \"\";\n\n\tif (boundConditions.length === 1) {\n        result = cif.predicateNLG(boundConditions[0]);\n    } else if (boundConditions.length === 2) {\n        result = cif.predicateNLG(boundConditions[0]) + \" and \" + cif.predicateNLG(boundConditions[1]);\n    } else {\n        for (let i = 0; i < boundConditions.length; i++) {\n            if (i > 0) {\n                if (i === boundConditions.length - 1) {\n                    result += \", and \";\n                } else {\n                    result += \", \";\n                }\n            }\n            result += cif.predicateNLG(boundConditions[i]);\n        }\n    }\n\n\treturn result;\n}\n\nvar resetPracticeSummaries = function() {\n\tpracticeSummaries = [];\n}\n\nvar addPracticeSummary = function(summary) {\n\tpracticeSummaries.push(summary)\n}\n\nvar getPracticeSummaries = function() {\n\treturn practiceSummaries;\n}\n\nvar setPracticeSummaries = function(practiceSums) {\n\tpracticeSummaries = practiceSums;\n}\n\nlet getRelevantPracticeSummaries = function(first, second) {\n\tlet relevantSummaries = [];\n\tfor (let summary of practiceSummaries) {\n\t\tif ((summary.initiator === first && summary.responder === second)\n\t\t\t|| (summary.responder === first && summary.initiator === second)) \n\t\t{\n\t\t\trelevantSummaries.push(summary);\t\n\t\t}\n\t}\n\treturn relevantSummaries;\n}\n\nlet practiceInterface = {\n\tresetPracticeSummaries: resetPracticeSummaries,\n\taddPracticeSummary: addPracticeSummary,\n\tgetPracticeSummaries: getPracticeSummaries,\n\tsetPracticeSummaries: setPracticeSummaries,\n\tgetRelevantPracticeSummaries: getRelevantPracticeSummaries,\n\tevaluateRule: evaluateRule,\n\ttestEvaluateRule: testEvaluateRule,\n\tlaunchStage: launchStage,\n\tgetPractices: getPractices,\n\tsetPractices: setPractices,\n\tsetCast: setCast,\n\taddPractice: addPractice,\n\tremovePractice: removePractice,\n\tgetCurrentPractice: getCurrentPractice,\n\tgetPracticeByName: getPracticeByName,\n\tsetCurrentPractice: setCurrentPractice,\n\tgetCurrentStage: getCurrentStage,\n\tsetCurrentStage: setCurrentStage,\n\tgetCurrentAction: getCurrentAction,\n\tsetCurrentAction: setCurrentAction,\n\tgetCurrentRoleBindings: getCurrentRoleBindings,\n\tgetEventStageByLabel: getEventStageByLabel,\n\tgetStageByLabel: getStageByLabel,\n\tgetActionByLabel: getActionByLabel,\n\tgetActionByLabelFromAnyPractice: getActionByLabelFromAnyPractice,\n\tgetPossibleActions: getPossibleActions,\n\tgenerateActions: generateActions,\n\tselectAction: selectAction,\n\tinstantiatePerformance: instantiatePerformance,\n\tsetBestRoleBindingForAction: setBestRoleBindingForAction,\n\tapplyEffects: applyEffects,\n\tstageTransition: stageTransition,\n\ttransitionStageToTakenActionsStage: transitionStageToTakenActionsStage,\n\tinTerminalStage: inTerminalStage,\n\tgetActionByName: getActionByName,\n\tgetCloneOfBoundPredicates: getCloneOfBoundPredicates,\n\tgetScoredMTInfo: getScoredMTInfo,\n\tgetScoredActionsInfo: getScoredActionsInfo,\n\tdeleteStage: deleteStage,\n\tupdateStage: updateStage,\n\tupdateActionPerformanceTrees: updateActionPerformanceTrees,\n\tupdateActionLabelForAllPerformanceTrees: updateActionLabelForAllPerformanceTrees,\n\tpruneParentFromPerformanceTree: pruneParentFromPerformanceTree,\n\tgetPerformanceTreeSequences: getPerformanceTreeSequences,\n\tgetDefaultPerformanceLine: getDefaultPerformanceLine,\n\tgetAllPossibleBindingsForARole: getAllPossibleBindingsForARole,\n\tdeleteActionFromAllPredecessors: deleteActionFromAllPredecessors,\n\tdeleteActionLabelsFromPerformanceTree: deleteActionLabelsFromPerformanceTree,\n\tupdateAllPerformanceTreesInPractice: updateAllPerformanceTreesInPractice,\n\tupdatePrePerformanceTreeLegacyPractice: updatePrePerformanceTreeLegacyPractice,\n\tgetPracticeRecord: getPracticeRecord,\n\tgetVolitionInfoAsStrings: getVolitionInfoAsStrings,\n\tvolitionRuleToString: volitionRuleToString\n};\nexport default practiceInterface;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 501;\nmodule.exports = webpackEmptyAsyncContext;","import util from \"./util.js\";\n// import _ from \"./underscore-min.js\";\nimport validate from \"./Validate.js\";\nimport volition from \"./Volition.js\";\nimport ruleLibrary from \"./RuleLibrary.js\";\nimport actionLibrary from \"./ActionLibrary.js\";\n\n\nvar actions = []; //An array containing all of the actions available in this social world.\n\n//Experimenting with having a 'grammar' to define the actions of the world.\nvar startSymbols = [];\nvar nonTerminals = [];\nvar terminalActions = [];\n\n/**\n * @method getAllActions \n * @private\n * @description returns an array containing every action (terminal or otherwise) available in the social world.\n * @return {Array} [An array containing every single action defined in the social world.]\n */\nvar getAllActions = function () {\n\treturn actions;\n};\n\n/**\n * @method getStartSymbols \n * @private\n * @description Returns an array containing every 'start action.' Conceived to return all actions specifically tied to an intent.\n * @return {Array} [An array containing every 'root' acton (every action tied to an intent) in the social world]\n */\nvar getStartSymbols = function () {\n\treturn startSymbols;\n};\n\n/**\n * @method getNonTerminals \n * @private\n * @description Returns an array containing every 'non terminal' This will include both root and non-root actions, but exclude terminal actions.\n * @return {[type]} [An array containing every 'non terminal' action.]\n */\nvar getNonTerminals = function () {\n\treturn nonTerminals;\n};\n\n/**\n * @method getTerminalActions \n * @description Returns an array containing every terminal action.\n * @return {[type]} [An array containing every terminal action]\n */\nvar getTerminalActions = function () {\n\treturn terminalActions;\n};\n\n/**\n * @methodclearActionLibrary \n * @description Completely empties out the the action library by zero-ing out the arrays of actions, startSymbols, nonTerminals, and terminalActions. Used mainly for testing purposes.\n */\nvar clearActionLibrary = function () {\n\tactions = [];\n\tstartSymbols = [];\n\tnonTerminals = [];\n\tterminalActions = [];\n};\n\n/**\n * @method addActions\n * @public\n * @memberOf CiF \n * @description Takes in either a JSON file or a JSON string representing the definition of an action or actions and stores it in the action library. This effect is cumulative; calling this function on multiple files will lead to the actions from both files being stored in the action library.]\n * @param  {JSON} data - Either a JSON string or a JSON file defining an action or actions.\n * @return {array}      [An array of every action currently stored in the action library.]\n */\nvar parseActions = function (data) {\n\tvar parsedActions;\n\tvar fileName;\n\tvar actionsToCategorize = [];\n\n\ttry {\n\t\tif (typeof data === \"string\") {\n\t\t\tparsedActions = (JSON.parse(data)).actions;\n\t\t\tfileName = (JSON.parse(data)).fileName;\n\t\t} else if (typeof data === \"object\") {\n\t\t\tparsedActions = data.actions;\n\t\t\tfileName = data.fileName;\n\t\t} else {\n\t\t\tconsole.log(\"unexpected value:\", data);\n\t\t\tthrow new Error(\"Error parseActions: unexpected data value: \", typeof data);\n\t\t}\n\t} catch (e) {\n\t\tthrow new Error(\"JSON Error parseActions \" + e);\n\t}\n\tif (parsedActions === undefined) {\n\t\tthrow new Error(\"Error: social structure data file must be JSON that defines a top-level key 'socialStructure'\");\n\t}\n\tfor (var i = 0; i < parsedActions.length; i++) {\n\t\tvar action = parsedActions[i];\n\t\taction.fileName = fileName;\n\n\t\t// Error Checking\n\t\t// ////#CODEREVIEW: add validation that there can't be two different actions that have the same intent defined.\n\t\tvalidate.action(action, \"Examining action  #\" + i);\n\n\t\tif (actionAlreadyExists(action)) {\n\t\t\tconsole.error(\"Error! The action \" + action.name + \" is already defined!\");\n\t\t\tcontinue;\n\t\t}\n\t\tactions.push(util.clone(action));\n\t\tactionsToCategorize.push(action);\n\t}\n\tcategorizeActionGrammar(actionsToCategorize);\n\treturn actions;\n};\n\n/**\n * @method actionAlreadyExists \n * @private\n * @description a simple helper function to see if a newly parsed in action hasn't already been defined -- this is done by looking at the name of the action. This means that even if two actions are quite different, if they share the same name an error will be printed to the console.]\n * @param  {Object} potentialNewAction [The action that has just been read in, and is to be checked against the actions already in the action library.]\n * @return {Boolean}                    [Returns true if the action already exists. False otherwise.]\n */\nvar actionAlreadyExists = function (potentialNewAction) {\n\tfor (var i = 0; i < actions.length; i += 1) {\n\t\tif (actions[i].name === potentialNewAction.name) {\n\t\t\t//uh oh, is already exists!\n\t\t\treturn true;\n\t\t}\n\t}\n};\n\n/**\n * @method categorizeActionGrammar\n * @description This method takes in an unsorted list of actions (in the style returned from the parseActions method) and, based on the properties of these actions, determines if they are 'start', 'terminal' or 'non-terminal' actions and stores them in teh appropriate array of actionLibrary\n * @param  {[array]} actionPool [Contains an unsorted list of all of the action termainals and non terminals]\n */\nvar categorizeActionGrammar = function (actionPool) {\n\tvar currentAction;\n\tfor (var i = 0; i < actionPool.length; i += 1) {\n\t\tcurrentAction = util.clone(actionPool[i]);\n\t\tif (actionPool[i].intent !== undefined) {\n\t\t\tstartSymbols.push(currentAction);\n\t\t}\n\t\tif (actionPool[i].leadsTo !== undefined) {\n\t\t\tnonTerminals.push(currentAction); // so start terminals ALSO end up here. Maybe that's good? Can change into an else-if if not!\n\t\t}\n\t\tif (actionPool[i].effects !== undefined) {\n\t\t\tterminalActions.push(currentAction);\n\t\t}\n\t}\n\n};\n\n/**\n * @method getSortedActionsFromVolition\n * @description Finds the actions that the initiator wants to take towards the responder, and sorts them by volition score.\n * @param  {String}  initiator          [The name of the initiator of the action]\n * @param  {String}  responder          [The name of the responder of the action]\n * @param  {Object}  registeredVolition [A registered volition object]\n * @param  {Boolean} isAccepted         [Whether or not the responder accepts the intent of the volition.]\n * @param  {Number}  weight             [How much the initiator wants to pursue this volition.]\n * @param  {[Number]}  numActionsPerGroup [Used to determine how many 'actions per group' to include. Will ultimately default to one if unspecified.]\n * @param  {Array}  cast               [The characters to use in consideration for the binding of various roles the actions might need.]\n * @return {[Array]}                     [An array of actions the initiator wants to take towards the responder, sorted by weight.]\n */\nvar getSortedActionsFromVolition = function (initiator, responder, registeredVolition, isAccepted, weight, numActionsPerGroup, cast) {\n\t//console.log(\"Inside of getSortedactionsFromVolition\");\n\n\tvar actions = getTerminalActionsFromVolition(initiator, responder, registeredVolition, isAccepted, weight, numActionsPerGroup, cast);\n\tvar sortedActions = sortActionsByVolitionScore(actions);\n\treturn sortedActions;\n\n};\n\n\n/**\n * @method sortActionsByVolitionScore \n * @private\n * @description Sorts an array of actions based on their weights in descending order.. Specifically, each action has a list of actions that it 'leads to' -- and it is THIS list of actions that is being sorted. Uses recursion to get to the end of the chain. Also sorts the GoodBindings of each weight as well.\n * @param  {Array} actions [An array of actions to be sorted]\n * @return {Array}         [The sorted actions]\n */\nvar sortActionsByVolitionScore = function (actions) {\n\tvar descSortedActions = _.sortBy(actions, \"weight\");\n\tactions = descSortedActions.reverse(); // now all of our actions are sorted, sweet!\n\t//Sadly, the above messes up ties, a little bit. The initial sort by screws up the order of ties, and the reverse then 'respects' the messed up order from underscore.\n\n\t//And, uh, I guess now we want to do the same as we drill downwards?\n\tfor (var i = 0; i < actions.length; i += 1) {\n\t\tvar nextActions = actions[i].actions;\n\t\tif (nextActions !== undefined) {\n\t\t\tactions[i].actions = sortActionsByVolitionScore(nextActions);\n\t\t}\n\n\t\t//let's try sorting the 'good bindings' by their weight$$ property.\n\t\tif (actions[i].goodBindings !== undefined) {\n\t\t\tvar descSortedBindings = _.sortBy(actions[i].goodBindings, \"weight$$\");\n\t\t\tactions[i].goodBindings = descSortedBindings.reverse();\n\t\t}\n\t}\n\n\treturn actions;\n};\n\n/**\n * @method getTerminalActionsFromVolition\n * @description This method takes the names of the initiator and responder of an action and a registered volition \n * between them, and will go through the entire grammar for the intnet specified in the volition and return all \n * terminal actions that are appropriate (are of the correct accept/reject polarity, have all conditions met, etc.)\n * The number of actions returned per action group is determined by numActionsPerGroup. \n * Cast indicates the characters to use for role binding.\n * @param  {[String]} initiator          [The name of the initiator of the action.]\n * @param  {[String]} responder          [The name of the responder of the action.]\n * @param  {[Object]} registeredVolition [The registered volition between the initiator and responder]\n * @param  {[Number]} numActionsPerGroup [The number of terminal actions to return per 'action group.' They will ultimately be sorted by salience; i.e. if this number is 1, then only the most salient terminal action per action group will be returned. If 2, the top two salient terminal actions, etc.]\n * @param  {[Array]} cast               [The characters to be used in the role binding process]\n * @return {[Array]}                    [An Array of potential actions that can be carried out from the initiator to the responder]\n */\nvar getTerminalActionsFromVolition = function (initiator, responder, volition, isAccepted, weight, numActionsPerGroup, cast) {\n\tvar actionIntent;\n\tvar goodTerminals = [];\n\tvar returnTerminalList = [];\n\tvar potentialTerminal;\n\t//#CODREVIEW -- probably only need uniqueBindings or initialGoodBindings\n\tvar uniqueBindings = {};\n\tuniqueBindings[\"initiator\"] = initiator;\n\tuniqueBindings[\"responder\"] = responder;\n\t//This name is a little misleading, as we don't know yet if the binding is good or bad,\n\t//but we DO know that this binding has to take place, so I think it works...\n\tvar initialGoodBindings = {\n\t\t\"initiator\": initiator,\n\t\t\"responder\": responder\n\t};\n\n\t//first, we need to find the 'start' action based on the volition\n\tfor (var i = 0; i < startSymbols.length; i += 1) {\n\t\tactionIntent = startSymbols[i].intent;\n\t\tif (actionIntent.class === volition.class &&\n\t\t\tactionIntent.type === volition.type &&\n\t\t\tactionIntent.intentDirection === volition.intentDirection) {\n\t\t\t//it appears that this is an action pertaining to this volition!\n\t\t\tvar rootAction = util.clone(startSymbols[i]);\n\t\t\trootAction.goodBindings = [];\n\t\t\trootAction.goodBindings.push(initialGoodBindings);\n\t\t\trootAction.weight = weight; // This is the 'base' score that came from our microtheories equivalent.\n\t\t\tgoodTerminals = getTerminalActionsFromNonTerminal(rootAction, isAccepted, numActionsPerGroup, uniqueBindings, cast);\n\t\t\tif (goodTerminals === undefined) { // this means we didn't find any good actions!\n\t\t\t\tconsole.log(\"found no valid actions for init: \" + initiator + \", respond: \" + responder + \", for volition \", volition);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//#CODEREVIEW: Maybe just return goodTerminals right here.\n\n\t\t\treturnTerminalList = goodTerminals; //Ok, so, it said temp temp temp, but actually I think this is pretty much exactly what we want!\n\t\t}\n\t}\n\n\treturn returnTerminalList;\n};\n\n/**\n * @method getTerminalActionsFromNonTerminal\n * @description Returns an array that contains all of the terminal actions that you can reach from a given nonTerminal action.\n * @param  {[Object]} nonTerminal [A 'non-terminal object that theoretically has a \"leadsTo\" field defined. This leadsTo field may lead to terminals or nonTerminals. If nonTerminals, this function is called recursively until terminals are reached.']\n * @return {[Array]}             [An Array of all of the non-terminals you can reach from the provided nonTerminal]\n */\nvar getTerminalActionsFromNonTerminal = function (nonTerminal, isAccepted, actionsPerGroup, uniqueBindings, cast) {\n\tvar returnList = [];\n\tvar terminalsAtThisLevel = false;\n\tvar currentUniqueBindings = uniqueBindings;\n\tvar startingWeight = nonTerminal.weight;\n\tactionsPerGroup = actionsPerGroup || 1; //By default, assume you want the MOST salient action per group (as opposed to, say, the top TWO salient actions)\n\tisAccepted = typeof isAccepted !== 'undefined' ? isAccepted : true;\n\tif (nonTerminal.leadsTo === undefined) {\n\t\t//we don't know what to do here! Uh, end of the road? Return?\n\t\treturn;\n\t}\n\n\tcurrentUniqueBindings = getUniqueActionBindings(nonTerminal, uniqueBindings);\n\t//#CODEREVIEW -- why is cast passed in twice here? Ah, because one is available and one is all. But \"all\" never changes, so insead of passing in a clone, how about just a reference.\n\tvar nonTerminalWorkingBindingCombinations = getWorkingBindingCombinations(nonTerminal, util.clone(uniqueBindings), util.clone(cast), util.clone(nonTerminal.goodBindings), util.clone(cast));\n\tif (nonTerminalWorkingBindingCombinations.length <= 0) {\n\t\t//Oops, there is no possible combination of cast members that make this work! \n\t\t//So no point in going down this path anymore!\n\t\treturn;\n\t}\n\n\tnonTerminal.goodBindings = nonTerminalWorkingBindingCombinations;\n\n\t//So, now at this point, where I have all of the 'good bindings' at this level... I guess what I want to do\n\t//is go through all of the influence rules, for each binding, and re-score them?\n\t//The starting score should come from the 'parent' element.\n\t//oh, wait, it has it already I think, because we don't have any children yet. OK.\n\tcomputeInfluenceRuleWeight(nonTerminal);\n\n\n\t//console.log(\"$$$$$ Here is my terminal action before going into the 'I found a terminal action' thing!\", nonTerminal);\n\n\t//#CODEREVIEW -- do we need this terminalActionsParentObject? Why not just keep on using nonTerminal instead?\n\tvar terminalActionParentObject = {};\n\tterminalActionParentObject.name = nonTerminal.name;\n\tterminalActionParentObject.weight = nonTerminal.weight;\n\tterminalActionParentObject.goodBindings = nonTerminal.goodBindings;\n\tterminalActionParentObject.actions = [];\n\tvar potentialActionsToReturn = [];\n\t//#CODEREVIEW: Maybe think about breaking this for-loop into it's own function?\n\tfor (var i = 0; i < nonTerminal.leadsTo.length; i += 1) {\n\t\tvar actionName = nonTerminal.leadsTo[i];\n\t\t//We're going through each one of the 'leads to' thingies!\n\t\t//If these lead-to things are terminals, then great, I guess we're done?\n\t\t//\n\t\t//TODO: Intead of having to recompute this every time, it would be cool to \n\t\t//actually construct something that kept track of this structure... using associative arrays \n\t\t//I suppose? Maybe pointers? Hmmmm..\n\t\t//#CODEREVIEW -- fix the name of this fuction/remove extraneous functions with similar names.\n\t\tvar terminalAction = getTerminalActionFromNameGeneric(actionName, terminalActions);\n\n\n\t\tif (terminalAction !== undefined) {\n\t\t\tterminalsAtThisLevel = true;\n\t\t\tterminalAction.goodBindings = util.clone(nonTerminal.goodBindings);\n\t\t\tif (nonTerminal.lineage === undefined) {\n\t\t\t\tterminalAction.lineage = nonTerminal.name;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tterminalAction.lineage = nonTerminal.lineage + \"-\" + nonTerminal.name;\n\t\t\t}\n\t\t\t//terminalAction.lineage = nonTerminal.lineage + \"-\" + nonTerminal.name;\n\n\t\t\tcurrentUniqueBindings = getUniqueActionBindings(terminalAction, uniqueBindings);\n\t\t\tvar workingBindingCombinations = getWorkingBindingCombinations(terminalAction, util.clone(currentUniqueBindings), util.clone(cast), util.clone(terminalAction.goodBindings), util.clone(cast));\n\n\t\t\tterminalAction.goodBindings = workingBindingCombinations;\n\n\t\t\t//we found a terminal symbol! Great, let's add it to the list!\n\t\t\t//Let's do some checks to make sure that the action that we're looking at is good.\n\t\t\t//This means checking it's conditions, and checking if it's \"isAccept\" matches what we want.\n\t\t\tif (!actionIsAppropriate(terminalAction, isAccepted, currentUniqueBindings)) {\n\t\t\t\t//oops, either the conditions or the isAccept didn't pass! Let's move along...\n\t\t\t\t//console.log(\"how many times do you see me? inappropriate action: \" , terminalAction);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t//In \"traditional CiF\" we would only want one of these things. The most salient.\n\t\t\t//But here we have the power to take the X most salient, if we so desire.\n\t\t\t//TODO: (Of course) there is a LOT of thinking that has to go into how conditions work with all of this stuff... I'm kind of dreading that a little big!\n\n\t\t\t//So, ok... here is what I'm going to do... I'm going to change all of this\n\t\t\t//returnList manipulation, into creating a new 'action object' thingy, which will\n\t\t\t//have an action array, and it is THAt array that will under go manipulation.\n\n\t\t\t//AND FINE, I'm caving in! Let's compute influence rules for this terminal action, too!\n\t\t\tcomputeInfluenceRuleWeight(terminalAction);\n\t\t\tif (terminalAction.salience === undefined) {\n\t\t\t\tterminalAction.salience = 0;\n\t\t\t}\n\t\t\tif (terminalAction.weight === undefined) {\n\t\t\t\tterminalAction.weight = 0;\n\t\t\t}\n\n\t\t\tterminalAction.salience = terminalAction.weight + terminalAction.salience; // if there is a hard-coded sailence, honor it.\n\n\t\t\t//#CODEREVIEW: Get rid of salience code? Just comment it out maybe. We shouldn't have code executing that isn't doing anything.\n\t\t\t//#CODEREVIEW: AH, ok! Change all of these things that are looking at salience to instead look at influence rule weight instead.\n\t\t\t//#CODEREVIEW: Currently doing the above suggestion by just assigning the weight to the salience property.\n\t\t\tif (terminalActionParentObject.actions === undefined || terminalActionParentObject.actions.length <= 0) {\n\t\t\t\tterminalActionParentObject.actions = [];\n\t\t\t\tif (terminalAction.salience === undefined) {\n\t\t\t\t\tterminalAction.salience = computeActionSalience(terminalAction);\n\t\t\t\t}\n\t\t\t\tterminalActionParentObject.actions.push(terminalAction);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (terminalAction.salience === undefined) {\n\t\t\t\t\tterminalAction.salience = computeActionSalience(terminalAction);\n\t\t\t\t}\n\t\t\t\tvar actionListLength = terminalActionParentObject.actions.length; // want to store this, because we'll be adjusting the length inside of the loop\n\t\t\t\tfor (var salienceIndex = actionListLength; salienceIndex > 0; salienceIndex -= 1) {\n\t\t\t\t\tif (terminalActionParentObject.actions[salienceIndex - 1].salience >= terminalAction.salience) {\n\t\t\t\t\t\t//it's time to stop. use the length to decide if we should even bother adding it or not, I guess.\n\t\t\t\t\t\tif (salienceIndex === actionListLength && actionListLength >= actionsPerGroup) {\n\t\t\t\t\t\t\t//This new guy isn't even good enough to make the list, ignore it and stop going through the list!\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t//ok, cool, our new guy is bigger. Let's put him in.\n\t\t\t\t\t\t\tterminalActionParentObject.actions.splice(salienceIndex, 0, terminalAction);\n\t\t\t\t\t\t\t//And now check to see if anything needs to be removed.\n\t\t\t\t\t\t\tif (terminalActionParentObject.actions.length > actionsPerGroup) {\n\t\t\t\t\t\t\t\tterminalActionParentObject.actions.splice(actionsPerGroup, terminalActionParentObject.actions.length - actionsPerGroup);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t//If we've made it to here, that implies that we've found a new most salience thing\n\t\t\t\t\t//but let's wrap it an if just in case.\n\t\t\t\t\tif ((salienceIndex - 1) === 0 && terminalAction.salience > terminalActionParentObject.actions[salienceIndex - 1].salience) {\n\t\t\t\t\t\t//we found a new 'most salience' thing, so put it at the front of the list!\n\t\t\t\t\t\tterminalActionParentObject.actions.splice(salienceIndex - 1, 0, terminalAction);\n\t\t\t\t\t\t//And now check to see if anything needs to be removed.\n\t\t\t\t\t\tif (terminalActionParentObject.actions.length > actionsPerGroup) {\n\t\t\t\t\t\t\tterminalActionParentObject.actions.splice(actionsPerGroup, terminalActionParentObject.actions.length - actionsPerGroup);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak; // We're at the end of the loop, but let's break anywya just because.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse { // Ah, we must be dealing with another non-terminal! let's DIG DEEPER!\n\n\t\t\t//#CODEREVIEW: This code is pretty much exactly repeated elsewhere in this function. Make it it's own function, maybe passing in special parametrs as needed.\n\t\t\tvar nonTerminalAction = getTerminalActionFromNameGeneric(actionName, nonTerminals);\n\t\t\tnonTerminalAction.goodBindings = nonTerminal.goodBindings;\n\t\t\tnonTerminalAction.weight = nonTerminal.weight;\n\n\t\t\t//Figure out the 'lineage' of the action (i.e., keep track of the path we've taken down the tree.)\n\t\t\tif (nonTerminal.lineage === undefined) {\n\t\t\t\tnonTerminalAction.lineage = nonTerminal.name;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnonTerminalAction.lineage = nonTerminal.lineage + \"-\" + nonTerminal.name;\n\t\t\t}\n\n\t\t\t//Get the unique bindings that still work.\n\t\t\tcurrentUniqueBindings = getUniqueActionBindings(nonTerminalAction, uniqueBindings);\n\t\t\tif (!actionIsAppropriate(nonTerminalAction, isAccepted, currentUniqueBindings)) {\n\t\t\t\t//oops, either the conditions or the isAccept didn't pass! Let's move along...\n\t\t\t\t//console.log(\"how many times do you see me? inappropriate action: \" , terminalAction);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t//RECURSIVE CALL! Using the non-terminal we're on as the starting point for the next level down the tree.\n\t\t\tvar diggingDeeperActions = getTerminalActionsFromNonTerminal(nonTerminalAction, isAccepted, actionsPerGroup, util.clone(currentUniqueBindings), util.clone(cast));\n\t\t\tif (diggingDeeperActions === undefined || diggingDeeperActions.length <= 0) {\n\t\t\t\tcontinue; // oops! This 'leads to' led to something that had no valid bindings! Better move on!\n\t\t\t}\n\n\t\t\t//Store the actions we found by 'digging deeper'\n\t\t\tnonTerminalAction.actions = [];\n\t\t\tfor (var ddActionIndex = 0; ddActionIndex < diggingDeeperActions.length; ddActionIndex += 1) {\n\t\t\t\tvar thingToAdd = diggingDeeperActions[ddActionIndex];\n\t\t\t\tnonTerminalAction.actions.push(util.clone(thingToAdd));\n\t\t\t}\n\n\t\t\t//And return the nonTerminalAction we created, that has stored within it now all of the 'good actions' that it can lead to.\n\t\t\treturnList.push(util.clone(nonTerminalAction));\n\t\t}\n\n\t}\n\n\t//Because there might be non-terminals and terminals at the same level, do a check \n\t//to see if we need to add anything in at this level in the tree.\n\tif (terminalsAtThisLevel === true) {\n\t\tfor (var terminalsToPushUpIndex = 0; terminalsToPushUpIndex < terminalActionParentObject.actions.length; terminalsToPushUpIndex += 1) {\n\t\t\treturnList.push(util.clone(terminalActionParentObject.actions[terminalsToPushUpIndex]));\n\t\t}\n\t}\n\n\t//If we've gotten here, we must have gotten everything we need!\n\treturn returnList;\n\n};\n\n/**\n * @method computeActionsSalience\n * @description Takes an action as a parameter. If it's salience score is undefined, computes a new salience score based on it's conditions.\n * @param  {[Object]} terminalAction [An action that should come at the 'end' of the action tree (i.e. it should have effects associated with it). This actions conditions are used to compute salience.]\n * @return {[Number]}                [The number representing the salience of this particular action.]\n */\nvar computeActionSalience = function (terminalAction) {\n\tvar returnValue;\n\tvar multiplier = 5; // Maybe this should live in some constants thing? Or, better yet, be something that the user can specify?\n\tif (terminalAction.salience !== undefined) {\n\t\treturnValue = terminalAction.salience;\n\t}\n\telse {\n\t\tvar numConditions = terminalAction.conditions.length;\n\t\tif (numConditions === undefined) {\n\t\t\tnumConditions = 0;\n\t\t}\n\t\tvar salienceCalculation = numConditions * multiplier;\n\t\treturnValue = salienceCalculation;\n\t}\n\treturn returnValue;\n};\n\n//MYU OLD INFLUENCE RULE CODE, but separated out (because I think other things were calling it!)\n//Going to change all instances of 'nonTerminal' to 'action', because I think any action can actually\n//be passed through this now.\n/**\n * @method computeInfluenceRuleWeight \n * @private\n * @description Takes in an action, goes through all of its valid bindings, and evaluates the influence rule for each set of bindings. Stores the weight with each binding and, for the best weight (i.e. the best binding) stores it at the level of the action.\n * @param  {Object} action [The action to compute the weight for. Should have at least one 'goodBinding' attached to it]\n */\nvar computeInfluenceRuleWeight = function (action) {\n\tvar bestWeightFoundSoFar = -999999;\n\tfor (var goodBindingIndex = 0; goodBindingIndex < action.goodBindings.length; goodBindingIndex += 1) {\n\t\tvar tempGoodBindings = action.goodBindings[goodBindingIndex];\n\t\t//var oldWeight = findWeightFromPreviousBinding(tempGoodBindings, oldGoodBindings);\n\t\tvar oldWeight = tempGoodBindings.weight$$;\n\t\tif (oldWeight === undefined) {\n\t\t\t//This should only happen at the 'top level' I think.\n\t\t\toldWeight = action.weight; // This should be equal to the 'starting volition'\n\t\t}\n\t\tvar scoreFromInfluenceRules = evaluateActionInfluenceRules(action, tempGoodBindings);\n\t\t//console.log(\"Getting here! Here is score from influence rules! \" , scoreFromInfluenceRules);\n\t\t//I'm starting to get a little doubtful that this is going to work. Oh, unless... unless the score LIVEs inside of the good bindings?\n\t\t//Sure, the score can live there, but the 'BEST' score should also live at the level of the influence rule itself... yah?\n\t\t//AND DON'T FORGET! The score is adjusted by what has come before it, too!\n\t\t//var candidateWeight = startingWeight + scoreFromInfluenceRules;\n\t\tvar candidateWeight = oldWeight + scoreFromInfluenceRules;\n\t\tif (candidateWeight > bestWeightFoundSoFar) {\n\t\t\t//We've found a new best candidate!\n\t\t\taction.weight = candidateWeight;\n\t\t\tbestWeightFoundSoFar = candidateWeight;\n\t\t}\n\n\t\taction.goodBindings[goodBindingIndex].weight$$ = candidateWeight;\n\n\t}\n};\n\n/**\n * @method actionIsAppropriate\n * @description actionIsAppropriate checks various qualities that would make an action \"not appropriate\", such as an action being marked as an \"accept\" action when we are looking for a reject action.\n * @param  {[Object]}  action         [The method uses properties of this action, such as isAccept and goodBindings, to confirm if the action is still appropriate.]\n * @param  {Boolean} isAccepted     [A boolean representing the type of action we are looking for -- true for an accept action, false for a reject action.]\n * @param  {[Object]}  uniqueBindings [All of the unique roles that have been defined for the action tree.]\n * @return {[Boolean]}                 [Returns true if the action is still appropriate, false otherwise. Returning false here halts continuation down the action tree, as this being false means all subsequent actions will also be false.]\n */\nvar actionIsAppropriate = function (action, isAccepted, uniqueBindings) {\n\tif (action.isAccept !== undefined) {\n\t\tif (isAccepted !== action.isAccept) {\n\t\t\treturn false; // oops, looking for one truth value but found another!\n\t\t}\n\t}\n\n\t//If actions don't have an isAccept defined, assume that they are an isAccept of true.\n\t//This only works with TERMINAL ACTIONS.\n\t//TODO: Come up with a more robust means of teting for terminal actions than looking at existance of leadsTo and effects\n\tif (action.isAccept === undefined && action.leadsTo === undefined && action.effects !== undefined) {\n\t\tif (isAccepted === false) {\n\t\t\treturn false; // oops, if undefined we assume true, but we are looking for false!\n\t\t}\n\t}\n\n\n\t//If we get to this point, and the action has no \"goodBindings\" associated with it,\n\t//that means that there is no combination of characters that exists that satisfies all \n\t//of the conditions that have been specified by this point in the \"action tree.\" Therefore,\n\t//there is no point in going further.\n\tif (action.goodBindings.length <= 0) {\n\t\treturn false; // if there are no good bindings here, the action is not appropriate?\n\t}\n\treturn true;\n};\n\n\n\n//#CODEREVIEW: Consolodate these three functions. Maybe create a separate 'isTerminal' function that returns a boolean?\n/**\n * @method getActionFromNameGeneric\n * @private\n * @description Given the name of an action, searches through a provided array to find the corresponding action object and returns it.\n * @param  {string} actionName [The name of the action we are hunting for in the provided array.]\n * @return {object}            [An object representing all relevant information pertaining to the requested action. Returns undefined if no such action exists.]\n */\nvar getTerminalActionFromNameGeneric = function (actionName, actionArray) {\n\tfor (var i = 0; i < actionArray.length; i += 1) {\n\t\tif (actionArray[i].name === actionName) {\n\t\t\treturn util.clone(actionArray[i]);\n\t\t}\n\t}\n\treturn undefined;\n};\n\n/**\n * @method getTerminalActionFromName\n * @private\n * @description Given the name of an action, searches through the terminal action array to find the corresponding action object and returns it.\n * @param  {string} actionName [The name of the action we are hunting for in the actions array.]\n * @return {object}            [An object representing all relevant information pertaining to the requested action. Returns undefined if no such action exists.]\n */\nvar getTerminalActionFromName = function (actionName) {\n\tfor (var i = 0; i < terminalActions.length; i += 1) {\n\t\tif (terminalActions[i].name === actionName) {\n\t\t\treturn util.clone(actions[i]);\n\t\t}\n\t}\n\treturn undefined;\n};\n\n/**\n * @method getActionFromName\n * @private\n * @description Given the name of an action, searches through the action array to find the corresponding action object and returns it.\n * @param  {string} actionName [The name of the action we are hunting for in the actions array.]\n * @return {object}            [An object representing all relevant information pertaining to the requested action. Returns undefined if no such action exists.]\n */\nvar getActionFromName = function (actionName) {\n\tfor (var i = 0; i < actions.length; i += 1) {\n\t\tif (actions[i].name === actionName) {\n\t\t\treturn util.clone(actions[i]);\n\t\t}\n\t}\n\treturn undefined;\n};\n\n//#CODEREVIEW: Give this a better name so that we know this is the 'real' bindActionEffects\nvar bindActionEffects2 = function (actionObject, bindingsToUse) {\n\tfor (var i = 0; i < actionObject.effects.length; i += 1) {\n\t\tactionObject.effects[i].first = bindingsToUse[actionObject.effects[i].first];\n\t\tactionObject.effects[i].second = bindingsToUse[actionObject.effects[i].second];\n\t}\n\treturn actionObject;\n};\n\n/**\n * @method getUniqueActionBindings\n * @description Given an action (actionObject) and an object representing all of the unique roles we've encountered thus far (uniqueBindings), go through the roles specified in the action and, if not already present in the uniqueBindings object, add them to it!\n * @param  {[Object]} actionObject   [An action object. This method goes through it's first and second roles of each of it's conditions, and adds any new roles it finds to the unique bindings object]\n * @param  {[Object]} uniqueBindings [An object representing all of the unique roles found by this point in the action chain. If undefined, this method will create a new one.]\n * @return {[Object]}                [An object containing all of the unique roles used by this point in the action chain.]\n */\nvar getUniqueActionBindings = function (actionObject, uniqueBindings) {\n\n\t//Go through all of the conditions and check them for new roles\n\tvar conditions = actionObject.conditions;\n\tfor (var i = 0; i < conditions.length; i += 1) {\n\t\tvar predicate = conditions[i];\t\t\t//store the current condition in a temp\n\n\t\t//if the dictionary does not have an entry for the current predicate's first, initialize it\n\t\tif (uniqueBindings[predicate.first] === undefined) {\n\t\t\tuniqueBindings[predicate.first] = \"\";\t\t//possible optimization to change the initialization to zero\n\t\t}\n\t\t//and the same for the second entry in there is a second character in the predicate\n\t\tif (predicate.second !== undefined) {\n\t\t\tif (uniqueBindings[predicate.second] === undefined) {\n\t\t\t\tuniqueBindings[predicate.second] = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\treturn uniqueBindings;\n};\n\n/**\n * @method getWorkingBindingCombinations\n * @description This method figures out potential combinations of characters that will satisfy all of the conditions\n * that have been specified by this point in the action tree. Actions passed into the function through the 'action' parameter\n * are assumed to have a field called \"goodBindings\" that represent working combinations of characters to roles found through \n * previous calls to this function. These good bindings will be updated in this function as new roles are discovered (e.g a new role \n * that appeared later on down the action tree). Additionally, as new conditions are found, old combinations of bindings that\n * used to work may no longer work; this function will accomadate that as well. This method uses recursion.\n * @param  {[Object]} action               [The action we are finding valid combinations of bindings for. Assumes it has both a conditions array and a goodBindings array.]\n * @param  {[Object]} uniqueBindings       [A list of the roles that need to be filled. Some roles, such as initiator and responder, should be pre-populated with the initiator and responder of the action.]\n * @param  {[Array} availableCastMembers [The cast members to use in filling in roles. As a character can only fulfill one role at a time, characters are 'removed' from the cast once they are assigned a role.]\n * @param  {[Array]} combinationsToUse    [Although the action parameter will have all of the potential combinations, due to the recursive nature of this function, it is important to specify which set of combinations we want to use. In general, when this function is called non-recursively, this parameter should include all of the 'goodBindings' found in the action. When called recursively, you shoudl only pass in a single binding at a time.s]\n * @return {[Array]}                      [An array of all valid character-role combinations for the given action]\n */\nvar getWorkingBindingCombinations = function (action, uniqueBindings, availableCastMembers, combinationsToUse, allCastMembers) {\n\tvar returnArray = [];\n\tvar newCombinationsToUse = [];\n\n\n\t//We want to do the following for each of our existing 'good' Combinations.\n\t//NOTE: This should only be > 1 when called from the outside. When called recursively, combinationsToUse should only consist of a single combination.\t\n\tfor (var workingCombinationIndex = 0; workingCombinationIndex < combinationsToUse.length; workingCombinationIndex += 1) {\n\n\t\t//#CODEREVIEW - get rid of this test.\n\t\tif (action.name === \"BOND\" && workingCombinationIndex === 1) {\n\t\t\t//console.log(\"At our problem child...\");\n\t\t}\n\n\t\tnewCombinationsToUse = []; // kinda weird, but we want to zero it out each time, because we only ever want it to have one entry.\n\t\tnewCombinationsToUse.push(util.clone(combinationsToUse[workingCombinationIndex]));\n\t\tavailableCastMembers = util.clone(allCastMembers);\n\n\t\t//I feel like we need to do something here to re-populate availableCastMembers with \n\t\t//the people previously spliced out from the previous uniqueBindings?\n\n\t\t//We want to start off by filling in the roles stored in 'uniqueBindings' with the roles\n\t\t//that we've found that work from the previous combinations discovered.\n\t\tfor (var role in combinationsToUse[workingCombinationIndex]) {\n\t\t\tvar characterName = combinationsToUse[workingCombinationIndex][role];\n\t\t\tif (characterName !== \"\") {\n\t\t\t\t//a character has been specified to work in this role (could be initiator, responder, or something else)\n\t\t\t\t//remove them from the available cast members, but make sure that they are 'lodged' in the unique bindings.\n\t\t\t\t//We remove them from the available cast members, because it means this character should be unavailable for any other role.\n\t\t\t\tif (availableCastMembers !== undefined) {\n\t\t\t\t\tvar castIndex = availableCastMembers.indexOf(characterName);\n\t\t\t\t\tif (castIndex >= 0) {\n\t\t\t\t\t\tavailableCastMembers.splice(castIndex, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//And just as the initiator and responder roles have already been clearly defined earlier,\n\t\t\t\t//inside of uniqueBidings, let's do the same for this new role...\n\t\t\t\tuniqueBindings[role] = characterName;\n\t\t\t}\n\t\t}\n\n\t\t//Used to help us find out if there are any roles that still need to be specified\n\t\t//Even though we just went through previous combinations to fill in roles, there could\n\t\t//still be some unspecified if this new action has introduced NEW roles.\n\t\tvar isFilled = true;\n\t\tvar emptyKey = \"\";\n\n\t\t//find an unbound key in the uniqueBindings dictionary\n\t\tfor (var key in uniqueBindings) {\n\t\t\tif (uniqueBindings[key] === \"\") {\n\t\t\t\temptyKey = key;\n\t\t\t\tisFilled = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//All of the roles are filled. We can check to see if the conditions of this action\n\t\t//evaluate to true with this particular combination of roles and characters.\n\t\tif (isFilled === true) {\n\n\t\t\t//Replace placeholder variables in conditions with actual character names.\n\t\t\tvar boundConditions = ruleLibrary.doBinding(uniqueBindings, util.clone(action.conditions));\n\n\t\t\t//Find out if the conditions are true with this particular set of characters in these roles.\n\t\t\tvar evaluationResult = ruleLibrary.evaluateConditions(boundConditions);\n\n\t\t\tif (evaluationResult === true) {\n\t\t\t\t//Awesome! It's true! Push it on to our return array for later!\n\t\t\t\treturnArray.push(util.clone(uniqueBindings));\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//console.log(\"FAILURE FAILURE. not even going to bother printing the combination.\");\n\t\t\t}\n\t\t}\n\t\telse { // uniqueBindings is not totally filled in yet.\n\t\t\t//time to recurse.\n\t\t\tfor (var i = 0; i < availableCastMembers.length; i += 1) {\n\t\t\t\tuniqueBindings[emptyKey] = availableCastMembers[i];\t// place an available cast member into the empty slot in the dictionary\n\t\t\t\tvar updatedCastMembers = util.clone(availableCastMembers);\n\t\t\t\tupdatedCastMembers.splice(i, 1);\t// the updated cast has the currently assigned member removed for the recursion\n\t\t\t\tvar potentialCombinations = getWorkingBindingCombinations(action, uniqueBindings, updatedCastMembers, newCombinationsToUse, allCastMembers);\n\n\t\t\t\t//Depending on where we are in the recursion chain, there's a chance that potentialCombinations\n\t\t\t\t//might have a length > 1. At least I think that's the case. If not, better safe than sorry, yeah?\n\t\t\t\tfor (var k = 0; k < potentialCombinations.length; k += 1) {\n\t\t\t\t\treturnArray.push(util.clone(potentialCombinations[k]));\n\t\t\t\t}\n\t\t\t}\n\t\t\t//If we've gotten here, we want to 'clear out' the uniqueBindings slot of the current 'emptyKey'\n\t\t\t//Because we want it to be clear for when we pop back up to the previous level of recursion.\n\t\t\tuniqueBindings[emptyKey] = \"\";\n\t\t}\n\t}\n\treturn returnArray;\n};\n\n/**\n * @method bindActionCondition \n * @description Takes in an array of conditions and a specific binding to use, and replaces all 'generic roles' in the conditions (e.g., \"x\", \"y\", \"cheater\", etc.) with actual character names.\n * @param  {Array} conditions   [An Array of conditions filled with generic roles (such a initiator, x, or cheater)]\n * @param  {[Object]} bindingToUse [A dictionary of sorts mapping which charactes should be used to fill in which roles]\n * @return {[Array]}              [An array of the same conditions passed in, but with their generic roles filled in with character names.]\n */\nvar bindActionCondition = function (conditions, bindingToUse) {\n\tfor (var i = 0; i < conditions.length; i += 1) {\n\t\tif (conditions[i].first !== undefined) {\n\t\t\tconditions[i].first = bindingToUse[conditions[i].first];\n\t\t}\n\t\tif (conditions[i].second !== undefined) {\n\t\t\tconditions[i].second = bindingToUse[conditions[i].second];\n\t\t}\n\t}\n\treturn conditions;\n};\n\n\n//Given a binding, goes througha all of the influence rules of an action\n//and keeps a running sum of their effects. Then returns that sum.\n/**\n * @method evaluateActionInfluenceRules \n * @description Given a binding, goes through all of the influence rules of an action and keeps a rnning sum of their effects, then returns that sum.\n * @param  {[Object]} action       [An action, with specified influence rules]\n * @param  {[Object]} bindingToUse [A specfication of the characters to use to fill in each role in the action's influence rules]\n * @return {[Number]}              [The sum of the influence rules for this action given this binding.]\n */\nvar evaluateActionInfluenceRules = function (action, bindingToUse) {\n\tvar volitionSum = 0;\n\n\tfor (var i = 0; i < action.influenceRules.length; i += 1) {\n\t\tvar rule = action.influenceRules[i];\n\t\tvar boundConditions = bindActionCondition(util.clone(rule.conditions), bindingToUse);\n\t\tvar isRuleTrue = ruleLibrary.evaluateConditions(boundConditions);\n\t\tif (isRuleTrue === true) {\n\t\t\tvolitionSum += rule.weight;\n\t\t}\n\n\t}\n\treturn volitionSum;\n};\n\n//Returns the 'best' terminal based on an actionList (where an actionList is presumambly)\n//a list of potential actions that has been computed given a certain cast. Everything should\n//already be sorted already, so it's just an easy matter of finding the 'first' thing in every\n//action list until we find one with no other actions -- then that means that we're at the \n//best terminal!\n/**\n * @method getBestTerminalFromActionList \n * @description Returns the 'best' terminal from an actionList, where best is defined to be the terminal with the highest weight. This function assumes the actionList has already been sorted.\n * @param  {[Array]} actionList [An array of actions. Each of these actions itself contains another array of actions. All of these arrays within arrays, however, should be sorted already before calling this function.]\n * @return {[Object]}            [The best (highest weighted) terminal action, with it's roles filled in with the best binding of characters]\n */\nvar getBestTerminalFromActionList = function (actionList) {\n\t//console.log(\"inside of getTerminalsFromActionList\");\n\tif (actionList.length <= 0) {\n\t\t//we shouldn't be getting in here with an empty actionList!\n\t\treturn undefined;\n\t}\n\tif (actionList[0].actions !== undefined && actionList[0].actions.length > 0) {\n\t\t//we are not at a terminal! Keep digging deeper!\n\t\t//And because we are only concerned with THE BEST, and the actionList should already be sorted,\n\t\t//it should just be a matter of looking at the first entry; no need to look at the rest of the list.\n\t\treturn getBestTerminalFromActionList(actionList[0].actions);\n\t}\n\telse {\n\t\t//Ok, we're at the best terminal!\n\t\tvar terminal = actionList[0];\n\n\t\t//BUT -- we need to get the 'best binding!'\n\t\t//There might be multiple best bindings!\n\t\tvar potentialBestBindings = [];\n\t\tfor (var i = 0; i < terminal.goodBindings.length; i += 1) {\n\t\t\t//See if this goodBinding is in the running for being a bestBinding!\n\t\t\tif (terminal.goodBindings[i].weight$$ === terminal.weight) {\n\t\t\t\tpotentialBestBindings.push(terminal.goodBindings[i]);\n\t\t\t}\n\t\t}\n\n\t\t//Ok, pick one of the potentialBestBindings at random!\n\t\tvar goodBindingIndex = _.random(0, potentialBestBindings.length - 1);\n\t\tvar bindingsToUse = potentialBestBindings[goodBindingIndex];\n\t\t//and NOW what we want to do is 'fill in' the action with this good binding!\n\t\treturn bindActionEffects2(terminal, bindingsToUse);\n\t}\n};\n\n//Given a volition object, returns the single 'best' action for that volition,\n//using the best binding. if multiple best bindings exist, just picks one at random.\n/**\n * @method getAction \n * @description CiF Interface function. Given a volition object, returns the single 'best' action for that volition using the best binding. If multiple best bindings exist, it will pick one at random.\n * @param  {[String]} initiator          [The name of the character initiating the action]\n * @param  {[String]} responder          [The name of the 'recipient of the action']\n * @param  {[Object]} volition           [A registered volition object]\n * @param  {[Array]} cast               [The cast of characters to be used for consideration of the filling in of roles.]\n * @param  {[Number]} numActionsPerGroup [How many terminals from a single 'actionGroup' should be returned. Defaults to 1 if unspecified.]\n * @return {[Object]}                    [Returns the best, bound action for this particular initiator, responder, and cast.]\n */\nvar getAction = function (initiator, responder, volition, cast, numActionsPerGroup) {\n\tconsole.log(\"inside getAction\");\n\t//console.log(\"This is the contents of the actionLibrary: \" , actionLibrary);\n\tif (numActionsPerGroup === undefined) {\n\t\tnumActionsPerGroup = 1;\n\t}\n\n\tvar actionList;\n\tvar volitionInstance = volition.getFirst(initiator, responder);\n\twhile (actionList === undefined || actionList.length === 0) {\n\t\tvar acceptedObject = volition.isAccepted(initiator, responder, volitionInstance);\n\t\tvar isAccepted = acceptedObject.accepted;\n\t\tvar weight = volitionInstance.weight;\n\t\tactionList = getSortedActionsFromVolition(initiator, responder, volitionInstance, isAccepted, weight, numActionsPerGroup, cast);\n\t\tvolitionInstance = volition.getNext(initiator, responder);\n\t\t//#CODEREVIEW -- move this if check into the while condition.\n\t\tif (volitionInstance === undefined) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tvar boundAction = getBestTerminalFromActionList(actionList);\n\treturn boundAction;\n};\n\n/**\n * @method getActions \n * @memberOf CiF\n * @public\n * @description Similar to getAction, but allows the user to specify the number of intents to draw from, and the number of actions that shold come from each intent.\n * @param  {String} initiator - The name of the character initiating the action\n * @param  {String} responder - The name of the recipient of the action\n * @param  {Object} volition - The registered volition object.\n * @param  {Array} cast - The pool of characters to be used for consideration for the filling in of roles.\n * @param  {Number} numIntents - The total number of different intents to pull actions from.\n * @param  {Number} numActionsPerIntent - How many actions should come from each intent.\n * @param  {Number} numActionsPerGroup - How many terminals should come from any given 'action group'\n * @return {Array} A list of terminals, with roles bound with characters, that represent what the initiator most wants to do with the responder.\n */\nvar getActions = function (initiator, responder, volition, cast, numIntents, numActionsPerIntent, numActionsPerGroup) {\n\t//console.log(\"inside of getActions!\");\n\tif (numActionsPerGroup === undefined) numActionsPerGroup = 1;\n\n\tvar returnList = [];\n\tvar actionList;\n\tvar volitionInstance = volition.getFirst(initiator, responder);\n\tif (volitionInstance === undefined) {\n\t\t//This means that this initiator has NO volitions towards this responder. Abort!\n\t\tvar emptyList = [];\n\t\treturn emptyList;\n\t}\n\tvar intentsRepresented = 0;\n\tvar numActionsFromThisIntent = 0;\n\tvar thisIntentCountedYet = false;\n\twhile (intentsRepresented < numIntents) {\n\t\tthisIntentCountedYet = false;\n\t\tnumActionsFromThisIntent = 0;\n\t\tvar acceptedObject = volition.isAccepted(initiator, responder, volitionInstance);\n\t\tvar isAccepted = acceptedObject.accepted;\n\t\tvar weight = volitionInstance.weight;\n\t\tactionList = getSortedActionsFromVolition(initiator, responder, volitionInstance, isAccepted, weight, numActionsPerGroup, cast);\n\n\t\tfor (var i = 0; i < actionList.length; i += 1) {\n\t\t\treturnList.push(util.clone(actionList[i]));\n\t\t\t//console.log(\"What does returnList look like at this point...? \", returnList);\n\t\t\tif (thisIntentCountedYet === false) {\n\t\t\t\tintentsRepresented += 1;\n\t\t\t\tthisIntentCountedYet = true;\n\t\t\t}\n\n\t\t\t//We've found an action from this intent, and have already added it to the return list.\n\t\t\tnumActionsFromThisIntent += 1;\n\t\t\tif (numActionsFromThisIntent === numActionsPerIntent) {\n\t\t\t\t//We've reached our quota for this intent--let's move on to the next intent, even if there are more actions left that could be added.\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvolitionInstance = volition.getNext(initiator, responder);\n\t\tif (volitionInstance === undefined) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\n\tvar allTerminals = grabAllTerminals(returnList);\n\tvar boundActions = sortAndBindTerminals(allTerminals);\n\t//var boundActions = extractAndSortTerminalsFromActionList(returnList);\n\treturn boundActions;\n};\n\n//TODO: Does this work if you ahve more than two layers worth of actions?\n//TODO: Or for ANY non-standard structure for that matter?\n/**\n * @method extractAndSortTerminalsFromActionList \n * @description Given an actionList, gets the terminals out of them, finds the best binding for each one, sorts them, and returns them in sorted order. \n * @param  {[Array]} actionList [An array of actions -- many of these will likely have their own arrays of actions to lead to]\n * @return {[Array]}            [A sorted list of all terminals.]\n */\nvar extractAndSortTerminalsFromActionList = function (actionList) {\n\t//console.log(\"inside of extractAndSortTerminalsFromActionList!\");\n\tvar allTerminals = [];\n\tfor (var i = 0; i < actionList.length; i += 1) {\n\t\t//Any given 'entry' in this list might have multiple actions, if 'numActionsPerGroup was > 1' in previous calls.\n\t\tvar currentAction = actionList[i];\n\t\tif (actionList[i].actions !== undefined) {\n\t\t\tfor (var j = 0; j < actionList[i].actions.length; j += 1) {\n\t\t\t\t//Umm... are the actions bound at this point? I'm not sure if they are. We might have to \n\t\t\t\t//do something special here.\n\t\t\t\t//These are now bound at this point yet -- we will have to do that eventually!\n\t\t\t\tallTerminals.push(actionList[i].actions[j]);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t//if actionList[i].actions is undefined, that must mean that we are DEALING with a terminal already!\n\t\t\tallTerminals.push(actionList[i]);\n\t\t}\n\t}\n\n\t//Sort them based on their score.\n\tvar sortedTerminals = sortActionsByVolitionScore(allTerminals);\n\tfor (var k = 0; k < sortedTerminals.length; k += 1) {\n\t\tvar bestBindings = getBestBindingFromTerminal(sortedTerminals[k]);\n\t\tsortedTerminals[k] = bindActionEffects2(sortedTerminals[k], bestBindings);\n\t}\n\n\treturn sortedTerminals;\n};\n\nvar grabAllTerminals = function (actionList) {\n\tvar terminalsFoundHere = [];\n\tvar terminalsFoundDeeper;\n\tvar deeperTerminalRecord;\n\tfor (var i = 0; i < actionList.length; i += 1) {\n\t\tif (actionList[i].actions !== undefined) {\n\t\t\t//Drill down further.\n\t\t\tterminalsFoundDeeper = grabAllTerminals(actionList[i].actions);\n\t\t\tif (terminalsFoundDeeper !== undefined) {\n\t\t\t\tif (deeperTerminalRecord === undefined) {\n\t\t\t\t\tdeeperTerminalRecord = terminalsFoundDeeper;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdeeperTerminalRecord = deeperTerminalRecord.concat(terminalsFoundDeeper);\n\t\t\t\t}\n\t\t\t\t//clear out our 'terminals found deeper' array\n\t\t\t\tterminalsFoundDeeper = [];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t//end of the road, actionList[i] is a terminal.\n\t\t\tterminalsFoundHere.push(actionList[i]);\n\t\t}\n\t}\n\tvar allTerminals;\n\tif (deeperTerminalRecord !== undefined) {\n\t\tallTerminals = terminalsFoundHere.concat(deeperTerminalRecord);\n\t}\n\telse {\n\t\tallTerminals = terminalsFoundHere;\n\t}\n\treturn allTerminals;\n};\n\nvar sortAndBindTerminals = function (terminalArray) {\n\tvar sortedTerminals = sortActionsByVolitionScore(terminalArray);\n\tfor (var k = 0; k < sortedTerminals.length; k += 1) {\n\t\tvar bestBindings = getBestBindingFromTerminal(sortedTerminals[k]);\n\t\tsortedTerminals[k] = bindActionEffects2(sortedTerminals[k], bestBindings);\n\t}\n\treturn sortedTerminals;\n};\n\n/**\n * @method getBestBindingFromTerminal \n * @description Given a terminal action, looks at it's list of good bindings and finds the one that matches the score of the action itself. If multiple ones do, picks one at random.\n * @param  {[Object]} terminal [An Action]\n * @return {[Object]}          [An object representing which bindings are the best ones to use for this action]\n */\nvar getBestBindingFromTerminal = function (terminal) {\n\t//There might be multiple best bindings!\n\tvar potentialBestBindings = [];\n\tfor (var i = 0; i < terminal.goodBindings.length; i += 1) {\n\t\t//See if this goodBinding is in the running for being a bestBinding!\n\t\tif (terminal.goodBindings[i].weight$$ === terminal.weight) {\n\t\t\tpotentialBestBindings.push(terminal.goodBindings[i]);\n\t\t}\n\t}\n\n\t//Ok, pick one of the potentialBestBindings at random!\n\tvar goodBindingIndex = _.random(0, potentialBestBindings.length - 1);\n\tvar bindingsToUse = potentialBestBindings[goodBindingIndex];\n\treturn bindingsToUse;\n};\n\n\nvar actionLibraryInterface = {\n\tparseActions: parseActions,\n\tgetAllActions: getAllActions,\n\tgetActionFromName: getActionFromName,\n\t//bindActionEffects : bindActionEffects,\n\tbindActionEffects2: bindActionEffects2,\n\tcategorizeActionGrammar: categorizeActionGrammar,\n\tgetStartSymbols: getStartSymbols,\n\tgetNonTerminals: getNonTerminals,\n\tgetTerminalActions: getTerminalActions,\n\tgetTerminalActionsFromNonTerminal: getTerminalActionsFromNonTerminal,\n\tclearActionLibrary: clearActionLibrary,\n\tgetTerminalActionsFromVolition: getTerminalActionsFromVolition,\n\tgetSortedActionsFromVolition: getSortedActionsFromVolition,\n\tgetBestTerminalFromActionList: getBestTerminalFromActionList,\n\n\tgetAction: getAction,\n\tgetActions: getActions\n};\n\n\n\n/* test-code */\n//actionLibraryInterface.bindActionEffects = bindActionEffects;\nactionLibraryInterface.getWorkingBindingCombinations = getWorkingBindingCombinations;\n/* end-test-code */\n\nexport default actionLibraryInterface;\n","import React from 'react';\n\nfunction ActionInfoOverlay({ actionInfo, volitionInfoAsStrings, onClose }) {\n  if (!actionInfo) return null;\n\n  return (\n    <div className=\"action-info-overlay\" onClick={onClose}>\n      <div className=\"action-info\" onClick={e => e.stopPropagation()}>\n        <button \n          className=\"close-button\"\n          onClick={onClose}\n        >\n          \n        </button>\n        <h3>Action Details</h3>\n        <p><strong>Intent:</strong> {actionInfo.intent}</p>\n        <p><strong>Score:</strong> {actionInfo.score}</p>\n        \n        <h4>Social Considerations</h4>\n        {volitionInfoAsStrings && volitionInfoAsStrings[actionInfo.intent]?.map((consideration, index) => (\n          <div key={index} className=\"consideration-item\">\n            <p><strong>Description:</strong> {consideration.description}</p>\n            <p><strong>Weight:</strong> {consideration.weight}</p>\n            {consideration.predicates.length > 0 && (\n              <>\n                <p><strong>Predicates:</strong></p>\n                <ul>\n                  {consideration.predicates.map((predicate, pIndex) => (\n                    <li key={pIndex}>{predicate}</li>\n                  ))}\n                </ul>\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default ActionInfoOverlay; ","import React, { useState } from 'react';\nimport ActionInfoOverlay from './ActionInfoOverlay';\n\nfunction PracticeView({ \n  initiator, \n  responder, \n  selectedPractice, \n  onActionSelected, \n  actions, \n  isLoading,\n  cifInterface,\n  performanceInfo,\n  action,\n  volitionInfoAsStrings,\n  isTerminal,\n  onChooseNextInteraction\n}) {\n  const [selectedActionInfo, setSelectedActionInfo] = useState(null);\n\n  // Determine who should act next (opposite of last speaker)\n  const getNextActor = () => {\n    if (!cifInterface?.practiceDialogueHistory?.length) {\n      return initiator.name; // First action\n    }\n    const lastSpeaker = cifInterface.practiceDialogueHistory[cifInterface.practiceDialogueHistory.length - 1].speaker;\n    return lastSpeaker === initiator.name ? responder.name : initiator.name;\n  };\n\n  const handleInfoClick = (action) => {\n    setSelectedActionInfo(action);\n  };\n\n  return (\n    <div className=\"combined-view\">\n      {/* Title displaying the practice name, initiator, and responder */}\n      <h1>{selectedPractice}: {initiator?.name} and {responder?.name}</h1>\n\n      {/* Show dialogue history if it exists */}\n      {cifInterface?.practiceDialogueHistory?.length > 0 && (\n        <div className=\"performance-text\">\n          <div className=\"dialogue-panel\">\n            {cifInterface.practiceDialogueHistory.map((lineInfo, index, array) => (\n              <p \n                key={index} \n                className={index === array.length - 1 ? 'latest-dialogue' : ''}\n              >\n                <strong>{lineInfo.speaker} {lineInfo.intent ? `(${lineInfo.intent})` : ''}:</strong> {lineInfo.line}\n              </p>\n            ))}\n          </div>\n          \n          {performanceInfo?.effectPredicateTexts && performanceInfo.effectPredicateTexts.length > 0 && (\n            <div className=\"state-changes\">\n              <h4>Social State Changes:</h4>\n              <ul >\n                {performanceInfo.effectPredicateTexts.map((effect, index) => (\n                  <li key={index}>{effect}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Show action selection if actions are available and not terminal */}\n      {!isTerminal && actions.length > 0 && (\n        <div className=\"action-selection\">\n          <div className=\"interaction-summary\">\n            <p><strong>Choose what {getNextActor()} should do?</strong></p>\n          </div>\n          <div className=\"interaction-buttons\">\n            {actions.map((action, index) => (\n              <div key={index} className=\"action-button-group\">\n                <button \n                  className=\"action-button\"\n                  onClick={() => onActionSelected(action.label)}\n                  disabled={isLoading}\n                >\n                  <div className=\"action-label\">{action.label}</div>\n                  <div className=\"action-details\">\n                    <span className=\"action-intent\">{action.intent}</span>\n                    <span className=\"action-score\">Score: {action.score}</span>\n                  </div>\n                </button>\n                <button\n                  className=\"info-button\"\n                  onClick={() => handleInfoClick(action)}\n                  disabled={isLoading}\n                >\n                  i\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Show the button to choose the next interaction if terminal is true */}\n      {isTerminal && (\n        <button \n          className=\"start-button\"\n          onClick={onChooseNextInteraction}\n        >\n          Choose next interaction\n        </button>\n      )}\n\n      <ActionInfoOverlay \n        actionInfo={selectedActionInfo}\n        volitionInfoAsStrings={volitionInfoAsStrings}\n        onClose={() => setSelectedActionInfo(null)}\n      />\n    </div>\n  );\n}\n\nexport default PracticeView; ","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 569;\nmodule.exports = webpackEmptyAsyncContext;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/*global console, define */\r\n/*jshint sub:true*/\r\n/*\r\n * This is the class Volition, for caching and accessing calculated volitions for characters in CiF, using an Iterator pattern.\r\n *\r\n * Basic usage of this module: store a calculated volition using the saveVolitions function\r\n *\r\n * The internal format for a volitions objects should be structured like this:\r\n * \t\t{\r\n\t\t\t\"Simon\": {\r\n\t\t\t\t\"Monica\": [\r\n\t\t\t\t\t{ \"class\": \"network\", \"type\": \"buddy\", \"intentDirection\": true, \"weight\": 20 },\r\n\t\t\t\t\t{ \"class\": \"relationship\", \"type\": \"involved with\", \"intentDirection\": true, \"weight\": 19 }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t\"Monica\": {\r\n\t\t\t\t\"Simon\": [\r\n\t\t\t\t\t{ \"class\": \"network\", \"type\": \"romance\", \"intentDirection\": false, \"weight\": 12 }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n *\r\n * Public methods are:\r\n *\r\n * calculateVolition\r\n * runTriggerRules\r\n *\r\n * @class volition\r\n * @private\r\n */\r\n\r\n// import _ from \"./underscore-min.js\";\r\n\r\nvar volitionCache = {};\r\nvar cachePositions = {};\r\n\r\n/**\r\n * Get the highest-weighted volition in a given set, for a particular pair of characters, or return undefined if no such volition can be found.\r\n *\r\n * @param  {String} key    The identifier for a volition set.\r\n * @param  {String} from   Identifier for the \"from\" character.\r\n * @param  {String} to     Identifier for the \"to\" character.\r\n *\r\n * @return {Object}        A volition predicate, with keys \"class\", \"network\", \"type\", \"intentDirection\", and \"weight\". (Or undefined if there are no volotions for this pair of characters.)\r\n */\r\nvar getFirstVolition = function (key, from, to) {\r\n\r\n\t// Check that we have volitions to return.\r\n\tvar vSet = volitionCache[key];\r\n\tif (vSet === undefined) {\r\n\t\tconsole.log(\"No matching volition set found with key '\" + key + \"'.\");\r\n\t\treturn undefined;\r\n\t}\r\n\tif (vSet[from] === undefined || vSet[from][to] === undefined) {\r\n\t\tconsole.log(\"No matching volitions found in set '\" + key + \"' from '\" + from + \"' to '\" + to + \"'.\");\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t// Set the cache position for this pair of characters to 0.\r\n\tvar cachePositionsKey = key + from + to;\r\n\tcachePositions[cachePositionsKey] = 0;\r\n\r\n\t// Return the volition at the first position (highest weighted).\r\n\treturn vSet[from][to][0];\r\n\r\n};\r\n\r\n/**\r\n * Get the next-highest-weighted volition in a given set, for a particular pair of characters, or return undefined if no such volition can be found. If this function on a set for the first time, it acts the same as getFirstVolition. Note that iteration is by a particular pair of characters; calling the function for a different pair of characters will start at getFirst for that pair.\r\n *\r\n * @param  {String} key    The identifier for a volition set.\r\n * @param  {String} from   Identifier for the \"from\" character.\r\n * @param  {String} to     Identifier for the \"to\" character.\r\n *\r\n * TODO: It would be nice to have functionality to get a specified intent (e.g. 'what is the volition for Simon to startDating Monica?')\r\n *\r\n * @return {Object}        A volition predicate, with keys \"class\", \"network\", \"type\", \"intentDirection\", and \"weight\". (Or undefined if there are no more volitions for this pair of characters.)\r\n */\r\nvar getNextVolition = function (key, from, to) {\r\n\r\n\tvar cachePositionsKey = key + from + to;\r\n\tvar vSet = volitionCache[key];\r\n\tvar pos = cachePositions[cachePositionsKey];\r\n\r\n\t// If we have no cached position, act like getFirstVolition.\r\n\tif (pos === undefined) {\r\n\t\treturn getFirstVolition(key, from, to);\r\n\t}\r\n\r\n\t// If we are out of volitions, return undefined\r\n\tif (vSet[from][to][pos + 1] === undefined) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t// Advance the cache position and return the next volition.\r\n\tcachePositions[cachePositionsKey] += 1;\r\n\tpos = cachePositions[cachePositionsKey];\r\n\treturn vSet[from][to][pos];\r\n\r\n};\r\n\r\n/** Given a set of pre-computed volitions, returns an object with a boolean and an array of reasons why (i.e. b/c their weight is >= 0).\r\n *\r\n * @method isAccepted\r\n * @memberof Volition\r\n * @param {String}\tkey \tThe string that serves as an index to look up volitions in the volitionCache\r\n * @param {String}\tinitiator\tThe first person in the predicate attempted the intent predicate\r\n * @param {String}\tresponder\tThe second person in the predicate\r\n * @param {Object}\tpredicate\tPredicate intent object to try to match from the predicate intents in the volitionCache\r\n * @return {Object}\treturnObject\tan object with the keys:\r\n * \t\t\t\t\t\t\t\t\t{Boolean} accepted - whether the intent is accepted\r\n * \t\t\t\t\t\t\t\t\t{Array} reasonsWhy - the array of volition predicates that are the reason(s) something was accepted\r\n */\r\nvar isAccepted = function (key, initiator, responder, predicate) {\r\n\tvar acceptIfNoMatch = true; // If no matching rules affect the decision, should the character accept or reject the game?\r\n\tvar minimumWeightForAccept = 0;\r\n\r\n\tvar returnObject = {};\r\n\treturnObject.accepted = acceptIfNoMatch;\r\n\treturnObject.reasonsWhy = [];\r\n\r\n\tvar thisV = getFirstVolition(key, responder, initiator);\r\n\twhile (thisV !== undefined) {\r\n\t\tif (thisV[\"class\"] === predicate[\"class\"] &&\r\n\t\t\tthisV[\"type\"] === predicate[\"type\"] &&\r\n\t\t\tthisV[\"intentDirection\"] === predicate[\"intentDirection\"]) {\r\n\t\t\treturnObject.weight = thisV.weight;\r\n\t\t\tif (thisV.weight < minimumWeightForAccept) {\r\n\t\t\t\treturnObject.reasonsWhy.push(thisV);\r\n\t\t\t\treturnObject.accepted = false;\r\n\t\t\t\treturn returnObject;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturnObject.reasonsWhy.push(thisV);\r\n\t\t\t\treturnObject.accepted = true;\r\n\t\t\t\treturn returnObject;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthisV = getNextVolition(key, responder, initiator);\r\n\t}\r\n\r\n\treturn returnObject;\r\n};\r\n\r\n/**\r\n * Take a set of calculated volitions, sort it, and store it in the internal cache. Return an interface that allows for iterating through its results.\r\n *\r\n * @param  {String} key       An identifier for this volition set.\r\n * @param  {Object} volitions [description]\r\n *\r\n * @return {Object}           An interface with functions \"getFirst\" and \"getNext\" to iterate through the volitions for particular pair of characters.\r\n */\r\nvar register = function (key, volitions) {\r\n\r\n\t// Sort the passed-in volitions.\r\n\t//\r\n\t// Very simple function used by _.sortBy below to know how to order\r\n\t// the volition objects for a character set.\r\n\tvar vSort = function (obj) {\r\n\t\treturn -1 * obj.weight; // -1* since sort works in asending\r\n\t};\r\n\r\n\t// Each character pair in calculatedVolitions now needs to be sorted\r\n\t// in weight order. Use underscore sortBy on the weight key.\r\n\tvar cast = _.keys(volitions);\r\n\tvar castLength = cast.length;\r\n\tfor (var first = 0; first < castLength; first++) {\r\n\t\tfor (var second = 0; second < castLength; second++) {\r\n\t\t\tif (second === first) {\r\n\t\t\t\t//For 'undirected' volitions, we want people to be able to direct volitions towards themselves.\r\n\t\t\t\t//continue;\r\n\t\t\t}\r\n\r\n\t\t\tvolitions[cast[first]][cast[second]] = _.sortBy(volitions[cast[first]][cast[second]], vSort);\r\n\t\t}\r\n\t}\r\n\r\n\t// Store the sorted volition object in our internal cache.\r\n\tvolitionCache[key] = volitions;\r\n\r\n\t// Return an interface using currying to pre-fill the value\r\n\t// of key to the volition set in question.\r\n\treturn {\r\n\t\tgetFirst: function (first, second) {\r\n\t\t\treturn getFirstVolition(key, first, second);\r\n\t\t},\r\n\t\tgetNext: function (first, second) {\r\n\t\t\treturn getNextVolition(key, first, second);\r\n\t\t},\r\n\t\tgetWeight: function (first, second, predicate) {\r\n\t\t\tvar tempPredicates = volitionCache[key][first][second];\r\n\t\t\tvar checkNextPredicate = false;\r\n\t\t\tfor (var i = 0; i < tempPredicates.length; i += 1) {\r\n\t\t\t\tfor (var key in predicate) {\r\n\t\t\t\t\tif (predicate[key] !== tempPredicates[key]) {\r\n\t\t\t\t\t\tcheckNextPredicate = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (checkNextPredicate !== true) {\r\n\t\t\t\t\treturn tempPredicates[i].weight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\t// our default value\r\n\t\t},\r\n\t\tdump: function () {\t// for testing\r\n\t\t\treturn volitionCache[key];\r\n\t\t},\r\n\t\tisAccepted: function (initiator, responder, predicate) {\r\n\t\t\treturn isAccepted(key, initiator, responder, predicate);\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/**\r\n * Return a volitions object prepared to have a blank array for every  obj[first][second] pair of cast members.\r\n *\r\n * @param  {Array of Strings} cast Cast members to prepare the object with.\r\n *\r\n * @return {Object}      Prepared volitions object.\r\n */\r\nvar newSet = function (cast) {\r\n\tvar volitionShell = {};\r\n\tfor (var i = 0; i < cast.length; i++) {\r\n\t\tvolitionShell[cast[i]] = {};\r\n\t\tfor (var j = 0; j < cast.length; j++) {\r\n\t\t\tif (i === j) {\r\n\t\t\t\t//We want the i === j case to be represented, as a means of characters having undirected volitions (e.g., a character wants to boost their own intelligence).\r\n\t\t\t\t//continue;\r\n\t\t\t}\r\n\t\t\tvolitionShell[cast[i]][cast[j]] = [];\r\n\t\t}\r\n\t}\r\n\treturn volitionShell;\r\n};\r\n\r\n/**\r\n * @function getVolitionCacheByKey\r\n * @memberof Volition\r\n * @description Given a key, return the contents of the voitionCache at that point\r\n * @private\r\n * @param  {[string]} key [The identifier of a volition set.]\r\n * @return {[type]}     [The volitions of the specified key.]\r\n */\r\nvar getVolitionCacheByKey = function (key) {\r\n\treturn volitionCache[key];\r\n};\r\n\r\n/**\r\n * @functiongetAllVolitionsByKeyFromTo\r\n * @private\r\n * @memberof Volition\r\n * @param  {[string]} key  [The idenfifier of a volition set]\r\n * @param  {[string]} from [The 'initiator' that these volitions pertain to]\r\n * @param  {[string]} to   [The 'responder' that these volitions pertain to]\r\n * @return {[type]}      [The volitions from the volition set specified by key that describe what the 'from' character wants to do with the 'to' character]\r\n */\r\nvar getAllVolitionsByKeyFromTo = function (key, from, to) {\r\n\treturn volitionCache[key][from][to];\r\n};\r\n\r\nvar volitionInterface = {\r\n\tnewSet: newSet,\r\n\tregister: register,\r\n};\r\n\r\n/* test-code */\r\nvolitionInterface.getVolitionCacheByKey = getVolitionCacheByKey;\r\nvolitionInterface.getAllVolitionsByKeyFromTo = getAllVolitionsByKeyFromTo;\r\nvolitionInterface.isAccepted = isAccepted;\r\n/* end-test-code */\r\n\r\nexport default volitionInterface;\r\n","import cif from './CiF.js';\n\nimport * as nlg from '../../cif-spe-bridge/llm-nlg.js';\n// import * as experiments from '../../cif-spe-bridge/experiments.js';\n\n\nconst useGeneratedDialgoue = true;\nconst useGeneratedPracticeSummaries = true;\nlet practiceDialogueHistory = [];\nlet mostRecentVolitionInfo = {};\n\nlet simulationName = \"Ensemble with Social Practices\";\n\nlet initiatorName = \"\";\nlet responderName = \"\";\n\nlet launchPractice = function(practiceName, initiator, responder) {\n    // Set these are GLOBAL and NECESSARY\n    initiatorName = initiator;\n    responderName = responder;\n\n    // reset the dialogue history that we use for prompt generation\n    practiceDialogueHistory = [];\n\n    cif.practiceManager.setCurrentPractice(practiceName);\n\n    console.log(\"Launching practice '\" + practiceName + \"' between \" + initiatorName + \" and \" + responderName);\n\n    let currentPractice = cif.practiceManager.getCurrentPractice();\n    cif.practiceManager.launchStage(currentPractice.entryStage, initiatorName, responderName);\n    cif.practiceManager.generateActions(false);\n}\n\n\n// After this function is called, 'mostRecentVolitionInfo' contains\n// all of the information about the the volitions and who is talking, etc.\nlet getActions = function() {\n    cif.practiceManager.generateActions(false);\n\n    let selectedAction = cif.practiceManager.selectAction(cif.getCharacters(), cif.practiceManager.getPossibleActions());\n\n    let scoredMTInfos = cif.practiceManager.getScoredMTInfo();\n    let actionInfos = cif.practiceManager.getScoredActionsInfo();\n\n    let volitionInfoAsStrings = cif.practiceManager.getVolitionInfoAsStrings();\n    \n    mostRecentVolitionInfo = {\n        initiatorName: initiatorName,\n        responderName: responderName,\n        mts: scoredMTInfos,\n        actions: actionInfos,\n        selectedAction: selectedAction,\n        volitionInfoAsStrings: volitionInfoAsStrings\n    }\n}\n\n// This will make an action happen, apply its effects, and send the dialogue.\n// This assumes that we are having initiatorName perform the action to responderName\nlet performAction = async function(action) {\n\n    console.log(\"Launching action '\" + action + \"' from \" + initiatorName + \" to \" + responderName);\n\n    // Get the scored action from the mostRecentVolitionInfo and update\n    let chosenAction = cif.practiceManager.getActionByName(action);\n\n    // NOTE: Action info's aren't actions... so go get the info from the mostRecentVolitionInfo\n    let actionInfo = mostRecentVolitionInfo.actions.find(a => a.label === action);\n    chosenAction.score = actionInfo.score;\n\n    // ?????? ******** -----------\n    // Sometimes we choose an action that isn't what the system chose, so...\n    // overwrite mostRecentVolitionInfo's value that was set in get-actions.\n    // I guess? Definitely keep an eye on this.\n    mostRecentVolitionInfo.selectedAction = chosenAction;\n    // ?????? ******** -----------\n\n    cif.practiceManager.launchStage(cif.practiceManager.getCurrentStage(), initiatorName, responderName);\n\n    cif.practiceManager.setBestRoleBindingForAction(chosenAction, cif.getCharacters());\n\n    cif.practiceManager.applyEffects();\n    \n    let effectsStateEffectText = [];\n    for (let effect of chosenAction.effects) {\n        let str = effect.type;\n        if (effect.value !== undefined) {\n            str += \" \";\n            if (effect.value < 0 || (effect.operator !== undefined && effect.operator === \"-\")) {\n                str += \"-\";\n            } else {\n                str += \"+\";\n            }\n            str += effect.value;\n        }\n        \n        effectsStateEffectText.push(str);\n    }\n    let effectPredicateTexts = [];\n    let bindings = mostRecentVolitionInfo.selectedAction.chosenRoleBindings;\n    if (mostRecentVolitionInfo.selectedAction.effects.length > 0) {\n        let boundPreds = cif.practiceManager.getCloneOfBoundPredicates(mostRecentVolitionInfo.selectedAction.effects, bindings);\n        for (let effectPred of boundPreds) {\n            effectPredicateTexts.push(cif.predicateNLG(effectPred));\n            // effectPredicateTexts.push(cif.predicateToEnglish(effectPred).text);\n        }\n    }\n\n    let dialogue = \"Hello there.\"; // Default dialogue.\n    let prompt = \"default\";\n    if (useGeneratedDialgoue) {\n        prompt = nlg.generatePrompt(nlg.promptConfig);\n        // console.log(\"*** PROMPT ***\\n\" + prompt + \"\\n-------------\\n\");\n        dialogue = await nlg.getGeneratedText(prompt);\n        dialogue = dialogue.replace(/\"/g, \"\");\n    } else {\n        dialogue = cif.practiceManager.instantiatePerformance();\n    }\n\n    // Send back info about what just happened\n    let actionPerformedInfo = {\n        initiator: initiatorName,\n        responder: responderName,\n        performance: dialogue,\n        chosenAction: chosenAction,\n        prompt: prompt,\n        effectsStateEffectText: effectsStateEffectText,\n        effectPredicateTexts: effectPredicateTexts\n    }\n\n\n    practiceDialogueHistory.push({\n        speaker: initiatorName,\n        line: dialogue,\n        intent: chosenAction.intent,\n        actionName: chosenAction.label,\n        prompt: prompt,\n        mts: mostRecentVolitionInfo.mts[chosenAction.intent].trueRules\n    });\n\n\n    // Move into next stage\n    cif.practiceManager.transitionStageToTakenActionsStage();\n\n    // Change roles to get ready for the next get-actions\n    let tmp = initiatorName;\n    initiatorName = responderName;\n    responderName = tmp;\n    cif.practiceManager.launchStage(cif.practiceManager.getCurrentStage(), initiatorName, responderName);\n    \n    return actionPerformedInfo;\n}\n\n// This will return an object with \"isTerminal\" which will tell us whether or not we should keep going\n// Kind of weird place to do this, but if we are terminal we generate a summary\nlet isTerminal = async function() {\n    let terminal = cif.practiceManager.inTerminalStage();\n\n    if (terminal) {\n        if (useGeneratedPracticeSummaries) {\n            cif.practiceManager.addPracticeSummary(await nlg.generatePracticeSummary());\n        } else {\n            let prsObj = {\n                initiator: initiatorName,\n                responder: responderName,\n                summary: `${initiatorName} and ${responderName} just engaged in a conversation generally referred to as: ${cif.practiceManager.getCurrentPractice().label}.`,\n                dialogue: structuredClone(practiceDialogueHistory),\n                practice: cif.practiceManager.getCurrentPractice().label,\n                time: cif.sfdb.getCurrentTimeStep() - cifInterface.practiceDialogueHistory.length\n            }            \n            cif.practiceManager.addPracticeSummary(prsObj);\n        }\n    }\n\n    return terminal;\n}\n\n\nlet initializeCiF = () => {    \n    cif.init();\n\n    cif.loadSocialStructure(cif.rawSchema);\n    let cast = cif.addCharacters(cif.rawCast);\n    cif.practiceManager.setCast(cast);\n    cif.practiceManager.resetPracticeSummaries();\n    for (let practice of cif.rawPractices.socialPractices) {\n        cif.practiceManager.addPractice(practice);\n    }\n    for (let rawRuleSet of cif.rawMTSet.microtheories) {\n        cif.addRules(rawRuleSet);\n    }\n    cif.addHistory(structuredClone(cif.rawHistory));\n\n    console.log(simulationName + \" has been initialized\");\n\n    // This should be moved into experiments I think... But would experiments need an initialize?\n    for (let subPromptType in nlg.promptConfig) {\n        nlg.promptConfig[subPromptType].include = nlg.config_modes[nlg.promptStyle][subPromptType];\n        nlg.promptConfig[subPromptType].useTag = nlg.promptConfig[subPromptType].useTag && (nlg.config_modes[nlg.promptStyle][\"emphasisPriority\"] || nlg.config_modes[nlg.promptStyle][\"shots\"]);\n    }\n}\n\n\n// Export everything at the end of the file\nexport {\n    mostRecentVolitionInfo,\n    practiceDialogueHistory,\n    initiatorName,\n    responderName,    \n    launchPractice,\n    getActions,\n    performAction,\n    isTerminal,\n    initializeCiF,\n    cif\n};","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 656;\nmodule.exports = webpackEmptyAsyncContext;","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 719;\nmodule.exports = webpackEmptyAsyncContext;","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 841.9 595.3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#61DAFB\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 420.9,\n    cy: 296.5,\n    r: 45.7\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M520.5 78.1z\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg\";\nexport { ForwardRef as ReactComponent };","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 735;\nmodule.exports = webpackEmptyAsyncContext;","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './output.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","import util from \"./util.js\";\r\n// import _ from \"./underscore-min.js\";\r\n\r\n\r\nvar sfdb = [];\r\nvar currentTimeStep = -1; //initialize to -1 (assumes we start at time 0 when playings)\r\nvar defaultValues = {};\r\nvar maxValues = {};\r\nvar minValues = {};\r\nvar directions = {};\r\nvar isBooleans = {};\r\nvar clonePolicies = {};\r\nvar durations = {};\r\nvar offstageCharacters = []; // Characters that aren't in the current level (think Prom Week)\r\nvar eliminatedCharacters = []; // Characters that are never coming back and have had references to/from removed (think Dayton)\r\n\r\n/**\r\n * @method getLength\r\n * @memberof SFDB\r\n * @description gets the length of the sfdb object.\r\n * @private\r\n * @return {[int]} [length of the sfdb object]\r\n */\r\nvar getLength = function () {\r\n\treturn sfdb.length;\r\n};\r\n\r\n/**\r\n * @function getLengthAtTimeStep\r\n * @description Given a timestep, returns the length of the array at the index represented by that timestep in the sfdb.\r\n * @param  {[int]} timestep [The timestep to get the length of. Should be >= 0]\r\n * @return {[int]}          [the length of the array that resides at sfdb[timestep]]\r\n * @private\r\n */\r\nvar getLengthAtTimeStep = function (timestep) {\r\n\tif (timestep < 0) {\r\n\t\tconsole.log(\"ERROR in getLengthAtTimeStep -- tried to get the length of a negative timestep\");\r\n\t}\r\n\telse {\r\n\t\treturn sfdb[timestep].length;\r\n\t}\r\n};\r\n\r\n/**\r\n * @method getCurrentTimeStep\r\n * @description return the value of currentTimeStep.\r\n * @return {[int]} [the currentTimeStep stored in the sfdb]\r\n */\r\nvar getCurrentTimeStep = function () {\r\n\treturn currentTimeStep;\r\n};\r\n\r\n/**\r\n * @method  dumpSFDB\r\n * @description Debugging function: Dumps the whole SFDB object to the console.\r\n * @public\r\n * @memberOf CiF\r\n */\r\nvar dumpSFDB = function () {\r\n\tconsole.log(\"sfdb:\", sfdb);\r\n};\r\n\r\n/**\r\n * Returns a copy of the sfdb at the given timestep.\r\n *\r\n * @param  {Number} timeStep The timestep to retrieve.\r\n *\r\n * @return {Object} A copy of an SFDB timeslice, an array of predicate objects.\r\n */\r\nvar getSFDBCopyAtTimestep = function (timeStep) {\r\n\tif (timeStep === undefined) {\r\n\t\ttimeStep = currentTimeStep;\r\n\t}\r\n\tvar slice = util.clone(sfdb[timeStep]);\r\n\tif (slice === undefined) {\r\n\t\tslice = [];\r\n\t}\r\n\treturn slice;\r\n}\r\n\r\nvar registerMaxValue = function (predicate) {\r\n\tif (maxValues[predicate.class] === undefined) {\r\n\t\tmaxValues[predicate.class] = predicate.maxValue !== undefined ? predicate.maxValue : 100;\r\n\t}\r\n};\r\n\r\nvar getRegisteredMaxValue = function (predicate) {\r\n\tif (predicate === undefined || predicate.class === undefined) {\r\n\t\tconsole.log(\"Error: this predicate had no class.\", predicate);\r\n\t}\r\n\treturn maxValues[predicate.class];\r\n};\r\n\r\nvar registerMinValue = function (predicate) {\r\n\tif (minValues[predicate.class] === undefined) {\r\n\t\tminValues[predicate.class] = predicate.minValue !== undefined ? predicate.minValue : 0;\r\n\t}\r\n};\r\n\r\nvar getRegisteredMinValue = function (predicate) {\r\n\treturn minValues[predicate.class];\r\n};\r\n\r\nvar registerDuration = function (predicate) {\r\n\tif (durations[predicate.class] === undefined) {\r\n\t\tdurations[predicate.class] = predicate.duration;\r\n\t}\r\n};\r\n\r\nvar getRegisteredDuration = function (predicate) {\r\n\treturn durations[predicate.class];\r\n};\r\n\r\nvar registerDirection = function (predicate) {\r\n\tif (directions[predicate.class] === undefined) {\r\n\t\tdirections[predicate.class] = predicate.directionType;\r\n\t}\r\n};\r\n\r\nvar getRegisteredDirection = function (predicate) {\r\n\treturn directions[predicate.class];\r\n};\r\n\r\nvar registerDefaultValue = function (predicate) {\r\n\tif (defaultValues[predicate.class] === undefined) {\r\n\t\tdefaultValues[predicate.class] = predicate.defaultValue;\r\n\t}\r\n};\r\n\r\nvar getRegisteredDefaultValue = function (predicate) {\r\n\treturn defaultValues[predicate.class];\r\n};\r\n\r\nvar registerIsBoolean = function (predicate) {\r\n\tif (isBooleans[predicate.class] === undefined) {\r\n\t\tisBooleans[predicate.class] = predicate.isBoolean;\r\n\t}\r\n};\r\n\r\nvar getRegisteredIsBoolean = function (predicate) {\r\n\treturn isBooleans[predicate.class];\r\n};\r\n\r\n/**\r\n* @description  Catches the SFDB's currentTimeStep to the timeStep specified.\r\n*\r\n* @method setUpNextTimeStep\r\n* @memberof CiF\r\n* @return {int} The current timestep.\r\n* @param {Number} timeStep - the timeStep to catch up the SFDB to. If omitted, assumes the currentTimeStep + 1.\r\n*/\r\nvar setupNextTimeStep = function (timeStep) {\r\n\tif (currentTimeStep === -1) {\r\n\t\tcurrentTimeStep += 1;\r\n\t}\r\n\r\n\tif (timeStep === undefined) {\r\n\t\ttimeStep = currentTimeStep + 1;\r\n\t}\r\n\tvar currentSFDBEntry = currentTimeStep;\r\n\r\n\t// If this given timestep in the sfdb doesn't exist yet, fill it in with an empty array.\r\n\tif (sfdb[currentTimeStep] === undefined) {\r\n\t\tsfdb[currentTimeStep] = [];\r\n\t}\r\n\r\n\tfor (var i = currentTimeStep + 1; i <= timeStep; i += 1) {\r\n\r\n\t\t//sfdb[i] = util.clone(sfdb[i-1]); OLD WAY, changed to no longer clone things we aren't supposed to in the first place.\r\n\t\tsfdb[i] = [];\r\n\t\tif (sfdb[i - 1] !== undefined) {\r\n\t\t\tfor (var k = 0; k < sfdb[i - 1].length; k += 1) {\r\n\t\t\t\tif (getRegisteredDuration(sfdb[i - 1][k]) !== 0) {\r\n\t\t\t\t\t//ONLY clone if the duration is 0.\r\n\t\t\t\t\t//Otherwise we are dealing with something like an SFDB label, and we don't want to copy it\r\n\t\t\t\t\t//to this new timestep.\r\n\t\t\t\t\tsfdb[i].push(util.clone(sfdb[i - 1][k]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t// code to handle the expiring of statuses\r\n\t\t// if at a given timeStep, an element in the sfdb has a duration timer,\r\n\t\t// decrement it, and if necessary reverse the status value and delete the duration timer\r\n\t\tfor (var j = 0; j < sfdb[i].length; j++) {\r\n\t\t\tif (getRegisteredIsBoolean(sfdb[i][j])) {\r\n\t\t\t\tif (sfdb[i][j].duration !== undefined) {\r\n\t\t\t\t\tsfdb[i][j].duration -= 1;\r\n\t\t\t\t\tif (sfdb[i][j].duration <= 0) {\r\n\t\t\t\t\t\tdelete sfdb[i][j].duration;\r\n\t\t\t\t\t\t// We set it to false; if we just delete it, the old true value gets cloned over.\r\n\t\t\t\t\t\tif (sfdb[i][j].value !== false) {\r\n\t\t\t\t\t\t\tsfdb[i][j].value = false;\r\n\t\t\t\t\t\t\tsfdb[i][j].timeHappened = timeStep;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//Only update the timeStep if the value passed in is greater than the current time step\r\n\t//i.e. don't allow this function to 'rewind' time and go back to an earlier timestep.'\r\n\tif (timeStep > currentTimeStep) {\r\n\t\tcurrentTimeStep = timeStep;\r\n\t}\r\n\t// Rewind the SFDB, clearing out what was in it after the point we are rewinding to\r\n\telse if (timeStep < currentTimeStep) {\r\n\t\tfor (var i = currentTimeStep; i > timeStep; i -= 1) {\r\n\t\t\tsfdb[i] = [];\r\n\t\t}\r\n\t\tcurrentTimeStep = timeStep;\r\n\t}\r\n\treturn currentTimeStep;\r\n};\r\n\r\n// Helper function for newGet(). Checks whether two predicates have a compatible value, taking into account an optional operator and passed-in expected values.\r\nvar checkValueMatch = function (sfdbValue, searchValue, operator) {\r\n\tif (typeof searchValue === \"boolean\" && sfdbValue !== searchValue) {\r\n\t\treturn false;\r\n\t}\r\n\telse if (operator === \"=\" && sfdbValue !== searchValue) {\r\n\t\treturn false;\r\n\t}\r\n\telse if (operator === \">\" && sfdbValue <= searchValue) {\r\n\t\treturn false;\r\n\t}\r\n\telse if (operator === \"<\" && sfdbValue >= searchValue) {\r\n\t\treturn false;\r\n\t}\r\n\t// Either the values match, or we have a numeric class but no operator, in which case we count this as a match (we're probably trying to get the current value of this predicate.)\r\n\treturn true;\r\n}\r\n\r\nvar matchedResults;\r\nvar matchedResultsStrings;\r\n\r\n// Helper function for newGet(). Adds a matching predicate to the module array matchedResults, either as a new object or a reference to a point in the SFDB, and ensuring no duplicate predicates are added.\r\nvar addResult = function (predicateRef, value, addAsReference) {\r\n\r\n\tvar matchResult;\r\n\r\n\tif (addAsReference) {\r\n\t\t// Simply add the reference to this predicate in the SFDB.\r\n\t\tmatchResult = predicateRef;\r\n\t} else {\r\n\t\t// We're matching a predicate that doesn't exist in the SFDB because it's representing a default value.\r\n\t\tmatchResult = util.clone(predicateRef);\r\n\t\tif (value !== undefined) {\r\n\t\t\tmatchResult.value = value;\r\n\t\t}\r\n\t}\r\n\r\n\t// Add the predicate to the list, if it hasn't been seen before.\r\n\tvar hash = predicateHash(matchResult);\r\n\tif (!matchedResultsStrings[hash]) {\r\n\t\tmatchedResults.push(matchResult);\r\n\t}\r\n\tmatchedResultsStrings[hash] = true;\r\n\r\n}\r\n\r\n// Helper function used by sfdb.get to see if the given predicate matches a default value.\r\nvar checkForDefaultMatch = function (searchPredicate, defaultValue, searchValue, isBooleanPred) {\r\n\tvar matchesDefault;\r\n\tif (searchPredicate.value !== undefined) {\r\n\t\tlet operator = (searchPredicate.operator === undefined) ? \"=\" : searchPredicate.operator;\r\n\t\tmatchesDefault = checkValueMatch(defaultValue, searchValue, operator); // assume a check for equality if no operator\r\n\t\tif (matchesDefault) {\r\n\t\t\taddResult(searchPredicate, defaultValue, false);\r\n\t\t}\r\n\t}\r\n\r\n\t// If the search predicate is numeric and did not provide a value, we want to add an entry to the SFDB with the default value, and return a reference to that.\r\n\telse if (searchPredicate.value === undefined && !isBooleanPred && defaultValue !== undefined) {\r\n\t\tvar tempPred = util.clone(searchPredicate);\r\n\t\ttempPred.value = defaultValue;\r\n\t\tsfdb[currentTimeStep].push(tempPred);\r\n\t\taddResult(tempPred, defaultValue, true);\r\n\t}\r\n\r\n\t// If the search predicate is boolean and did not provide a value... we want to do... something?\r\n\telse if (searchPredicate.value === undefined && isBooleanPred && defaultValue !== undefined) {\r\n\t\tlet operator = (searchPredicate.operator === undefined) ? \"=\" : searchPredicate.operator;\r\n\t\tmatchesDefault = checkValueMatch(defaultValue, searchValue, operator); // assume a check for equality if no operator\r\n\t\tif (matchesDefault) {\r\n\t\t\tvar tempBoolPred = util.clone(searchPredicate);\r\n\t\t\taddResult(tempBoolPred, defaultValue, false);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n* @description  Search the SFDB for a desired searchPredicate within a provided time period. We assume that mostRecentTime and leastRecentTime exist and are formatted properly.\r\n*\r\n* @method get\r\n* @memberof CiF\r\n* @param {Object} searchPredicate - a predicate we want to search the SFDB for\r\n* @param {Number} mostRecentTime - the lower bound time that we want to look within (turns ago: 2 = currentTimeStep-2)\r\n* @param {Number} leastRecentTime - the upper bound time that we want to look within (turns ago: 2 = currentTimeStep-2)\r\n* @param {Bool} useDefaultValue - If true, then if the searchPredicate is not explicitly found in the sfdb it will check the searchPredicate against the predicate's default value. If false, it will not. Defaults to true.\r\n* @return {Array} matchedResults\tthe array holding the found predicates which match the query\r\n*/\r\n//cif.get() should be called by public, this should only be used internally.\r\nvar get = function (searchPredicate, mostRecentTime, lessRecentTime, useDefaultValue) {\r\n\r\n\tvar searchValue = searchPredicate.value;\r\n\tvar defaultValue = defaultValues[searchPredicate.class];\r\n\tvar isBooleanPred = getRegisteredIsBoolean(searchPredicate);\r\n\tvar foundPatternMatch = false;\t// Track whether we ever find a pattern matching the search predicate across this search.\r\n\tuseDefaultValue = typeof useDefaultValue !== 'undefined' ? useDefaultValue : true;\r\n\r\n\t// if (searchPredicate.value !== undefined && searchPredicate.operator === undefined && isBooleanPred === false) {\r\n\t// \tconsole.log(\"searchPredicate\", searchPredicate);\r\n\t// \tthrow new Error(\"Must define operator with value!\");\r\n\t// }\r\n\r\n\r\n\tmatchedResults = [];\t\t//predicate results to return\r\n\tmatchedResultsStrings = {};\t//dictionary of predicates already stored.\r\n\r\n\r\n\tif (searchValue === undefined && useDefaultValue) {\r\n\t\tif (isBooleanPred) {\r\n\t\t\t// If the client fails to specify a boolean value, we assume we are searching for the opposite of the default state. For instance, if the default value of a flag is false, and we omit a value in get(), the implication is that we're searching for a non-default case (true).\r\n\t\t\tsearchValue = true;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//In the case where we have a numeric predicate with a value, but no operator specified,\r\n\t//assume that the operator is '='\r\n\tif (!isBooleanPred) {\r\n\t\tif (searchValue !== undefined && searchPredicate.operator === undefined) {\r\n\t\t\tsearchPredicate.operator = \"=\";\r\n\t\t}\r\n\t}\r\n\r\n\t// Convert relative to absolute time steps.\r\n\tmostRecentTime = currentTimeStep - mostRecentTime;\r\n\tlessRecentTime = currentTimeStep - lessRecentTime;\r\n\r\n\tvar foundAnySFDBTimesteps = false;\r\n\r\n\t// Look through each defined SFDB time step in the given range.\r\n\tfor (var i = lessRecentTime; i <= mostRecentTime; i += 1) {\r\n\t\tif (sfdb[i] !== undefined) {\r\n\r\n\t\t\tfoundAnySFDBTimesteps = true;\r\n\t\t\t// Consider each predicate at this SFDB timestep.\r\n\t\t\tfor (var j = 0; j < sfdb[i].length; j += 1) {\r\n\t\t\t\tvar sfdbPredicate = sfdb[i][j];\r\n\r\n\t\t\t\t// Skip any predicates that don't match the search predicate's specification.\r\n\r\n\t\t\t\tif (searchPredicate.class !== undefined && searchPredicate.class !== sfdbPredicate.class) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (searchPredicate.type !== undefined && searchPredicate.type !== sfdbPredicate.type) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (searchPredicate.first !== undefined && searchPredicate.first !== sfdbPredicate.first) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (searchPredicate.second !== undefined && searchPredicate.second !== sfdbPredicate.second) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If we made it to here, we found a match of the search predicate's pattern (although the value may not match up.)\r\n\t\t\t\tfoundPatternMatch = true;\r\n\r\n\t\t\t\t// We don't want to assume \"=\" as operator, b/c then we won't match checks for existing SFDB values.\r\n\t\t\t\tvar doesValueMatch = checkValueMatch(sfdbPredicate.value, searchValue, searchPredicate.operator);\r\n\r\n\t\t\t\tif (doesValueMatch) {\r\n\t\t\t\t\taddResult(sfdbPredicate, searchValue, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// In the case that we found no pattern matches for this predicate (meaning the SFDB has no record of this information), see if the default value should indicate a positive result anyway.\r\n\t\t\tif (!foundPatternMatch) {\r\n\t\t\t\tcheckForDefaultMatch(searchPredicate, defaultValue, searchValue, isBooleanPred);\r\n\t\t\t}\r\n\t\t\tfoundPatternMatch = false;\r\n\r\n\t\t} // end if(sfdb[i] !== undefined)\r\n\r\n\t} // end for (var i = lessRecentTime\r\n\r\n\t// In the case where the whole SFDB was empty, we never got a chance to check for default values, so do it here.\r\n\tif (!foundAnySFDBTimesteps) {\r\n\t\tcheckForDefaultMatch(searchPredicate, defaultValue, searchValue, isBooleanPred);\r\n\t}\r\n\r\n\treturn matchedResults;\r\n};\r\n\r\n/**\r\n * @method addHistory\r\n * @description  Take a history definition object, and load it into CiF. See sampleGame/data/history.json for an example.\r\n * @public\r\n * @memberOf CiF\r\n * @return {object} A Parsed JSON file representing the history that was just loaded in.\r\n * @param  {object} content - A javascript object detailing the social history to populate the sfdb with.\r\n */\r\nvar addHistory = function (content) {\r\n\tvar history = content.history;\r\n\tvar lastPos = -9999999999;\r\n\tfor (var i = 0; i < history.length; i++) {\r\n\t\t// TODO add more error checking to look for out-of-order history steps, etc.\r\n\t\tvar historyAtTime = history[i];\r\n\t\tif (historyAtTime.pos <= lastPos) {\r\n\t\t\tconsole.log(\"Tried to load a history file but timeStep \" + historyAtTime.pos + \" came after timeStep \" + lastPos + \"; history files must declare timesteps sequentially.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlastPos = historyAtTime.pos;\r\n\t\tsetupNextTimeStep(historyAtTime.pos);\r\n\t\tfor (var j = 0; j < historyAtTime.data.length; j++) {\r\n\t\t\tvar pred = historyAtTime.data[j];\r\n\t\t\ttry {\r\n\t\t\t\tset(pred);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tconsole.log(\"invalid history file! double check  predicate on console\");\r\n\t\t\t\tconsole.log(\"invalid predicate in history:\", pred);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn content;\r\n};\r\n\r\n\r\n// Return a hash string guaranteed to be unique for each distinct predicate regardless of key order.\r\nvar predicateHash = function (obj) {\r\n\tvar hash = [];\r\n\t// var sortedKeys = _.keys(obj).sort();\r\n\tvar sortedKeys = Object.keys(obj).sort();\r\n\tfor (var i = 0; i < sortedKeys.length; i++) {\r\n\t\thash[i] = obj[sortedKeys[i]];\r\n\t};\r\n\treturn hash.join(\"\");\r\n};\r\n\r\n/**\r\n * A simple toString for a predicate, as the natural one just returns Object [object]\r\n * This function is meant to be assigned to a predicate objects toString method.\r\n *\r\n * @method predicateToString\r\n * @memberof SFDB\r\n * @return a string representation of the current predicate represented by 'this'\r\n */\r\nvar predicateToString = function () {\r\n\tvar returnString = \"\";\r\n\tfor (var key in this) {\r\n\t\treturnString += key + \": \" + this[key] + \", \";\r\n\t\t//console.log(key + \": \" + this[key]);\r\n\t}\r\n\treturn returnString;\r\n};\r\n\r\n\r\n/**\r\n * @description Allows a predicate to be saved to the SFDB at the current timeStep. Handles stored predicate updating as well as storing new predicates\r\n *\r\n * @method set\r\n * @memberof CiF\r\n * @public\r\n * @param {Object} setPredicate - the predicate that we would like to save to the SFDB\r\n */\r\nvar set = function (setPredicate) {\r\n\tvar pattern = {};\r\n\tpattern.class = setPredicate.class;\r\n\tpattern.type = setPredicate.type;\r\n\tpattern.first = setPredicate.first;\r\n\tpattern.second = setPredicate.second;\r\n\r\n\tvar value = setPredicate.value;\r\n\tvar operator = setPredicate.operator;\r\n\r\n\tvar isBooleanPred = getRegisteredIsBoolean(setPredicate);\r\n\tvar isReciprocal = getRegisteredDirection(setPredicate) === \"reciprocal\";\r\n\tvar defaultValue = defaultValues[pattern.class];\r\n\tvar duration = getRegisteredDuration(setPredicate);\r\n\tvar max = getRegisteredMaxValue(setPredicate);\r\n\tvar min = getRegisteredMinValue(setPredicate);\r\n\r\n\tvar timeStep = getCurrentTimeStep();\r\n\tif (timeStep === -1) {\r\n\t\tsetupNextTimeStep(0);\r\n\t\ttimeStep = 0;\r\n\t}\r\n\r\n\t//TODO: Changed this to just making value = true for consistency, but we should discuss this.\r\n\t// If we're trying to set a boolean value and we've left out the value, assume we mean the non-default.\r\n\tif (isBooleanPred && value === undefined) {\r\n\t\t//value = ! defaultValue;\r\n\t\tvalue = true;\r\n\t}\r\n\r\n\t// Get a reference to an SFDB record.\r\n\tvar sfdbPredicate;\r\n\tvar searchResult = get(pattern, 0, 0, false);\r\n\tif (searchResult.length === 0) {\r\n\t\tsfdbPredicate = pattern;\r\n\t\tsfdbPredicate.value = defaultValue;\r\n\t\tsfdb[timeStep].push(sfdbPredicate);\r\n\t} else if (searchResult.length === 1) {\r\n\t\tsfdbPredicate = searchResult[0];\r\n\t} else {\r\n\t\tconsole.log(\"bad predicate: \", setPredicate);\r\n\t\tthrow new Error(\"Expected any pattern get to the SFDB to return either an existing record or make a new one w/the default value and return that.\")\r\n\t}\r\n\r\n\tsfdbPredicate.timeHappened = timeStep;\r\n\tsfdbPredicate.duration = duration;\r\n\r\n\tif (operator === undefined || operator === \"=\") {\r\n\t\t// Straight update.\r\n\t\tsfdbPredicate.value = value;\r\n\t} else {\r\n\t\t// Offset.\r\n\t\tif (operator === \"+\") {\r\n\t\t\tsfdbPredicate.value += value;\r\n\t\t} else if (operator === \"-\") {\r\n\t\t\tsfdbPredicate.value -= value;\r\n\t\t}\r\n\t}\r\n\r\n\t// Verify new value is valid.\r\n\tif (!isBooleanPred) {\r\n\t\tif (sfdbPredicate.value > max) {\r\n\t\t\tsfdbPredicate.value = max;\r\n\t\t\tconsole.log(\"$$$$$$$$$ In SFDB predicate is $$$$$$$\");\r\n\t\t\tconsole.log(sfdbPredicate);\r\n\t\t}\r\n\t\tif (sfdbPredicate.value < min) {\r\n\t\t\tsfdbPredicate.value = min;\r\n\t\t}\r\n\t}\r\n\r\n\t// Also update if a reciprocal predicate.\r\n\tif (isReciprocal) {\r\n\t\tvar recipPredicate = util.clone(setPredicate);\r\n\t\tvar temp = recipPredicate.second;\r\n\t\trecipPredicate.second = recipPredicate.first;\r\n\t\trecipPredicate.first = temp;\r\n\t\trecipPredicate.value = undefined;\r\n\r\n\t\tvar rPred;\r\n\t\tvar recipSearchResult = get(recipPredicate, 0, 0, false);\r\n\t\tif (recipSearchResult.length === 1) {\r\n\t\t\trPred = recipSearchResult[0]\r\n\t\t} else {\r\n\t\t\trPred = recipPredicate;\r\n\t\t\tsfdb[timeStep].push(rPred);\r\n\t\t}\r\n\r\n\t\trPred.timeHappened = sfdbPredicate.timeHappened;\r\n\t\trPred.duration = sfdbPredicate.duration;\r\n\t\trPred.value = sfdbPredicate.value;\r\n\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Clears out the history of the SFDB. Note that all registered things from blueprints, such as\r\n * defaultValues and directions, are NOT removed, so there is no need to re-register\r\n *\r\n * @method clearHistory\r\n * @memberof SFDB\r\n */\r\nvar clearHistory = function () {\r\n\tsfdb = [];\r\n\tcurrentTimeStep = -1;\r\n};\r\n\r\n/**\r\n * Clears out EVERYTHING from the SFDB. This means the entire social history, and also data that came from\r\n * our factory blueprints, including defaultValues and directions. After calling this, predicates need to be re-registered\r\n *\r\n * @method clearEverthing\r\n * @memberof SFDB\r\n */\r\nvar clearEverything = function () {\r\n\tsfdb = [];\r\n\tcurrentTimeStep = -1;\r\n\tdefaultValues = {};\r\n\tmaxValues = {};\r\n\tminValues = {};\r\n\tdirections = {};\r\n\tisBooleans = {};\r\n\tclonePolicies = {};\r\n\tdurations = {};\r\n\toffstageCharacters = [];\r\n\teliminatedCharacters = [];\r\n};\r\n\r\n/**\r\n * Prints out the contents of the sfdb's history at a given timeStep. If no timeStep is specified,\r\n * prints out the conents of the sfdb at the current time step\r\n *\r\n * @method sfdbHistoryToString\r\n * @memberof SFDB\r\n * @param timeStep \t\t\tan integer representing the timeStep we want to see the contents of the sfdb at. Assume current time step if undefined.\r\n * @return historyString \tA string representing the contents of the sfdb at the specified point in history\r\n */\r\nvar sfdbHistoryToString = function (timeStep) {\r\n\tif (timeStep === undefined) {\r\n\t\ttimeStep = currentTimeStep;\r\n\t}\r\n\r\n\tvar historyString = \"******SFDB At Time \" + timeStep + \"********\\n\";\r\n\r\n\tfor (var i = 0; i < sfdb[timeStep].length; i += 1) {\r\n\t\thistoryString += \"<PREDICATE \" + i + \">\\n\";\r\n\t\thistoryString += \"class: \" + sfdb[timeStep][i].class + \"\\n\";\r\n\t\thistoryString += \"type: \" + sfdb[timeStep][i].type + \"\\n\";\r\n\t\thistoryString += \"first: \" + sfdb[timeStep][i].first + \"\\n\";\r\n\t\thistoryString += \"second: \" + sfdb[timeStep][i].second + \"\\n\";\r\n\t\thistoryString += \"value: \" + sfdb[timeStep][i].value + \"\\n\";\r\n\t\thistoryString += \"timeHappened: \" + sfdb[timeStep][i].timeHappened + \"\\n\";\r\n\t\thistoryString += \"---------------------------\\n\";\r\n\t}\r\n\r\n\thistoryString += \"Total Length: \" + sfdb[timeStep].length + \"\\n\";\r\n\thistoryString += \"******************************\";\r\n\treturn historyString;\r\n\r\n};\r\n\r\nvar sfdbFullHistoryToString = function () {\r\n\tvar returnString = \"\";\r\n\tfor (var i = 0; i < sfdb.length; i += 1) {\r\n\t\treturnString += sfdbHistoryToString(i);\r\n\t}\r\n\treturn returnString;\r\n};\r\n\r\n//setter for if a character is offstage.\r\nvar putCharacterOffstage = function (characterName) {\r\n\t//TODO: Validate that 'characterName' is a valid character in this system!\r\n\tif (offstageCharacters.indexOf(characterName) === -1) {\r\n\t\t//Awesome, let's add them to offstage!\r\n\t\toffstageCharacters.push(characterName);\r\n\t}\r\n\telse {\r\n\t\t//Character was already offstage...\r\n\t\tconsole.log(\"Character was already offstage, doing nothing...\");\r\n\t}\r\n};\r\n\r\n//getting for if a character is offstage.\r\nvar getIsCharacterOffstage = function (characterName) {\r\n\tif (offstageCharacters.indexOf(characterName) === -1) {\r\n\t\t//they are not offstage\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n//set a character to be eliminated\r\nvar eliminateCharacter = function (characterName) {\r\n\t//TODO: Validate that 'characterName' is a valid character in this system.\r\n\tif (eliminatedCharacters.indexOf(characterName) === -1) {\r\n\t\t//Alright, let's add them to the eliminated list...\r\n\t\teliminatedCharacters.push(characterName);\r\n\r\n\t\t//if this character was also on the 'offstage' list, let's remove them from there.\r\n\t\tvar indexInOffstage = offstageCharacters.indexOf(characterName);\r\n\t\tif (indexInOffstage !== -1) {\r\n\t\t\toffstageCharacters.splice(indexInOffstage, 1);\r\n\t\t}\r\n\r\n\t\t//actually remove references to this character.\r\n\t\tremoveAllSocialFactsFromCharacter(characterName);\r\n\t}\r\n\telse {\r\n\t\t//Character was already eliminated...\r\n\t\tconsole.log(\"Character was already eliminated, doing nothing...\");\r\n\t}\r\n};\r\n\r\n//getter for if a character is eliminated.\r\nvar getIsCharacterEliminated = function (characterName) {\r\n\tif (eliminatedCharacters.indexOf(characterName) === -1) {\r\n\t\t//they are not eliminated\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n//takes a character OFF of the offstage list.\r\nvar putCharacterOnstage = function (characterName) {\r\n\tvar index = offstageCharacters.indexOf(characterName);\r\n\tif (index !== -1) {\r\n\t\t//They used to be offstage -- let's put them onstage!\r\n\t\toffstageCharacters.splice((index), 1);\r\n\t}\r\n};\r\n\r\nvar removeAllSocialFactsFromCharacter = function (characterName) {\r\n\t//TODO: Validate that characterName is an actual character in the system.\r\n\tremoveDirectedSocialFacts(characterName);\r\n\tremoveReciprocalSocialFacts(characterName);\r\n\tremoveUndirectedSocialFacts(characterName);\r\n};\r\n\r\nvar removeUndirectedSocialFacts = function (characterName) {\r\n\tvar indicesToRemove = [];\r\n\tfor (var i = 0; i < sfdb[currentTimeStep].length; i += 1) {\r\n\t\tvar socialFact = sfdb[currentTimeStep][i];\r\n\t\tif (getRegisteredDirection(socialFact) === \"undirected\") {\r\n\t\t\tif (socialFact.first === characterName || socialFact.second === characterName) {\r\n\t\t\t\tindicesToRemove.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var j = indicesToRemove.length - 1; j >= 0; j -= 1) {\r\n\t\tsfdb[currentTimeStep].splice(indicesToRemove[j], 1);\r\n\t}\r\n};\r\n\r\nvar removeDirectedSocialFacts = function (characterName) {\r\n\t//TODO: Validate that characterName is an actual character in the system.\r\n\tvar indicesToRemove = [];\r\n\tfor (var i = 0; i < sfdb[currentTimeStep].length; i += 1) {\r\n\t\tvar socialFact = sfdb[currentTimeStep][i];\r\n\t\tif (getRegisteredDirection(socialFact) === \"directed\") {\r\n\t\t\tif (socialFact.first === characterName || socialFact.second === characterName) {\r\n\t\t\t\t//This means that we are dealing with someone who has a directed attribute to or from the 'name' character.\r\n\t\t\t\tindicesToRemove.push(i); // store for removal later; removing now would mess up our pass through the array.\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var j = indicesToRemove.length - 1; j >= 0; j -= 1) {\r\n\t\t//We want to go backwards, so as not to disrupt the ordering of the indexes we've marked for removal.\r\n\t\tsfdb[currentTimeStep].splice(indicesToRemove[j], 1);\r\n\t}\r\n};\r\n\r\nvar removeReciprocalSocialFacts = function (characterName) {\r\n\t//TODO: Validate that characterName is an actual character in the system.\r\n\tvar indicesToRemove = [];\r\n\tfor (var i = 0; i < sfdb[currentTimeStep].length; i += 1) {\r\n\t\tvar socialFact = sfdb[currentTimeStep][i];\r\n\t\tif (getRegisteredDirection(socialFact) === \"reciprocal\") {\r\n\t\t\tif (socialFact.first === characterName || socialFact.second === characterName) {\r\n\t\t\t\t//Anything that involves this character is going to be removed.\r\n\t\t\t\tindicesToRemove.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var j = indicesToRemove.length - 1; j >= 0; j -= 1) {\r\n\t\t//we want to go backwards, so as not to disrupt the ordering of the indexes we've marked for removal.\r\n\t\tsfdb[currentTimeStep].splice(indicesToRemove[j], 1);\r\n\t}\r\n};\r\n\r\nvar getOffstageCharacters = function () {\r\n\treturn offstageCharacters;\r\n};\r\n\r\nvar getEliminatedCharacters = function () {\r\n\treturn eliminatedCharacters;\r\n};\r\n\r\n//TODO: this is now redundant with cif.get()\r\nvar publicGet = function (predicate, earliestTime, latestTime) {\r\n\treturn get(predicate, earliestTime, latestTime, true);\r\n};\r\n\r\nvar init = function (initialTimeStep) {\r\n\tif (initialTimeStep !== undefined) {\r\n\t\tcurrentTimeStep = initialTimeStep;\r\n\t}\r\n\t//offstageCharacters = [];\r\n\r\n};\r\n\r\nvar sfdbInterface = {\r\n\tinit: init,\r\n\tdumpSFDB: dumpSFDB,\r\n\tgetSFDBCopyAtTimestep: getSFDBCopyAtTimestep,\r\n\r\n\tgetCurrentTimeStep: getCurrentTimeStep,\r\n\r\n\tregisterMaxValue: registerMaxValue,\r\n\tgetRegisteredMaxValue: getRegisteredMaxValue,\r\n\tregisterMinValue: registerMinValue,\r\n\tgetRegisteredMinValue: getRegisteredMinValue,\r\n\tregisterDuration: registerDuration,\r\n\tgetRegisteredDuration: getRegisteredDuration,\r\n\tregisterDirection: registerDirection,\r\n\tgetRegisteredDirection: getRegisteredDirection,\r\n\tregisterDefault: registerDefaultValue,\r\n\tgetRegisteredDefault: getRegisteredDefaultValue,\r\n\tregisterIsBoolean: registerIsBoolean,\r\n\tgetRegisteredIsBoolean: getRegisteredIsBoolean,\r\n\tclearHistory: clearHistory,\r\n\tclearEverything: clearEverything,\r\n\tset: set,\r\n\tget: publicGet,\r\n\taddHistory: addHistory,\r\n\tsfdbHistoryToString: sfdbHistoryToString,\r\n\tsfdbFullHistoryToString: sfdbFullHistoryToString,\r\n\tputCharacterOffstage: putCharacterOffstage,\r\n\tputCharacterOnstage: putCharacterOnstage,\r\n\teliminateCharacter: eliminateCharacter,\r\n\tgetIsCharacterOffstage: getIsCharacterOffstage,\r\n\tgetIsCharacterEliminated: getIsCharacterEliminated,\r\n\tgetOffstageCharacters: getOffstageCharacters,\r\n\tgetEliminatedCharacters: getEliminatedCharacters,\r\n\tsetupNextTimeStep: setupNextTimeStep\r\n};\r\n// See comment at top of Tests.js for explanation of below.\r\n\r\n/* test-code */\r\nsfdbInterface.currentTimeStep = currentTimeStep;\r\nsfdbInterface.getLength = getLength;\r\nsfdbInterface.getCurrentTimeStep = getCurrentTimeStep;\r\nsfdbInterface.getLengthAtTimeStep = getLengthAtTimeStep;\r\n/* end-test-code */\r\n\r\n//public things removed and turned 'private'\r\n//getLength \t\t\t\t: getLength,\r\n\r\nexport default sfdbInterface;\r\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 888;\nmodule.exports = webpackEmptyAsyncContext;","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","import util from \"./util.js\";\r\nimport volition from \"./Volition.js\";\r\nimport sfdb from \"./SFDB.js\";\r\n\r\n\r\nvar ruleLibrary = {\r\n\ttrigger: [],\r\n\tvolition: []\r\n};\r\n\r\n/**\r\n * @description Retuns the names of all of the rule sets in ruleLibrary\r\n *\r\n * @method getRuleSetNames\r\n * @memberof RuleLibrary\r\n */\r\nvar getRuleSetNames = function () {\r\n\tvar ruleSetNames = [];\r\n\tfor (var key in ruleLibrary) {\r\n\t\truleSetNames.push(key);\r\n\t}\r\n\treturn ruleSetNames;\r\n}\r\n\r\n/**\r\n * @description Runs a rule set over a cast of characters.\r\n * First it temporarily stores a specific ruleSet from the ruleLibrary into an array called rules.\r\n * For each rule in this array, the characters that apply to each rule are bound to that rule.\r\n *\r\n * @method runRules\r\n * @memberof RuleLibrary\r\n * @param {String} ruleSet\tan array of rules to check for in the SFDB\r\n * @param {Array} cast\t\tan array of characters we are interested in seeing if the provided rules apply to\r\n * @param onMatchFunction\tthe function that we will apply if the rule(s) are found to be true\r\n */\r\nvar runRules = function (ruleSet, cast, onMatchFunction, params, unaffectedCharacters) {\r\n\tvar rules = ruleLibrary[ruleSet];\r\n\tfor (var i = 0; i < rules.length; i += 1) {\r\n\t\t//ASK -- leaving this in fow now until the 'additive addRuleSet' issue is resolved\r\n\t\tif (rules[i].conditions === undefined) {\r\n\t\t\tthrow new Error(\"runRules called for ruleSet '\" + ruleSet + \"' (length \" + rules.length + \") but there are no conditions in rule \" + i + \".\");\r\n\t\t}\r\n\t\tvar allPredicates = rules[i].conditions.concat(rules[i].effects);\r\n\t\tvar uniqueBindings = getUniqueBindings(allPredicates);\r\n\t\tmatchUniqueBindings(uniqueBindings, cast, onMatchFunction, rules[i], params, unaffectedCharacters);\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Finds the place-holders for the unique characters who appropriately apply to a given rule\r\n * @method getUniqueBindings\r\n * @memberof RuleLibrary\r\n * @param {Array} ruleConditions\tthe conditions which need to have specific characters filled into roles first and (optionally) second.\r\n * @return {Array} dictionary\t\teach of the conditions will be stored in this dictionary, with keys\r\n */\r\nvar getUniqueBindings = function (ruleConditions) {\r\n\tvar dictionary = {};\r\n\tfor (var i = 0; i < ruleConditions.length; i += 1) {\r\n\t\tvar predicate = ruleConditions[i];\t\t\t//store the current rule condition in a temp\r\n\r\n\t\t//if the dictionary does not have an entry for the current predicate's first, initialize it\r\n\t\tif (dictionary[predicate.first] === undefined) {\r\n\t\t\tdictionary[predicate.first] = \"\";\t\t//possible optimization to change the initialization to zero\r\n\t\t}\r\n\t\t//and the same for the second entry in there is a second character in the predicate\r\n\t\tif (predicate.second !== undefined) {\r\n\t\t\tif (dictionary[predicate.second] === undefined) {\r\n\t\t\t\tdictionary[predicate.second] = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn dictionary;\r\n};\r\n\r\n/**\r\n * A recursive method which fills the roles for unique bindings previously found with actual characters\r\n *\r\n * @method matchUniqueBindings\r\n * @memberof RuleLibrary\r\n * @param {Object} uniqueBindings\tthe dictionary of place-holders for unique characters to fill\r\n * @param {Array} availableCastMembers\tarray of cast members who can potentially fill a unique role\r\n * @param {Function} processResult \tthe function which will process the result of the unique binding\r\n * @param {Array} rule\tthe particular rule that needs to be applied\r\n */\r\nvar matchUniqueBindings = function (uniqueBindings, availableCastMembers, processResult, rule, params, unaffectedCharacters) {\r\n\tvar isFilled = true;\r\n\tvar emptyKey = \"\";\r\n\r\n\t//find an unbound key in the uniqueBindings dictionary\r\n\tfor (key in uniqueBindings) {\r\n\t\tif (uniqueBindings[key] === \"\") {\r\n\t\t\temptyKey = key;\r\n\t\t\tisFilled = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// essentially our base case for the recursion\r\n\t// if all of the keys in the uniqueBindings dictionary have an entry\r\n\tif (isFilled === true) {\r\n\t\t// then recursion has bottomed out. we have a completely bound set of characters.\r\n\t\tvar boundConditions = doBinding(uniqueBindings, util.clone(rule.conditions));\t//characters are assigned\r\n\r\n\t\t//Because some characters might be offstage or eliminated, we might not want to\r\n\t\t//bother evaluating this rule. The only way we'll know for sure is by looking\r\n\t\t//at the effects. If they involve characters that are on our 'ignore' list,\r\n\t\t//then we'll want to skip evaluating this rule.\r\n\t\t//It's worth noting that one rule might have multiple effects, some of which\r\n\t\t//we want to ignore and others we don't. In that case, as long as one effect\r\n\t\t//is good, then we have to evaluate anyway. We'll let the respective\r\n\t\t//rule set handle ignoring the 'bad' effects inside of processResult.\r\n\t\tvar boundEffects = doBinding(uniqueBindings, util.clone(rule.effects));\r\n\t\tvar atLeastOneGoodEffect = false;\r\n\t\tfor (var k = 0; k < boundEffects.length; k += 1) {\r\n\t\t\tif (boundEffects[k].first !== undefined) {\r\n\t\t\t\tif (unaffectedCharacters.indexOf(boundEffects[k].first) !== -1) {\r\n\t\t\t\t\t//This is a \"bad\" effect -- it affects someone we are ignoring.\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (boundEffects[k].second !== undefined) {\r\n\t\t\t\tif (unaffectedCharacters.indexOf(boundEffects[k].second) !== -1) {\r\n\t\t\t\t\t//This is a \"bad\" effect -- it affects someone we are ignoring.\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//If we've made it here, then at least one of the effects is something\r\n\t\t\t//that we'll want to enact if the condition evaluates to true.\r\n\t\t\t//That means we might as well start evaluating now!\r\n\t\t\tatLeastOneGoodEffect = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t//Only bother evaluating if at least one effect involves characters that\r\n\t\t//we don't want to ignore (e.g., they aren't offstage, they aren't eliminated)\r\n\t\tvar conditionsAreTrue = false;\r\n\t\tif (atLeastOneGoodEffect) {\r\n\t\t\tconditionsAreTrue = evaluateConditions(boundConditions, rule, params);\r\n\t\t}\r\n\r\n\t\t// All the conditions are true, so process all effects.\r\n\t\tif (conditionsAreTrue === true) {\r\n\t\t\tvar boundEffects = doBinding(uniqueBindings, util.clone(rule.effects));\r\n\t\t\tfor (var j = 0; j < boundEffects.length; j += 1) {\r\n\t\t\t\tprocessResult(boundEffects[j], boundConditions, rule, j, boundEffects.length - 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// time to recurse\r\n\telse {\r\n\t\t// There are still some characters unbound: recurse down the chain with each\r\n\t\t// possible assignment for the first unbound slot.\r\n\t\tfor (var i = 0; i < availableCastMembers.length; i += 1) {\r\n\t\t\tuniqueBindings[emptyKey] = availableCastMembers[i];\t// place an available cast member into the empty slot in the dictionary\r\n\t\t\tvar updatedCastMembers = util.clone(availableCastMembers);\r\n\t\t\tupdatedCastMembers.splice(i, 1);\t// the updated cast has the currently assigned member removed for the recursion\r\n\t\t\tmatchUniqueBindings(uniqueBindings, updatedCastMembers, processResult, rule, params, unaffectedCharacters);\r\n\t\t}\r\n\t\t//If we've gotten here, we want to 'clear out' the uniqueBindings slot of the current 'emptyKey'\r\n\t\t//Because we want it to be clear for when we pop back up to the previous level of recursion.\r\n\t\tuniqueBindings[emptyKey] = \"\";\r\n\t}\r\n};\r\n\r\n/**\r\n * evaluateConditions takes an array of bound conditions (that is, the first and second\r\n * role slots are \"filled in\" (i.e. first: \"simon\" as opposed to first: \"x\"), and for each one\r\n * of them checks, to see if they hold true. Returns true if all conditions are true. False otherwise.\r\n *\r\n * @method evaluateConditions\r\n * @memberof RuleLibrary\r\n * @param {Array} conditions An array of predicates representing the condition of a rule.\r\n * @return {Boolean} conditionsAreTrue Returns true if all of the predicates in the conditions array is true. Returns False otherwise.\r\n */\r\n/*\r\nvar evaluateConditions = function(conditionsArray, rule, params){\r\n\tvar orderedConditions = [];\r\n\tvar conditions = util.clone(conditionsArray);\r\n\tvar counter = conditions.length;\r\n\r\n\tfor (var i = 0 ; i < counter ; i += 1) {\r\n\r\n\t\t// in the case of an ordered condition array, if a mistake was made and there is a gap\r\n\t\t// i.e. 1,2,4,5, skip the undefined entry and continue\r\n\t\tif (conditions[i] === undefined) {\r\n\t\t\tcounter += 1;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tvar condition = conditions[i];\r\n\t\tvar earlyTime = 0;\r\n\t\tvar latestTime = 0;\r\n\r\n\t\t//Let's do it with default time steps too!\r\n\t\tif(condition.timeEarliest !== undefined){\r\n\t\t\tearlyTime = condition.timeEarliest;\r\n\t\t}\r\n\t\tif(condition.timeLatest !== undefined){\r\n\t\t\tlatestTime = condition.timeLatest;\r\n\t\t}\r\n\r\n\t\t// Put the ordered conditions in an ordered array\r\n\r\n\t\tif(condition.order !== undefined) {\r\n\t\t\tvar tempCondition = util.clone(condition);\r\n\t\t\tif (tempCondition.order === -1){\r\n\t\t\t\tdelete tempCondition.order;\r\n\t\t\t\tdelete tempCondition.timeEarliest;\r\n\t\t\t\tdelete tempCondition.timeLatest;\r\n\t\t\t\tif(tempCondition.class === \"SFDBLabel\"){\r\n\t\t\t\t\tconsole.log(\"Dealing with my thing...\");\r\n\t\t\t\t}\r\n\t\t\t\tvar results = sfdb.get(tempCondition, earlyTime, latestTime);\r\n\t\t\t\tif (results.length === 0) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// only do this if the next condition is defined, otherwise we're done!\r\n\t\t\t\t\tif(conditions[i+1] !== undefined) {\r\n\t\t\t\t\t\tconditions[i+1].timeLatest -= results[0].timeFoundOffset;\t// this offset is the time that the predicate was found\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// less the earliest time the get method started looking for it\r\n\t\t\t\t\tcontinue;\t\t\t\t\t\t\t\t\t\t\t\t\t\t// e.g. we are at time step 10, earliestTime = 4, so we began looking for\r\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// it at time step 6, found it at step 7, so 7-6 gives us an offset of 1\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// and we add 1 to it so we begin our next pass 1 step past step 7 (i.e. 8)\r\n\t\t\telse {\r\n\t\t\t\tvar tempCondition = util.clone(condition);\r\n\t\t\t\tvar orderNumber = tempCondition.order;\r\n\t\t\t\ttempCondition.order = -1;\t// let us know that we've already found this predicate to be ordered\r\n\t\t\t\torderedConditions[orderNumber] = tempCondition;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Here is where we should 'modify' this predicate based on certain default\r\n\t\t//assumptions. For example, a condition predicate that is a 'status' we\r\n\t\t//want to default to having the value true (right? Because that is the way more\r\n\t\t//more common case). There may be enough of these conventions that it should be\r\n\t\t//separated out into it's own file, but for now, let's just do the status thing.\r\n\t\t// TODO: change to default value here\r\n\t\tif(condition.value === undefined && sfdb.getRegisteredIsBoolean(condition) === true) {\r\n\t\t\t  //condition.value = sfdb.getRegisteredDefault(condition);\r\n\t\t\t  condition.value = true;\r\n\t\t}\r\n\t\t//condition.earliestTime and condition.latestTime mess up 'get', because things STORED in the\r\n\t\t//sfdb don't have earliest and latest times, so they don't match. delete them for now, and give them back\r\n\t\t//at the end of the function\r\n\t\tvar searchCondition = util.clone(condition);\r\n\t\tdelete searchCondition.timeEarliest;\r\n\t\tdelete searchCondition.timeLatest;\r\n\r\n\t\tvar results = sfdb.get(searchCondition, earlyTime, latestTime);\t//zeros signify currentTimeStep\r\n\r\n\r\n\t\t// If no match was found, this condition is false; so this\r\n\t\t// whole predicate must be false..\r\n\t\tif (results.length === 0) {\r\n\t\t\t// This check can be used to show why a trigger rule failed for a particular rule and character(s). In CiFBridge when runTriggerRules is called, add as a final param an object with key \"monitor\" and a value of the name of the rule to track.\r\n\t\t\tif (params && params.monitor === rule.name) {\r\n\t\t\t\tif (params.first && params.first !== condition.first) {\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (params.second && condition.second && params.second !== condition.second) {\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"***Failed rule '\" + rule.name + \"' because condition #\" + i + \" was not true in sfdb at earlyTime \" + earlyTime + \", latestTime \" + latestTime + \". searchCondition:\", searchCondition, \". results:\", results);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tif(orderedConditions.length > 0){\r\n\t\treturn evaluateConditions(orderedConditions);\r\n\t}\r\n\r\n\t//If we got here, that means that we want to return true -- all of the conditions checked out!\r\n\treturn true;\r\n};*/\r\n\r\n//TODO: Write a function comment block for this guy\r\n//TODO: Do we still use 'rule' and 'params' here!?!? Can we get rid of them!?!\r\nvar evaluateConditions = function (conditionsArray, rule, params) {\r\n\r\n\t// if(conditionsArray.length >= 3 && conditionsArray[2].class === \"SFDBLabel\" && conditionsArray[2].first === \"clara\" && conditionsArray[2].second === \"reggie\"){\r\n\t// \tconsole.log(\"match..\");\r\n\t// }\r\n\tvar sortedConditions = sortConditionsByOrder(conditionsArray);\r\n\tvar condition;\r\n\tvar orderCounter = - 9999;\r\n\tvar timeStart = 0;\r\n\tvar timeEnd = sfdb.getCurrentTimeStep();\r\n\tvar timeOfLastMatch = -1;\r\n\tvar currentTimeStep = timeEnd;\r\n\tvar results;\r\n\tfor (var i = 0; i < sortedConditions.length; i += 1) {\r\n\t\tcondition = sortedConditions[i];\r\n\t\tvar largerRelTime = 0;\r\n\t\tvar smallerRelTime = 0;\r\n\r\n\t\t//Let's do it with default time steps too! Our validator should have verified if this exists, it's a tuple of integers or special words ordered with the lowest first.\r\n\t\tif (condition.turnsAgoBetween !== undefined) {\r\n\t\t\tsmallerRelTime = condition.turnsAgoBetween[0];\r\n\t\t\tif (typeof smallerRelTime === \"string\") {\r\n\t\t\t\tif (smallerRelTime.toLowerCase() === \"now\") {\r\n\t\t\t\t\tsmallerRelTime = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse if (smallerRelTime.toLowerCase() === \"start\") {\r\n\t\t\t\t\tsmallerRelTime = currentTimeStep;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlargerRelTime = condition.turnsAgoBetween[1];\r\n\t\t\tif (typeof largerRelTime === \"string\") {\r\n\t\t\t\tif (largerRelTime.toLowerCase() === \"now\") {\r\n\t\t\t\t\tlargerRelTime = 0;\r\n\t\t\t\t}\r\n\t\t\t\telse if (largerRelTime.toLowerCase() === \"start\") {\r\n\t\t\t\t\tlargerRelTime = currentTimeStep;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// assert that the times are properly ordered.\r\n\t\tif (smallerRelTime > largerRelTime) {\r\n\t\t\tthrow new Error(\"found smallerRelTime \" + smallerRelTime + \" and largerRelTime \" + largerRelTime);\r\n\t\t}\r\n\r\n\t\t//TODO: This seems to be an attempt at the 'defualt values' note in the google doc, but it doesn't appear to be working.\r\n\t\t//For one thing, it isn't actually looking up a stored default value, it just assumes to be true.\r\n\t\t//Here is where we should 'modify' this predicate based on certain default\r\n\t\t//assumptions. For example, a condition predicate that is a 'status' we\r\n\t\t//want to default to having the value true (right? Because that is the way more\r\n\t\t//more common case). There may be enough of these conventions that it should be\r\n\t\t//separated out into it's own file, but for now, let's just do the status thing.\r\n\t\t// TODO: change to default value here\r\n\t\tif (condition.value === undefined && sfdb.getRegisteredIsBoolean(condition) === true) {\r\n\t\t\t//condition.value = sfdb.getRegisteredDefault(condition);\r\n\t\t\tcondition.value = true;\r\n\t\t}\r\n\r\n\t\t//condition.turnsAgoBetween mess up 'get', because things STORED in the\r\n\t\t//sfdb don't have earliest and latest times, so they don't match. delete them for now, and give them back\r\n\t\t//at the end of the function\r\n\t\tvar searchCondition = util.clone(condition);\r\n\t\tdelete searchCondition.turnsAgoBetween;\r\n\r\n\r\n\t\tif (searchCondition.order === undefined) {\r\n\t\t\t//Normal Evaluation.\r\n\t\t\tresults = sfdb.get(searchCondition, smallerRelTime, largerRelTime);\t//zeros signify currentTimeStep\r\n\t\t\t// If no match was found, this condition is false; so this\r\n\t\t\t// whole predicate must be false..\r\n\t\t\tif (results.length === 0) {\r\n\t\t\t\t//No results found! Must not be true!\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//Ordered Evaluation.\r\n\r\n\t\t\t//Check to see if we've entered a new order group (e.g. previously order was 0, now order is 1)\r\n\t\t\tif (searchCondition.order > orderCounter) {\r\n\t\t\t\t//we are in a new order group! -- might have to do a special check here for the 'first' time we get here.\r\n\t\t\t\ttimeStart = currentTimeStep - (timeOfLastMatch + 1);\r\n\t\t\t\ttimeEnd = smallerRelTime;\r\n\t\t\t\torderCounter = searchCondition.order;\r\n\t\t\t}\r\n\r\n\t\t\t//See if the window specified by the predicate affects where we are allowed to start.\r\n\t\t\tif (largerRelTime < timeStart) {\r\n\t\t\t\ttimeStart = largerRelTime;\r\n\t\t\t}\r\n\r\n\t\t\tif (smallerRelTime > timeEnd) {\r\n\t\t\t\ttimeEnd = smallerRelTime;\r\n\t\t\t}\r\n\r\n\t\t\tif (timeEnd > timeStart) {\r\n\t\t\t\treturn false; // the 'start point' is already PAST the acceptable end point, which means it is impossible for us to succeed.\r\n\t\t\t}\r\n\r\n\t\t\tresults = sfdb.get(searchCondition, timeEnd, timeStart);\r\n\r\n\t\t\tif (results.length === 0) {\r\n\t\t\t\t//No results found! Must not be true!\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//TODO: This may not actually work if multiple matches are found... write unit tests or something!\r\n\t\t\t//TODO: Changing 'timeHappened' doesn't seem to actually make any differences. OH WAIT, unless\r\n\t\t\t//it isn't actually updating!?!?! Ok it is. So, that means that I have no idea why one is working and the other isn't.\r\n\t\t\tif (results[0].timeHappened > timeOfLastMatch) {\r\n\t\t\t\ttimeOfLastMatch = results[0].timeHappened;\r\n\t\t\t\t//timeHappened -- the thing I added into set (what I think would work);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t//If we got here, that means that we want to return true -- all of the conditions checked out!\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * @function sortConditions\r\n * @description Given an array of predicates (ideally one from the condition of a rule) sorts them based on the value of their 'order' field. Not every predicate will have order specified; The returned array will have undefined order predicates first, followed by predicates with order in ascending order.\r\n * @private\r\n * @param  {[array]} conditions [An array filled with the condition predicates from a rule]\r\n * @return {[array]}            [The conditions sorted on the key \"order\" in ascending order (undefined orders will appear first in the array.)]\r\n */\r\nvar sortConditionsByOrder = function (conditions) {\r\n\tvar nonOrderConditions = [];\r\n\tvar orderConditions = [];\r\n\tvar sortedConditions = [];\r\n\tvar i;\r\n\t//Figure out which condition predicates have order specified, and which predicates do not.\r\n\t//TODO: This step may be extraneous, the _ sortBy function might get the job done automatically,\r\n\t//but this definitely ensures that the final array will be in the form we want. Look into removing this if need be.\r\n\tfor (i = 0; i < conditions.length; i += 1) {\r\n\t\tif (conditions[i].order === undefined) {\r\n\t\t\tnonOrderConditions.push(conditions[i]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\torderConditions.push(conditions[i]);\r\n\t\t}\r\n\t}\r\n\r\n\t//Sort the order conditions BY thier order.\r\n\t// orderConditions = _.sortBy(orderConditions, \"order\");\r\n\r\n\t//Make one super array! Orderless predicates come first, then order specified predicates.\r\n\tfor (i = 0; i < nonOrderConditions.length; i += 1) {\r\n\t\tsortedConditions.push(nonOrderConditions[i]);\r\n\t}\r\n\tfor (i = 0; i < orderConditions.length; i += 1) {\r\n\t\tsortedConditions.push(orderConditions[i]);\r\n\t}\r\n\r\n\treturn sortedConditions;\r\n};\r\n\r\n/**\r\n * A (smallish) array of characters to fill each needed role in a (condition) predicate is passed in,\r\n * and an array with these characters filling rolls is returned.\r\n *\r\n * @method doBinding\r\n * @memberof RuleLibrary\r\n * @param {Object} characters\ta dictionary of characters to bind to predicates\r\n * @param {Object} predicates\ta clone of the array of predicates that needs characters assigned to each of its roles\r\n * @return {Array} resultsArray an array of the conditions that have characters bound to their roles\r\n */\r\nvar doBinding = function (characters, predicates) {\r\n\tvar resultsArray = [];\t//array to hold our conditions that have characters bound to roles in each entry\r\n\tfor (var i = 0; i < predicates.length; i += 1) {\r\n\t\tvar predicate = predicates[i];\t// current predicate to consider\r\n\t\tpredicate.first = characters[predicate.first];\t// bind a character to the role that only had a place-holder\r\n\r\n\t\t//and do that same for the second role, if there is a second role to fill\r\n\t\tif (predicate.second !== undefined) {\r\n\t\t\tpredicate.second = characters[predicate.second];\r\n\t\t}\r\n\t\tresultsArray.push(predicate);\r\n\t}\r\n\treturn resultsArray;\r\n};\r\n\r\n/**\r\n * @description  Run the SFDB's appropriate trigger rules with a given cast. Trigger rules always run at the current timeStep.\r\n *\r\n * @method runTriggerRules\r\n * @memberof CiF\r\n * @param {Array} cast - the array of cast members\r\n * @param {Object} params - Debugging info to pass down the chain to runRules. Can be safely ignored.\r\n * @return {Object} An object representing the changes made to the social state as a result of running these trigger rules.\r\n */\r\nvar runTriggerRules = function (cast, params) {\r\n\t// Construct an array of fired trigger rules.\r\n\tvar triggerObj = {};\r\n\ttriggerObj.explanations = [];\r\n\ttriggerObj.effects = [];\r\n\ttriggerObj.inCharMsgs = [];\r\n\tvar explanation = \"\";\r\n\r\n\t//Construct a list of characteres to ignore.\r\n\t//For now, let's just say that it's the same as the eliminated characters\r\n\t//(we still want offstage characters to be involved, for the sake of\r\n\t//perfect information.)\r\n\t//Note -- we need to still be a little cautious, because there may be instances where\r\n\t//a trigger had two effects: one we want to run, and one that involves 'characters to ignore'\r\n\t//So we still need to do another check here!\r\n\tvar charactersToNotBeTheSubjectOrObjectOfTriggerRules = [];\r\n\tvar eliminatedCharacters = sfdb.getEliminatedCharacters();\r\n\tcharactersToNotBeTheSubjectOrObjectOfTriggerRules = util.clone(eliminatedCharacters);\r\n\r\n\r\n\tvar processRuleEffects = function (effect, conditions, rule, effectNumber, lastNumber) {\r\n\t\tif (effectNumber === 0) {\r\n\t\t\texplanation = \"TRIGGER RULE: Because \";\r\n\t\t\tfor (var i = 0; i < conditions.length; i++) {\r\n\t\t\t\texplanation += i + \") \" + predicateToEnglish(conditions[i]).text + (i + 1 === conditions.length ? \"\" : \" \");\r\n\t\t\t}\r\n\t\t\texplanation += \", now \";\r\n\t\t} else {\r\n\t\t\texplanation += \" and \";\r\n\t\t}\r\n\t\texplanation += predicateToEnglish(effect).text;\r\n\t\tif (isEffectValid(effect, charactersToNotBeTheSubjectOrObjectOfTriggerRules)) {\r\n\t\t\tsfdb.set(effect);\r\n\t\t\ttriggerObj.effects.push(effect);\r\n\t\t}\r\n\t\tif (effectNumber === lastNumber) {\r\n\t\t\ttriggerObj.inCharMsgs.push(rule.msg || \"I feel different...\");\r\n\t\t\ttriggerObj.explanations.push(explanation);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\trunRules(\"trigger\", cast, processRuleEffects, params, charactersToNotBeTheSubjectOrObjectOfTriggerRules);\r\n\r\n\treturn triggerObj;\r\n};\r\n\r\n/**\r\n * @function isEffectValid\r\n * @description When running trigger rules or calculating volitions, there is a chance that\r\n * it might involve characters that are offstage, eliminated, or that should otherwise be ignored.\r\n * This function does one final check to make sure that the effect in question doesn't include\r\n * any such characters.\r\n * @param  {[Object]} effect             [The effect. By this point, it should be bound with character names]\r\n * @param  {[Array]} charactersToIgnore [A list of characters that have been deemed to be ignored.]\r\n * @return {[Bool]}                    [Returns true if the effect is 'safe' to be set or used for volition. False otherwise.]\r\n */\r\nvar isEffectValid = function (effect, charactersToIgnore) {\r\n\tfor (var i = 0; i < charactersToIgnore.length; i += 1) {\r\n\t\tif (effect.first !== undefined) {\r\n\t\t\tif (effect.first === charactersToIgnore[i]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (effect.second !== undefined) {\r\n\t\t\tif (effect.second === charactersToIgnore[i]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * @description Calculate the volition of each character in the given cast, i.e determine all of their possible actions, and\r\n * how badly they want to do those actions (how much weight they have).\r\n *\r\n * @method calculateVolition\r\n * @memberof CiF\r\n * @param {Array} cast - an array of the cast of characters to calculate volition for\r\n * @return {Object} calculatedVolitions a dictionary containing the cast and their volitions\r\n */\r\nvar calculateVolition = function (cast) {\r\n\r\n\t// We punt most of the work of dealing with the volitions object to the Volitions module. More documentation is there. The object we get below is a dictionary with a [first][second] structure for every combination of cast pairs, with the contents initially an empty array which we will add volition predicates to.\r\n\tvar calculatedVolitions = volition.newSet(cast);\r\n\r\n\t//Not to be confused -- these characters are STILL\r\n\t//important in the cacluation process, we just don't\r\n\t//want THEIR volitions towards anyone, nor do we want\r\n\t//anyone's volitions towards them. Think \"offstage\"\r\n\t//in prom week.\r\n\t//In this case, it is as simple as taking everyone\r\n\t//from the offstage list and the eliminated list\r\n\t//and lumping them together here.\r\n\tvar charactersToSkipVolitionCalculation = [];\r\n\tvar offstageCharacters = sfdb.getOffstageCharacters();\r\n\tvar eliminatedCharacters = sfdb.getEliminatedCharacters();\r\n\tfor (var i = 0; i < offstageCharacters.length; i += 1) {\r\n\t\tif (charactersToSkipVolitionCalculation.indexOf(offstageCharacters[i]) === -1) {\r\n\t\t\tcharactersToSkipVolitionCalculation.push(offstageCharacters[i]);\r\n\t\t}\r\n\t}\r\n\tfor (i = 0; i < eliminatedCharacters.length; i += 1) {\r\n\t\tif (charactersToSkipVolitionCalculation.indexOf(eliminatedCharacters[i]) === -1) {\r\n\t\t\tcharactersToSkipVolitionCalculation.push(eliminatedCharacters[i]);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// The \"do the work\" function we'll pass down the recursion chain.\r\n\t// \"effect\" is a single effect predicate,\r\n\t// which should have these fields:\r\n\t//\r\n\t// \"first\": a character\r\n\t// \"second\"\r\n\t// \"class\": a class of abstract predicate (\"relationship\", \"trait\", etc.)\r\n\t// \"type\": The kind within that class (\"friend\", \"shy\", etc.)\r\n\t// \"weight\": The amount to adjust the weight up or down\r\n\t// \"intentDirection\": true or false, for a desire to adjust this network up\r\n\t// or down. (or to make true or false, for booleans).\r\n\tvar adjustWeight = function (effect, condition, rule) {\r\n\r\n\t\tvar result = util.clone(effect);\r\n\t\tvar skipToNextPredicate = false;\r\n\t\tdelete result.weight;\r\n\r\n\t\t//And now here we need to do one last check to make sure that a 'bad' effect\r\n\t\t//didn't hitch a ride with a 'good' effect.\r\n\t\t//That is to say: we don't want to adjust any volitions for or to people on our\r\n\t\t//'ignore' list.\r\n\t\tif (!isEffectValid(effect, charactersToSkipVolitionCalculation)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/*\r\n\t\tif(effect.first !== undefined && charactersToSkipVolitionCalculation.indexOf(effect.first) !== -1){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(effect.second !== undefined && charactersToSkipVolitionCalculation.indexOf(effect.second) !== -1){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t*/\r\n\t\t// loop through all of the effects in the calculatedVolitions that pertain to a particular pair of characters\r\n\t\t//ASK: (speed optimization) This definitely gets the job done, but it also seems like perhaps this loop is unnecessary?\r\n\t\t//Because we've parsed the blueprints, we know all of the potential types of intents there are. wouldn't\r\n\t\t//it be faster to simply dynamically construct all of the potential keys in the array ahead of time,\r\n\t\t//and then directly update/adjust the value at that spot in the array.\r\n\r\n\t\t//TODO: currently, adjustWeight cannot handle a situation where there is no second person in the effect. We might want to handle this.\r\n\t\tvar direction = sfdb.getRegisteredDirection(effect);\r\n\t\t//console.log(direction);\r\n\t\tif (effect.second === undefined) {\r\n\t\t\tif (direction === \"undirected\") {\r\n\t\t\t\t//ok, we are dealing with a situation where a character is attempting to adjust an undirected property.\r\n\t\t\t\t//Do this by making the 'second' character actually the first.\r\n\t\t\t\teffect.second = effect.first;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar lengthOfPairsEffectsArray = calculatedVolitions[effect.first][effect.second].length;\r\n\t\tfor (var i = 0; i <= lengthOfPairsEffectsArray; i += 1) {\r\n\r\n\t\t\t// we haven't found this effect in the array yet,\r\n\t\t\t// and we are at its end, so make one and insert it\r\n\t\t\tif (i === lengthOfPairsEffectsArray) {\r\n\r\n\t\t\t\tresult.weight = 0;\r\n\t\t\t\tresult.weight += effect.weight;\r\n\t\t\t\tresult.englishInfluences = [];\r\n\r\n\t\t\t\t//Store stuff for rule 'diagnostics' -- we can see where a rule came from, and why this rule fired,\r\n\t\t\t\t//and how much influence it had over this particular volition\r\n\t\t\t\tvar englishData = [];\r\n\t\t\t\tvar englishInfluence = predicateArrayToEnglish(condition);\r\n\t\t\t\tenglishData[\"englishRule\"] = englishInfluence;\r\n\t\t\t\tenglishData[\"ruleName\"] = rule.name;\r\n\t\t\t\tenglishData[\"weight\"] = result.weight;\r\n\t\t\t\tenglishData[\"origin\"] = rule.origin;\r\n\t\t\t\tresult.englishInfluences.push(englishData);\r\n\r\n\t\t\t\tcalculatedVolitions[effect.first][effect.second].push(result);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar currentVolition = calculatedVolitions[effect.first][effect.second][i];\r\n\t\t\tfor (var key in result) {\r\n\t\t\t\tif (key === \"englishInfluences\") {\r\n\t\t\t\t\tcontinue; // ignore this key.\r\n\t\t\t\t}\r\n\t\t\t\tif (result[key] !== currentVolition[key]) {\r\n\t\t\t\t\tskipToNextPredicate = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (skipToNextPredicate === true) {\r\n\t\t\t\tskipToNextPredicate = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse {\t\t// found the effect that needs to be updated\r\n\t\t\t\tcurrentVolition.weight += effect.weight;\r\n\r\n\t\t\t\tvar englishData = [];\r\n\t\t\t\tvar englishInfluence = predicateArrayToEnglish(condition);\r\n\t\t\t\tenglishData[\"englishRule\"] = englishInfluence;\r\n\t\t\t\tenglishData[\"ruleName\"] = rule.name;\r\n\t\t\t\tenglishData[\"weight\"] = effect.weight;\r\n\t\t\t\tenglishData[\"origin\"] = rule.origin;\r\n\r\n\t\t\t\tcurrentVolition.englishInfluences.push(englishData);\r\n\r\n\t\t\t\t//Ok! And now let's actually sort the english influences based on the weight\r\n\t\t\t\t//so most important comes first!\r\n\t\t\t\tcurrentVolition.englishInfluences.sort(function (a, b) {\r\n\t\t\t\t\treturn (a[\"weight\"] < b[\"weight\"]) ? 1 : ((b[\"weight\"] < a[\"weight\"]) ? -1 : 0);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\t// there will only be one unique effect to update, so we are done; break out of the loop\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar params = {}; // TODO: Remove params from runRules entirely?\r\n\r\n\r\n\trunRules(\"volition\", cast, adjustWeight, params, charactersToSkipVolitionCalculation);\r\n\r\n\t// volition.register will sort the volitions and create an interface into this set, which we label \"main\".\r\n\t// TODO: if multiple volition sets are needed at some point (perhaps to calculate just-in-time volitions,\r\n\t// or a separate set for off-stage characters), this should be refactored so a key is passed into this function.\r\n\treturn volition.register(\"main\", calculatedVolitions);\r\n};\r\n\r\n/**\r\n * @description Stores a set of rules in the appropriate spot in the rules library. NOTE That this should only be used internally, not by unit tests or the public, since it skips data validation steps.\r\n * Additive\r\n *\r\n * @method addRuleSet\r\n * @memberof RuleLibrary\r\n * @param {String} key The identifier for this set of rules.\r\n * @param {Array} set The array containing the rule object definitions.\r\n */\r\nvar addRuleSet = function (key, set) {\r\n\tif (ruleIndexes[key] === undefined) {\r\n\t\truleIndexes[key] = {};\r\n\t}\r\n\tfor (var i = 0; i < set.length; i++) {\r\n\t\tif (isRuleAlreadyInRuleSet(key, set[i])) {\r\n\t\t\tconsole.log(\"ERROR! You are adding the rule \" + predicateToEnglish(set[i]).text + \" (from \" + set[i].origin + \") but that rule already was written!\", set[i]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\taddRule(key, set[i]);\r\n\r\n\t\t\t// Set up a cross-reference so we can look up rules by ID.\r\n\t\t\tvar rule = set[i];\r\n\t\t\tif (rule.id) {\r\n\t\t\t\tvar lastPos = ruleLibrary[key].length - 1;\r\n\t\t\t\truleIndexes[key][rule.id] = lastPos;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar ruleIndexes = {};\r\n\r\n/**\r\n * @descriptionStores a new rule in the appropriate key in last spot in the rules library.\r\n * @method addRule\r\n * @memberof RuleLibrary\r\n * @param {String} key The identifier for this set of rules.\r\n * @param {Object} rule The object containing the rule definition to add.\r\n */\r\nvar addRule = function (key, rule) {\r\n\tif (ruleLibrary[key] === undefined) {\r\n\t\truleLibrary[key] = [];\r\n\t}\r\n\truleLibrary[key].push(rule);\r\n};\r\n\r\n/**\r\n * @method isRuleAlreadyInRuleSet\r\n * @memberof RuleLibrary\r\n *\r\n * This function takes in a key for a rule set (e.g. \"volition\" or \"trigger\") and a rule,\r\n * and checks to see if that rule already exists inside of the specified rule set. If it does\r\n * it will return a clone of the found rule. If it does not, it will return false.\r\n *\r\n * ASSUMES THAT rules, when parsed in, have their predicates sorted in some way for consistency!!!!\r\n * TODO: Make it so that rules get their predicates sorted when parsed in OR make this function not care about ordering.\r\n *\r\n * @param {String} key the identfier for this set of rules.\r\n * @param {Object} rule the rule that we are checking to see if it already exists in the rule library\r\n *\r\n * @return if the rule already exists in the rule set, returns a copy of that rule. Otherwise returns false.\r\n */\r\nvar isRuleAlreadyInRuleSet = function (key, rule) {\r\n\t//Let's loop through all of the rules at this spot in the ruleLibrary, and see if this rule already lives inside of it.\r\n\tvar storedRule;\r\n\tvar couldBeDuplicateRule = true;\r\n\tif (ruleLibrary[key] !== undefined) { //only want to do this if we're dealing with a defined key!\r\n\t\tfor (var i = 0; i < ruleLibrary[key].length; i += 1) {\r\n\t\t\tstoredRule = ruleLibrary[key][i];\r\n\t\t\tif (areRulesEqual(storedRule, rule) === true) {\r\n\t\t\t\t//oh oh, we in fact already have this rule in the rule set! return true\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//if we made it to this point, it must mean that the rule is not already in the rule set!\r\n\treturn false;\r\n};\r\n\r\n/**\r\n * @method arePredicatesEqual\r\n * @memberof RuleLibrary\r\n *\r\n * @description Given two predicates, check to see if they are equal to each other. It is difficult to tell if predicates\r\n * are equal to each other, because depending on the context, different predicates will have different fields\r\n * specified. For example, the \"weight\" field will only ever be in an effect predicate. Moreover, it will only\r\n * ever be in an effect predicate in a VOLITION rule; a trigger rule won't have a weight.' This function essentially\r\n * goes through each one of these fields, and checks to see if they are the same for both of the predicates. If they\r\n * are, then return true. If not, return false.\r\n *\r\n *\r\n * @param {Object} pred1 One of the two predicates we are testing for equality.\r\n * @param {Object} pred2 The second of the two predicates we are testing for equality.\r\n * @return true if pred1 and pred2 are equal. False otherwise.\r\n */\r\nvar arePredicatesEqual = function (pred1, pred2) {\r\n\r\n\t//first simple test! do these two guys have the same number of attributes?\r\n\t//If not, then heck, we know they are definitely not equal.\r\n\tif (pred1.length !== pred2.length) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//ok, we now know that they have the same number of attributes.\r\n\t//I think now it is actually a pretty simple task of looping thorugh these attributes\r\n\t//and comparing them to each other!\r\n\r\n\tfor (var key in pred1) {\r\n\t\tif (util.isArray(pred1[key]) && util.isArray(pred2[key])) {\r\n\t\t\t// Technically, we should compare each array value; but for now, the only field that can be an array is turnsAgoBetween, and we'll ignore that for now. (Complex b/c tuple keys could be in diff. order and still be considered equal, 0 === \"NOW\", etc.)\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (pred1[key] !== pred2[key]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\n/*\r\n * @method areRulesEqual\r\n * @memberof RuleLibrary\r\n *\r\n * @description This method is given two rules to compare if they are 'equal' to each other. equal,\r\n * for purposes of this method, means that all of the predicates of these two rules match.\r\n * Right now, this function ASSUMES that the ORDERING of the predicates is uniform. However\r\n * that is a potentially dangerous assumption, unless we implement some form of pre-processing that\r\n * helps with the ordering.\r\n * TODO: Do we want to enforce an ordering? Or change this function to be a little more robust?\r\n *\r\n * @param {object} rule1 one of the two rules we are comparing\r\n * @param{object} rule2 the second of the two rules we are comparing\r\n * @return true if the two rules are equal, false if otherwise.\r\n */\r\nvar areRulesEqual = function (rule1, rule2) {\r\n\r\n\t//first, let's do the easy check to see if the lengths of the conditions and/or effects are different.\r\n\t//Made, I suppose, a little more complicated because some rules might not have conditions or effects specified.\r\n\tif (rule1.conditions === undefined && rule2.conditions !== undefined ||\r\n\t\trule1.conditions !== undefined && rule2.conditions === undefined) {\r\n\t\t//one of these rule has a condition set, adn the other one doesn't. not equal! return false!\r\n\t\treturn false;\r\n\t}\r\n\tif (rule1.effects === undefined && rule2.effects !== undefined ||\r\n\t\trule1.effects !== undefined && rule2.effects === undefined) {\r\n\t\t//one of these rules has an effect and the other one doesn't. not equal return false!'\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//Ok, if we've gotten here, let's start stepping through the conditions one by one.\r\n\tif (rule1.conditions !== undefined && rule2.conditions !== undefined) {\r\n\t\tif (rule1.conditions.length !== rule2.conditions.length) {\r\n\t\t\treturn false; // they had a different number of conditions! Must be different!\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//the conditions are the same length, great!\r\n\t\t\tfor (var i = 0; i < rule1.conditions.length; i += 1) {\r\n\t\t\t\tvar result = arePredicatesEqual(rule1.conditions[i], rule2.conditions[i]);\r\n\t\t\t\tif (result !== true) {\r\n\t\t\t\t\t//This means that there was a difference between the two rules! Let's return false!\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//And now, let's loop through all of the effects!\r\n\tif (rule1.effects !== undefined && rule2.effects !== undefined) {\r\n\t\tif (rule1.effects.length !== rule2.effects.length) {\r\n\t\t\treturn false; // they had a different number of effects! Must be different!\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//The effects are the same length, great!\r\n\t\t\tfor (var j = 0; j < rule1.effects.length; j += 1) {\r\n\t\t\t\tresult = arePredicatesEqual(rule1.effects[j], rule2.effects[j]);\r\n\t\t\t\tif (result !== true) {\r\n\t\t\t\t\t//This means that the two rules have a different effect. Let's return false!\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//If we've gotten to this point, it must mean that the two rules are identical!\r\n\treturn true;\r\n};\r\n\r\nvar ruleToEnglish = function (rule) {\r\n\tvar returnString = \"If: \";\r\n\treturnString += predicateArrayToEnglish(rule.conditions, false);\r\n\treturnString += \", Then: \";\r\n\treturnString += predicateArrayToEnglish(rule.effects, true);\r\n\treturn returnString;\r\n};\r\n\r\n\r\n\r\nvar predicateArrayToEnglish = function (conditions, isEffect) {\r\n\tvar returnString = \"\";\r\n\tfor (var i = 0; i < conditions.length; i += 1) {\r\n\t\tif (i >= 1) {\r\n\t\t\treturnString += \", and \";\r\n\t\t}\r\n\t\treturnString += predicateToEnglish(conditions[i]).text;\r\n\t}\r\n\treturn returnString;\r\n};\r\n\r\n/**\r\n * Turns a predicate into an English language definition.\r\n *\r\n * @param  {[type]}  realPredicate\r\n *\r\n * @return {[type]}\r\n */\r\nvar predicateToEnglish = function (pred) {\r\n\tvar result = [];\r\n\tvar addPhrase = function (text, label, optMeta) {\r\n\t\tvar ph = {};\r\n\t\tph.text = text;\r\n\t\tph.label = label || \"\";\r\n\t\tif (optMeta !== undefined) {\r\n\t\t\tph.meta = optMeta;\r\n\t\t}\r\n\t\tresult.push(ph);\r\n\t}\r\n\r\n\tif (pred.name || pred.first === undefined) {\r\n\t\t// For complicated predicates, for now just return the human-authored rule name.\r\n\t\tvar o = {};\r\n\t\to.text = pred.name;\r\n\t\treturn o;\r\n\t}\r\n\r\n\tvar isBoolean = sfdb.getRegisteredIsBoolean(pred);\r\n\tvar directionType = sfdb.getRegisteredDirection(pred);\r\n\tvar duration = sfdb.getRegisteredDuration(pred);\r\n\tvar isPersistent = (duration !== 0) ? true : false;\r\n\r\n\tvar nameFirst = pred.first;\r\n\tvar nameSecond = pred.second !== undefined ? pred.second : \"\";\r\n\r\n\tvar predType = \"fact\";\r\n\tif (pred.operator && [\"+\", \"-\"].indexOf(pred.operator) >= 0) {\r\n\t\tpredType = \"change\";\r\n\t}\r\n\tif (pred.operator && [\">\", \"<\", \"=\"].indexOf(pred.operator) >= 0) {\r\n\t\tpredType = \"compare\"\r\n\t}\r\n\tif (pred.weight !== undefined) {\r\n\t\tpredType = \"volition\"\r\n\t}\r\n\r\n\tvar isWord = (pred.turnsAgoBetween !== undefined) ? \"was\" : \"is\";\r\n\tvar notWord = (pred.value === false ? \" not\" : \"\")\r\n\tvar hasWord = (pred.timeLatest !== undefined && pred.timeLatest > 0) ? \"had\" : \"has\";\r\n\tvar directionWord;\r\n\tswitch (pred.operator) {\r\n\t\tcase \"+\": directionWord = \"more\"; break;\r\n\t\tcase \">\": directionWord = \"more than\"; break;\r\n\t\tcase \"-\": directionWord = \"less\"; break;\r\n\t\tcase \"<\": directionWord = \"less than\"; break;\r\n\t\tdefault: directionWord = \"exactly\"; break;\r\n\t}\r\n\t// var directionWord = (pred.operator !== undefined && [\"+\", \">\"].indexOf(pred.operator) >= 0) ? \"more\" : \"less\";\r\n\t// directionWord\r\n\tif (pred.weight !== undefined) {\r\n\t\tdirectionWord = pred.weight >= 0 ? \"more\" : \"less\";\r\n\t}\r\n\r\n\tif (predType === \"fact\" || predType === \"compare\") {\r\n\t\taddPhrase(nameFirst, \"first\");\r\n\t\tif (!isPersistent) {\r\n\t\t\tvar didWord = (pred.value === true || pred.value === undefined ? \"did\" : \"did not do\");\r\n\t\t\taddPhrase(didWord, \"beVerb\");\r\n\t\t\taddPhrase(\"something\");\r\n\t\t}\r\n\t\telse if (isBoolean) {\r\n\t\t\taddPhrase(isWord + notWord, \"beVerb\");\r\n\t\t} else {\r\n\t\t\taddPhrase(hasWord);\r\n\t\t\taddPhrase(directionWord, \"direction\");\r\n\t\t\taddPhrase(pred.value, \"value\");\r\n\t\t}\r\n\t}\r\n\tif (predType === \"change\") {\r\n\t\taddPhrase(nameFirst, \"first\");\r\n\t\taddPhrase(hasWord);\r\n\t\taddPhrase(pred.value, \"value\");\r\n\t\taddPhrase(directionWord, \"direction\");\r\n\t}\r\n\tif (predType === \"volition\") {\r\n\t\tvar intentWord = pred.intentDirection === true ? \"become\" : \"stop being\";\r\n\t\tif (!isBoolean) {\r\n\t\t\tintentWord = pred.intentDirection === true ? \"increase\" : \"decrease\";\r\n\t\t}\r\n\t\taddPhrase(nameFirst, \"first\");\r\n\t\taddPhrase(hasWord, \"beVerb\");\r\n\t\taddPhrase(directionWord, \"..\");\r\n\t\taddPhrase(\"volition\");\r\n\t\tvar sign = pred.weight >= 0 ? \"+\" : \"\";\r\n\t\taddPhrase(\"(\");\r\n\t\taddPhrase(sign + pred.weight, \"weight\");\r\n\t\taddPhrase(\")\");\r\n\t\taddPhrase(\"to\");\r\n\t\taddPhrase(intentWord, \"intentDirection\");\r\n\t}\r\n\r\n\taddPhrase(pred.type, \"type\", pred.class);\r\n\r\n\tif (directionType !== \"undirected\") {\r\n\t\tvar helper = \"\";\r\n\t\tif (!isPersistent) {\r\n\t\t\thelper = \"to\";\r\n\t\t} else if (!isBoolean) {\r\n\t\t\thelper = \"for\";\r\n\t\t}\r\n\t\taddPhrase(helper);\r\n\t\taddPhrase(nameSecond, \"second\");\r\n\t}\r\n\r\n\t// Assemble the result object. Generate the single string of text by turning\r\n\t// our array of objects into an array of texts, then filtering any empty\r\n\t// texts from the array, then putting a space between each element to make a\r\n\t// string.\r\n\tvar resultObj = {};\r\n\tresultObj.diagram = result;\r\n\tresultObj.text = result.map(function (r) { return r.text; })\r\n\t\t.filter(function (n) { return n !== \"\"; })\r\n\t\t.join(\" \");\r\n\r\n\treturn resultObj;\r\n\r\n};\r\n\r\n/**\r\n * @method getTriggerRules\r\n * @memberof RuleLibrary\r\n *\r\n * @description returns an array containing all of the rules currently residing in the ruleLibrary triggerRules array.\r\n * TODO: Write Unit Tests for this\r\n *\r\n * @return {array} an array of rules representing the ruleLibrary's current collection of triggerRules\r\n */\r\nvar getTriggerRules = function () {\r\n\tif (ruleLibrary.trigger) {\r\n\t\treturn util.clone(ruleLibrary.trigger);\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n};\r\n\r\n/**\r\n * @method getVolitionRules\r\n * @memberof RuleLibrary\r\n *\r\n * @description Returns an array containing all of the rules currently residing in the ruleLibrary volitionRules array.\r\n * TODO: Write Unit Tests for this\r\n *\r\n * @return {array} an array of rules representing the ruleLibrary's current collection of volitionRules\r\n */\r\nvar getVolitionRules = function () {\r\n\tif (ruleLibrary.volition) {\r\n\t\treturn util.clone(ruleLibrary.volition);\r\n\t} else {\r\n\t\treturn [];\r\n\t}\r\n};\r\n\r\n/**\r\n * @method getRuleSet\r\n * @memberof RuleLibrary\r\n *\r\n * @description Returns an array containing all of the rules currently residing in the rule set denoted by the label argument.\r\n * TODO: Write Unit Tests for this\r\n *\r\n * @param {string} The label of the ruleSet to retrieve.\r\n * @return {array} an array of rules comprising the rule set with the label of the label parameter.\r\n */\r\nvar getRuleSet = function (label) {\r\n\tif (ruleLibrary[label] === undefined) {\r\n\t\tconsole.log(\"RuleLibrary.getRuleSet(\" + label + \") could not find a rule set with the label \" + label);\r\n\t\treturn [];\r\n\t} else {\r\n\t\treturn ruleLibrary[label];\r\n\t}\r\n};\r\n\r\n// Internal function used to both get and set rules by id: in both cases, first validates that the requested rule exists, before carrying out the relevant operation.\r\nvar _alterRule = function (label, rule) {\r\n\tvar ruleSet = label.substring(0, label.lastIndexOf(\"_\"));\r\n\tvar id = label.substring(label.lastIndexOf(\"_\") + 1, label.length);\r\n\t// var labelParts = label.split(\"_\");\r\n\t// var ruleSet = labelParts[0];\r\n\t// var id = labelParts[1];\r\n\r\n\tvar rl = ruleLibrary[ruleSet];\r\n\tif (rl === undefined) {\r\n\t\tconsole.log(\"ruleLibrary[\" + ruleSet + \"] was undefined.\");\r\n\t\treturn false;\r\n\t}\r\n\tvar pos = ruleIndexes[ruleSet][label];\r\n\tif (pos === undefined) {\r\n\t\tconsole.log(\"ruleIndexes\", ruleIndexes);\r\n\t\tconsole.log(\"ruleIndexes[\" + ruleSet + \"][\" + id + \"] was undefined.\");\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (rule === undefined) {\r\n\t\t// Get\r\n\t\treturn util.clone(ruleLibrary[ruleSet][pos]);\r\n\t} else if (typeof rule === \"boolean\") {\r\n\t\t// Delete\r\n\t\t// ruleIndexes is a dictionary with keys for each rule id, and values of its position in the corresponding rulesLibrary array. Splicing a rule from the middle of the array would cause all the ruleIndex position numbers to be wrong. Instead, we move the last rule in the library into the position of the one we're deleting and shorten its length by one, updating the index accordingly: this lets all other positions remain unchanged.\r\n\r\n\t\tvar lib = ruleLibrary[ruleSet];\r\n\t\tvar ind = ruleIndexes[ruleSet];\r\n\t\tvar posOfDyingRule = ind[label];\r\n\t\tvar posOfFinalRule = lib.length - 1;\r\n\t\tvar finalRuleId = lib[posOfFinalRule].id;\r\n\r\n\t\t// Replace the rule we're deleting with the final rule in the library.\r\n\t\tlib[posOfDyingRule] = lib[posOfFinalRule];\r\n\t\tlib.length = lib.length - 1;\r\n\r\n\t\t// Remove the old rule's key in the index, and update the index  for the moved rule to the position of the old.\r\n\t\tdelete ind[label];\r\n\t\tind[finalRuleId] = posOfDyingRule;\r\n\r\n\t\treturn true;\r\n\t} else {\r\n\t\t// Set\r\n\t\truleLibrary[ruleSet][pos] = util.clone(rule);\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n/**\r\n * @method getRuleById\r\n * @memberof RuleLibrary\r\n * @private\r\n *\r\n * @description When given an ID in the format \"ruleSetName_number\", returns the rule with the corresponding ID. Rules are automatically be given a unique ID in this format when added via normal channels. Return false if no such rule can be found.\r\n *\r\n * \t@param {String} label  The ID, such as \"triggerRules_14\"\r\n *\r\n * @return {Object}\ta copy of the requested rule, or false if no such rule could be found.\r\n */\r\nvar getRuleById = function (label) {\r\n\treturn _alterRule(label);\r\n}\r\n\r\n/**\r\n * @method setRuleById\r\n * @memberof RuleLibrary\r\n * @private\r\n *\r\n * @description When given an ID in the format \"ruleSetName_number\", and a rule object, updates the rule with this ID in CiF's internal store of loaded rules. NOTE: This is not a public-facing function, since it does no validation on the rule to be added. Instead use cif.setRuleById.\r\n *\r\n * \t@param {String} label  The ID, such as \"triggerRules_14\"\r\n * \t@param {Object} rule  An object representing a valid rule for the given rule set.\r\n *\r\n * @return {Boolean}\ttrue if the rule was successfully updated, false otherwise.\r\n */\r\nvar setRuleById = function (label, rule) {\r\n\treturn _alterRule(label, rule);\r\n}\r\n\r\n/**\r\n * @method deleteRuleById\r\n * @memberof RuleLibrary\r\n * @private\r\n *\r\n * @description When given an ID in the format \"ruleSetName_number\", deletes the rule with the corresponding ID. Rules are automatically be given a unique ID in this format when added via normal channels. Return false if no such rule can be found.\r\n *\r\n * \t@param {String} label  The ID, such as \"triggerRules_14\"\r\n *\r\n * @return {Object}\ttrue if the operation is successful, false otherwise.\r\n */\r\nvar deleteRuleById = function (label) {\r\n\treturn _alterRule(label, true);\r\n}\r\n\r\nvar clearRuleLibrary = function () {\r\n\truleLibrary = {};\r\n\truleIndexes = {};\r\n\truleLibrary.trigger = [];\r\n\truleLibrary.volition = [];\r\n\tutil.resetIterator(\"rules\");\r\n}\r\n\r\nvar ruleLibraryInterface = {\r\n\r\n\tpredicateToEnglish: predicateToEnglish,\r\n\tpredicateArrayToEnglish: predicateArrayToEnglish,\r\n\trunTriggerRules: runTriggerRules,\r\n\tcalculateVolition: calculateVolition,\r\n\taddRuleSet: addRuleSet,\r\n\truleToEnglish: ruleToEnglish,\r\n\tgetRuleSetNames: getRuleSetNames,\r\n\r\n\tgetTriggerRules: getTriggerRules,\r\n\tgetVolitionRules: getVolitionRules,\r\n\tgetRuleSet: getRuleSet,\r\n\tgetRuleById: getRuleById,\r\n\tsetRuleById: setRuleById,\r\n\tdeleteRuleById: deleteRuleById,\r\n\r\n\tclearRuleLibrary: clearRuleLibrary\r\n};\r\n\r\n/* test-code */\r\nruleLibraryInterface.getUniqueBindings = getUniqueBindings;\r\nruleLibraryInterface.matchUniqueBindings = matchUniqueBindings;\r\nruleLibraryInterface.doBinding = doBinding;\r\nruleLibraryInterface.evaluateConditions = evaluateConditions;\r\nruleLibraryInterface.arePredicatesEqual = arePredicatesEqual;\r\nruleLibraryInterface.areRulesEqual = areRulesEqual;\r\nruleLibraryInterface.isRuleAlreadyInRuleSet = isRuleAlreadyInRuleSet;\r\nruleLibraryInterface.sortConditionsByOrder = sortConditionsByOrder;\r\n/* end-test-code */\r\n\r\nexport default ruleLibraryInterface;","import React, { useState } from 'react';\nimport './Selector.css';\n\nconst CharacterSelector = ({ characters, onSelectButtonClicked, disabledCharacter }) => {\n  const [selectedCharacter, setSelectedCharacter] = useState(null);\n\n  const handleSelect = (index) => {\n    setSelectedCharacter(index);\n    onSelectButtonClicked(characters[index]);\n  };\n\n  return (\n    <div className=\"selector-container\">\n      {characters.map((character, index) => (\n        <button\n          key={index}\n          onClick={() => handleSelect(index)}\n          disabled={character.name === disabledCharacter?.name}\n          className={`selector-button ${selectedCharacter === index ? 'selected' : ''} ${character.name === disabledCharacter?.name ? 'disabled' : ''}`}\n        >\n          {character.name}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default CharacterSelector;\n\n","import React, { useState } from 'react';\nimport './Selector.css';\n\nconst PracticeSelector = ({ practices, onSelectPractice }) => {\n  const [selectedPractice, setSelectedPractice] = useState(null);\n\n  const handleSelect = (index, practice) => {\n    setSelectedPractice(index);\n    onSelectPractice(practice.label);\n  };\n\n  return (\n    <div className=\"selector-container\">\n      {practices.map((practice, index) => (\n        <button\n          key={index}\n          onClick={() => handleSelect(index, practice)}\n          className={`selector-button ${selectedPractice === index ? 'selected' : ''}`}\n        >\n          {practice.label}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default PracticeSelector; ","import React from 'react';\nimport CharacterSelector from './CharacterSelector';\nimport PracticeSelector from './PracticeSelector';\n\nconst SelectPracticeView = ({ \n  initiator, setInitiator, \n  responder, setResponder, \n  selectedPractice, setSelectedPractice,\n  handlePracticeStart,\n  rawCast,\n  rawPractices \n}) => {\n  return (\n    <>\n      <h1>Create an Interaction</h1>\n      <div className=\"character-grid\">\n        <div className=\"selector-column\">\n          <h3>Initiator</h3>\n          <CharacterSelector \n            characters={rawCast.characters}\n            onSelectButtonClicked={setInitiator}\n            disabledCharacter={responder}\n          />\n          {initiator && (\n            <div className=\"selected-text\">\n              Selected: {initiator.name}\n            </div>\n          )}\n        </div>\n\n        <div className=\"selector-column\">\n          <h3>Responder</h3>\n          <CharacterSelector \n            characters={rawCast.characters}\n            onSelectButtonClicked={setResponder}\n            disabledCharacter={initiator}\n          />\n          {responder && (\n            <div className=\"selected-text\">\n              Selected: {responder.name}\n            </div>\n          )}\n        </div>\n\n        <div className=\"selector-column\">\n          <h3>Social Practice</h3>\n          <PracticeSelector \n            practices={rawPractices.socialPractices}\n            onSelectPractice={setSelectedPractice}\n          />\n          {selectedPractice && (\n            <div className=\"selected-text\">\n              Selected: {selectedPractice}\n            </div>\n          )}\n        </div>\n\n        <div className=\"interaction-column selector-column\">\n          <h3>&nbsp;</h3>\n          <button \n            onClick={handlePracticeStart}\n            className=\"start-button\"\n            disabled={!initiator || !responder || !selectedPractice}\n          >\n            Start Interaction\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SelectPracticeView; ","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/game615-spring2025/practice-demo/\";","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(812);\n"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","prefix","suffix","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","assign","Object","describeBuiltInComponentFrame","Error","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","prototype","set","Reflect","control","call","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","value","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","message","getNearestMountedFiber","nearestMounted","alternate","flags","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","child","sibling","isArrayImpl","Array","isArray","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","canUseDOM","document","createElement","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","test","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","min","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","error","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","then","isThenableResolved","thenable","status","noop$3","trackUsedThenable","thenableState","reason","workInProgressRoot","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","ref","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","init","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","mode","updateElement","elementType","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","implementation","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","forEach","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","state","revealOrder","AbortControllerLocal","AbortController","signal","aborted","listener","abort","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","S","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","Component","secondArg","nextRenderLanes","updateQueue","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","readContext","useMemoCache","size","map","array","basicStateReducer","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","create","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","callback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useCacheRefresh","useFormState","useActionState","useOptimistic","initialArg","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","isMounted","component","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$67","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$68","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","updater","refs","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","rel","crossOrigin","title","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","appendChild","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","content","property","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","display","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","media","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","isReactComponent","resetWorkInProgress","owner","fiberTag","hostContext","itemProp","precedence","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","apply","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","priorityLevel","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","styles$242","resource$243","integrity","hrefLang","referrerPolicy","preloadProps","preloadStylesheet","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","Game","initiator","setInitiator","responder","setResponder","selectedPractice","setSelectedPractice","isInteractionStarted","setIsInteractionStarted","currentView","setCurrentView","actions","setActions","currentPerformanceInfo","setCurrentPerformanceInfo","isLoading","setIsLoading","isContinueLoading","setIsContinueLoading","actionLabel","setActionLabel","isTerminal","setIsTerminal","handlePracticeStart","cifInterface","alert","handleActionSelected","actionPerformedInfo","terminal","tmp","handleChooseNextInteraction","handlePracticeSelected","practice","_jsx","className","getCurrentView","PracticeView","onActionSelected","performanceInfo","chosenAction","volitionInfoAsStrings","_cifInterface$mostRec","onChooseNextInteraction","SelectPracticeView","rawCast","rawPractices","AUNLG","dataDelimiter","practiceRecord","currentPracticeLabel","currentStageLabel","currentActionLabel","LiteralLocution","pRawDialogue","rawText","renderText","pCharacterRole","pBindings","undefined","CharacterLocution","pRawOption","parseLocutionData","getCharacterData","charAt","CharacterValueLocution","pCharacterKey","role","charDataLabel","GenderedLocution","splitChoices","maleChoice","femaleChoice","nonBinaryChoice","characterData","genderIdentity","RandomLocution","choices","randomNumber","floor","RepeatVariationLocution","recordIndex","updatePracticeRecord","decrementPracticeRecord","setCurrentPracticeStateInfo","plabel","slabel","alabel","SpecializedLocution","pToken","specializedWord","specialWord","specialWords","cast","cif","getCharactersWithMetadata","characterName","_i","cast_1","character","pRawData","pDelim","dataValue","allValues","isSpaceValid","theChar","preprocessDialogue","LocType","token","currentType","LITERAL","locutionList","createLocution","trimType","pSource","pTypeString","trimmed","NONLITERAL","loc","App","API_KEY","whichGeneratorAPI","ollamaModel","promptStyle","emphasisSymbolStart","emphasisSymbolEnd","config_modes","minimal","personify","shots","generalContext","interactionHistory","previousDialogue","speakerAndIntent","preconditions","nowRules","mtWithPositiveWeight","mtWithNegativeWeight","mtWithPositiveWeightOtherIntents","mtWithNegativeWeightOtherIntents","actionName","effects","playerFocusedDialogue","speechStyle","knowledgeOfNames","pronouns","characterNotes","plead","noteToLLM","avoidStiltedness","genre","requestToLLM","emphasisPriority","diegetic","instructions","emphasis","promptConfig","include","emphasize","importance","order","useTag","telegraphExamples","rationale","eligibleForTag","exampleShots","prompt","response","getGeneratedText","getGeminiText","getOllamaText","genAI","GoogleGenerativeAI","safetySettings","category","HarmCategory","HARM_CATEGORY_HARASSMENT","threshold","HarmBlockThreshold","BLOCK_ONLY_HIGH","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_DANGEROUS_CONTENT","model","getGenerativeModel","generationConfig","maxOutputTokens","gotGoodText","generateContent","query","stream","fetch","JSON","stringify","json","generatePrompt","config","initiatorName","responderName","subPrompts","relevantPracticeSummaries","practiceManager","getRelevantPracticeSummaries","bindings","selectedAction","chosenRoleBindings","getCurrentPractice","subPrompt","exampleCount","getExampleShotSubPrompt","label","processSubPrompt","summary","first","history","line","speaker","intent","boundPreds","getCloneOfBoundPredicates","firstPredPrinted","preconditionPred","predicateNLG","intentClass","rawSchema","schema","find","class","mtInfos","types","getMTsFromMostRecentVolitionInfo","sort","score","positiveCompleteString","negativeCompleteString","otherIntentsString","intentKey","firstEffectPrinted","effectPred","emphasizedSubPrompts","configKey","emphasizedSubPrompt","quote","getCharData","initiatorCharacterNotes","responderCharacterNotes","charName","charNote","conditions","second","evaluateRule","getCharacters","success","subPromptLines","processedSubPrompt","subPromptLine","addContextText","mtToString","positiveRules","negativeRules","rule","mts","trueRules","ruleString","volitionRuleToString","possibleRoleBindings","weight","generatePracticeSummary","prs","dialogue","structuredClone","sfdb","getCurrentTimeStep","obj","max","round","_noRepeatTracker","randomNoRepeat","num","lastTime","_iterators","oneOf","arr","safeOp","val","op","iCap","str","printedNumber","s","copy","len","attr","objToText","indentLevel","spaces","isInt","parseFloat","parseInt","item","randomJitter","jitter","lowest","resetIterator","oneOfNoRepeat","randomOrder","workArr","sortedArr","randomIndex","safeAdd","safeMultiply","safeSubtract","safeDivide","iUpper","iLower","titleCase","strList","finalStr","sPos","isOneOf","base","option","listify","ctr","haveSameContents","arr1","arr2","checklist","matchPos","degToRad","PI","radToDeg","roundTo","dec","pow","remap","oldRangeL","oldRangeU","newRangeL","newRangeU","listWriter","_stringList","_separator","_wrapper","separator","wrapper","output","stringList","origLength","ordinalNumber","numAsStr","nl2br","is_xhtml","assert","condition","messageIfFalse","rawHistory","rawMTSet","rawNLG","rawGoals","directoryPath","loadAllData","imports","all","default","responses","jsonData","socialStructure","savedChars","registerSocialType","blueprint","factory","directionType","isBoolean","cloneEachTimeStep","duration","minValue","maxValue","defaultVal","allowIntent","loadSocialStructure","blueprints","structure","parse","SyntaxError","fileName","lineNumber","columnNumber","atLeastOneClassAllowsIntent","classBlueprint","validate","registerDuration","registerDefault","registerDirection","registerIsBoolean","registerMaxValue","registerMinValue","j","typeBlueprint","util","registerSocialStructure","getSortedTurnsTuple","tab","t0Val","t1Val","charNames","getSocialStructure","getClassDescriptors","descriptors","typeName","t","getClassFromType","isValidTypeForClass","cn","addCharacters","charData","chars","characters","objects","tempObject","getCharName","loadBaseBlueprints","bp","clearEverything","loadFile","filename","fileResults","fs","readInFile","readFileSync","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","responseText","open","send","calculateVolition","ruleLibrary","runTriggerRules","ruleToEnglish","predicateToEnglish","pred","authoredNLGForPred","nlg","schemaForPredType","filter","entry","authoredNLG","true","false","highestValidNumber","Number","predValueOrWeight","predString","predicateArrayToEnglish","dumpSFDB","searchPredicate","mostRecentTime","lessRecentTime","turnsAgoBetween","setupNextTimeStep","setCharacterOffstage","putCharacterOffstage","getIsCharacterOffstage","setCharacterOnstage","putCharacterOnstage","getIsCharacterOnstage","setCharacterEliminated","eliminateCharacter","getIsCharacterEliminated","getRegisteredDirection","getAction","actionLibrary","getActions","addActions","parseActions","addHistory","addRules","parsedData","ruleType","rules","conditionValFunc","effectValFunc","ids","triggerCondition","volitionCondition","triggerEffect","volitionEffect","origin","newId","addRuleSet","addProcessedRules","getRules","ruleSetName","getTriggerRules","getVolitionRules","getRuleSet","setRuleById","substring","lastIndexOf","results","getRuleById","deleteRuleById","doAction","registeredVolitions","clearRuleLibrary","webpackEmptyAsyncContext","req","allowedDirTypes","allowedOpsConditions","allowedOpsEffects","allowedTurnConstants","preamble","checkPredicate","isPredBad","predicate","msg","isTypeWrong","isRequired","jsType","dir","isBool","okayOps","operator","res","testTupleEntries","pos","validmsg","intentDirection","comment","remainingKeys","validateInterface","isVolition","effectValidator","conditionValidator","ss","ReactNoopUpdateQueue","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","act","cloneElement","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","checkDCE","currentCast","practices","practiceSummaries","currentPractice","currentRoleBindings","currentStage","currentAction","possibleActions","scoredActionsInfo","scoredMTInfo","defaultPerformanceLine","getPractices","getPracticeByName","practiceName","practiceCount","setCurrentPractice","actionContexts","subject","isEmptyObject","getCurrentStage","setCurrentStage","stages","stageCount","getPossibleActions","getCurrentAction","setCurrentAction","stage","actionCount","selectAction","actionList","maxScore","previousX","previousY","mtCache","schemaEntryForIntent","mt","ruleIndex","scoredRuleInfo","currentMTRuleScore","mtRuleEffectIndex","actionIndex","nowScore","carryScore","actionInfo","parentStage","atLeastPenultimate","getStageByLabel","nextStages","stageName","maxNowRuleScore","nowRoleBinding","roleBinding","roleBindingIndex","currentNowScore","nowIndex","nowRule","nowRuleResult","trueNowRuleTotal","nowEffectIndex","nowRuleInfo","carryRules","carryIndex","carryRule","carryRuleResult","carryEffectIndex","carryRuleInfo","defaultWeight","mtScore","preds","predCount","knownRoleBindings","runAll","objectPresentInARole","onlyCharacterCast","unkownRoles","getUnkownRoles","unboundCast","getUnboundCast","unknownRolesToSearchIndex","objectToArray","setOfAllTrueRoleBindings","searchSpaceExhausted","searchState","allRoleBindings","boundConditions","generateConditionsWithRoleBindings","evaluateConditions","generateRoleBindings","doneSlidingWindow","wi","highestAvailable","nextHighestAvailable","lowestAvailable","unboundCastLength","valsInSearchState","potentialHighestVal","potentialVal","potentialLowestVal","condIndex","boundCondition","convertSearchStateIndexToCastMember","allBindings","searchStateIndex","roleName","unkownRoleBindings","condCount","cond","unknownCast","castCount","castName","found","o","getScoredMTInfo","modifyLeavesRecursively","subtree","actionLabelToAdd","defaultLine","actionLabelsToUpdate","$","each","inArray","markStagesThatNeedUpdating","needsPerformanceTreeUpdate","nextStageName","unmarkStagesThatNeedUpdating","updatePerformanceTreesOfSingleStage","parentStages","mergedParents","parentActionLabels","performanceTree","merged","performanceTreeLabelRename","newLabel","oldLabel","removeOrphanedParentStages","removeOrphanedParents","nextStageLabel","deleteActionFromAllPredecessors","nextStage","deleteActionLabelsFromPerformanceTree","pruneCutFromStage","fromActionLabelsForCut","toActionLabelsForCut","pruneCutFromPerformanceTree","fromLabel","toLabel","pruneLeavesRecursively","actionLabelsToPrune","actionLabelsMarkedForRemoval","markAllCandidateParentsForPerformanceTreeRemoval","markForPerformanceTreeRemoval","parentLabel","unmarkAllCandidateParentsForPerformanceTreeRemoval","generatePerformanceTreeSequences","performanceTreeSequences","subsequence","clonedSubsequence","updateAllPerformanceTreesInPractice","performanceTreesNeedsUpdate","leaves","findLeafStages","leafStage","updateStageAndDependencies","parentStageName","parentAction","copiedMergedParents","performanceTreeLeaves","getPerformanceTreeLeaves","leaf","mergeTreeWithUpdatedSequencesWithExistingTree","entryStagePerformanceTree","innerKey","generatedSubtree","existingSubtree","sequence","cachePerformanceTree","generatedSubtreeKey","clonedSequence","toAppend","appendToEndOfObjectSequence","cachableSubtree","cachedPerfromanceObj","pullFromPerformanceTreeCache","existingSubtreeKey","performanceTreeCache","previous","practiceInterface","resetPracticeSummaries","addPracticeSummary","getPracticeSummaries","setPracticeSummaries","practiceSums","relevantSummaries","testEvaluateRule","launchStage","setPractices","setCast","addPractice","rawPractice","removePractice","getCurrentRoleBindings","getEventStageByLabel","eventStages","getActionByLabel","actionToReturn","getActionByLabelFromAnyPractice","generateActions","considerEventStages","roleBindings","ruleResult","stageActions","actionToPush","entryStages","eventCount","instantiatePerformance","performance","locutions","aunlg","finalPerformance","locution","setBestRoleBindingForAction","applyEffects","effectCount","stageTransition","nextStageCount","transitionStageToTakenActionsStage","inTerminalStage","getActionByName","getScoredActionsInfo","deleteStage","nextIndex","parentIndex","updateStage","oldStageName","newStageName","curStage","updateActionPerformanceTrees","fromStage","toStage","terminalStages","getTerminalStagesThatNeedsPerformanceTreeUpdate","updateActionLabelForAllPerformanceTrees","pruneParentFromPerformanceTree","parentLabelToPrune","childLabel","childStage","getPerformanceTreeSequences","getDefaultPerformanceLine","getAllPossibleBindingsForARole","bindingsForTheRole","binding","castMember","updatePrePerformanceTreeLegacyPractice","getPracticeRecord","getVolitionInfoAsStrings","scoredMTInfos","mtInfoName","ruleInfoInStringForm","predicates","useActualHistory","matchingPreds","startSymbols","nonTerminals","terminalActions","actionAlreadyExists","potentialNewAction","categorizeActionGrammar","actionPool","leadsTo","getSortedActionsFromVolition","registeredVolition","isAccepted","numActionsPerGroup","getTerminalActionsFromVolition","sortActionsByVolitionScore","_","sortBy","reverse","nextActions","goodBindings","descSortedBindings","volition","actionIntent","goodTerminals","returnTerminalList","uniqueBindings","initialGoodBindings","rootAction","getTerminalActionsFromNonTerminal","nonTerminal","actionsPerGroup","returnList","terminalsAtThisLevel","currentUniqueBindings","getUniqueActionBindings","nonTerminalWorkingBindingCombinations","getWorkingBindingCombinations","computeInfluenceRuleWeight","terminalActionParentObject","terminalAction","getTerminalActionFromNameGeneric","lineage","workingBindingCombinations","actionIsAppropriate","salience","computeActionSalience","actionListLength","salienceIndex","nonTerminalAction","diggingDeeperActions","ddActionIndex","thingToAdd","terminalsToPushUpIndex","numConditions","bestWeightFoundSoFar","goodBindingIndex","tempGoodBindings","oldWeight","weight$$","candidateWeight","evaluateActionInfluenceRules","isAccept","actionArray","bindActionEffects2","actionObject","bindingsToUse","availableCastMembers","combinationsToUse","allCastMembers","returnArray","newCombinationsToUse","workingCombinationIndex","castIndex","isFilled","emptyKey","doBinding","updatedCastMembers","potentialCombinations","k","bindActionCondition","bindingToUse","volitionSum","influenceRules","getBestTerminalFromActionList","potentialBestBindings","grabAllTerminals","terminalsFoundDeeper","deeperTerminalRecord","terminalsFoundHere","sortAndBindTerminals","terminalArray","sortedTerminals","bestBindings","getBestBindingFromTerminal","actionLibraryInterface","parsedActions","actionsToCategorize","getAllActions","getActionFromName","getStartSymbols","getNonTerminals","getTerminalActions","clearActionLibrary","volitionInstance","getFirst","accepted","getNext","numIntents","numActionsPerIntent","intentsRepresented","numActionsFromThisIntent","thisIntentCountedYet","allTerminals","_ref","_volitionInfoAsString","onClose","_jsxs","consideration","description","_Fragment","pIndex","_cifInterface$practic2","selectedActionInfo","setSelectedActionInfo","practiceDialogueHistory","lineInfo","effectPredicateTexts","effect","getNextActor","_cifInterface$practic","handleInfoClick","ActionInfoOverlay","volitionCache","cachePositions","getFirstVolition","from","to","vSet","getNextVolition","cachePositionsKey","returnObject","thisV","reasonsWhy","volitionInterface","newSet","volitionShell","register","volitions","vSort","castLength","getWeight","tempPredicates","checkNextPredicate","dump","useGeneratedDialgoue","useGeneratedPracticeSummaries","mostRecentVolitionInfo","simulationName","launchPractice","entryStage","actionInfos","performAction","effectsStateEffectText","prsObj","initializeCiF","socialPractices","rawRuleSet","microtheories","subPromptType","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","jsxProd","maybeKey","jsx","jsxs","getElementById","matchedResults","matchedResultsStrings","currentTimeStep","defaultValues","maxValues","minValues","directions","isBooleans","durations","offstageCharacters","eliminatedCharacters","getRegisteredMaxValue","getRegisteredMinValue","getRegisteredDuration","getRegisteredIsBoolean","timeStep","timeHappened","checkValueMatch","sfdbValue","searchValue","addResult","predicateRef","addAsReference","matchResult","hash","predicateHash","checkForDefaultMatch","isBooleanPred","tempBoolPred","tempPred","useDefaultValue","foundPatternMatch","foundAnySFDBTimesteps","sfdbPredicate","sortedKeys","setPredicate","pattern","isReciprocal","searchResult","rPred","recipPredicate","recipSearchResult","sfdbHistoryToString","historyString","removeAllSocialFactsFromCharacter","removeDirectedSocialFacts","removeReciprocalSocialFacts","removeUndirectedSocialFacts","indicesToRemove","socialFact","sfdbInterface","initialTimeStep","getSFDBCopyAtTimestep","getRegisteredDefault","clearHistory","earliestTime","latestTime","lastPos","historyAtTime","sfdbFullHistoryToString","returnString","indexInOffstage","getOffstageCharacters","getEliminatedCharacters","getLength","getLengthAtTimeStep","timestep","heap","peek","halfLength","leftIndex","rightIndex","right","diff","sortIndex","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_continueExecution","unstable_forceFrameRate","fps","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","trigger","runRules","ruleSet","onMatchFunction","params","unaffectedCharacters","allPredicates","getUniqueBindings","matchUniqueBindings","ruleConditions","dictionary","processResult","boundEffects","atLeastOneGoodEffect","conditionsAreTrue","conditionsArray","sortedConditions","sortConditionsByOrder","orderCounter","timeStart","timeEnd","timeOfLastMatch","largerRelTime","smallerRelTime","searchCondition","nonOrderConditions","orderConditions","resultsArray","isEffectValid","charactersToIgnore","ruleIndexes","addRule","isRuleAlreadyInRuleSet","storedRule","areRulesEqual","arePredicatesEqual","pred1","pred2","rule1","rule2","isEffect","addPhrase","optMeta","ph","meta","nameFirst","nameSecond","predType","directionWord","isWord","notWord","hasWord","timeLatest","intentWord","sign","helper","resultObj","diagram","_alterRule","lib","ind","posOfDyingRule","posOfFinalRule","finalRuleId","ruleLibraryInterface","charactersToNotBeTheSubjectOrObjectOfTriggerRules","triggerObj","explanation","effectNumber","lastNumber","inCharMsgs","explanations","calculatedVolitions","charactersToSkipVolitionCalculation","skipToNextPredicate","direction","lengthOfPairsEffectsArray","englishInfluences","englishData","englishInfluence","currentVolition","getRuleSetNames","ruleSetNames","onSelectButtonClicked","disabledCharacter","selectedCharacter","setSelectedCharacter","handleSelect","onSelectPractice","CharacterSelector","PracticeSelector","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","webpackQueues","webpackExports","webpackError","resolveQueue","hasAwait","currentDeps","outerResolve","depQueues","promise","rej","dep","ret","wrapDeps","getResult","fnQueue","q","definition","prop","toStringTag"],"sourceRoot":""}